{"version":3,"file":"hue-9a7a1348-bundle-3c690b33b5f47cc0d68b.js","sources":["webpack:///./desktop/core/src/desktop/js/nvd3/nv.all.js","webpack:///./desktop/core/src/desktop/js/nvd3/nv.d3.growingDiscreteBar.js","webpack:///./desktop/core/src/desktop/js/nvd3/nv.d3.growingDiscreteBarChart.js","webpack:///./desktop/core/src/desktop/js/nvd3/nv.d3.growingMultiBar.js","webpack:///./desktop/core/src/desktop/js/nvd3/nv.d3.growingMultiBarChart.js","webpack:///./desktop/core/src/desktop/js/nvd3/nv.d3.growingPie.js","webpack:///./desktop/core/src/desktop/js/nvd3/nv.d3.growingPieChart.js","webpack:///./desktop/core/src/desktop/js/nvd3/nv.d3.legend.js","webpack:///./desktop/core/src/desktop/js/nvd3/nv.d3.lineWithBrushChart.js","webpack:///./desktop/core/src/desktop/js/nvd3/nv.d3.multiBarWithBrushChart.js","webpack:///./desktop/core/src/desktop/js/onePageViewModel.js","webpack:///./desktop/core/src/desktop/js/parse/globalSearchParser.js","webpack:///./desktop/core/src/desktop/js/parse/hplsqlStatementsParser.js","webpack:///./desktop/core/src/desktop/js/parse/parserTypeDefs.js","webpack:///./desktop/core/src/desktop/js/parse/solrFormulaParser.js","webpack:///./desktop/core/src/desktop/js/parse/solrQueryParser.js","webpack:///./desktop/core/src/desktop/js/parse/sql/sqlParserRepository.ts","webpack:///./desktop/core/src/desktop/js/parse/sqlParseSupport.js","webpack:///./desktop/core/src/desktop/js/parse/sqlStatementsParser.js","webpack:///./desktop/core/src/desktop/js/parse/utils.ts","webpack:///./desktop/core/src/desktop/js/sidePanelViewModel.js","webpack:///./desktop/core/src/desktop/js/sql/autocompleteResults.js","webpack:///./desktop/core/src/desktop/js/sql/reference/apiCache.ts","webpack:///./desktop/core/src/desktop/js/sql/reference/apiUtils.ts","webpack:///./desktop/core/src/desktop/js/sql/reference/generic/typeConversion.ts","webpack:///./desktop/core/src/desktop/js/sql/reference/hive/typeConversion.ts","webpack:///./desktop/core/src/desktop/js/sql/reference/impala/typeConversion.ts","webpack:///./desktop/core/src/desktop/js/sql/reference/sqlReferenceRepository.ts","webpack:///./desktop/core/src/desktop/js/sql/reference/sqlUdfRepository.ts","webpack:///./desktop/core/src/desktop/js/sql/reference/typeUtils.ts","webpack:///./desktop/core/src/desktop/js/sql/sqlAutocompleter.js","webpack:///./desktop/core/src/desktop/js/sql/sqlUtils.ts","webpack:///./desktop/core/src/desktop/js/sql/stringDistance.js","webpack:///./desktop/core/src/desktop/js/sql/workers/events.ts","webpack:///./desktop/core/src/desktop/js/sql/workers/hueWorkerHandler.ts","webpack:///./desktop/core/src/desktop/js/sql/workers/registrationUtils.ts","webpack:///./desktop/core/src/desktop/js/topNavViewModel.js"],"sourcesContent":["// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport nv from \"../ext/nv.d3.1.1.15b.custom\";\nimport \"./nv.d3.growingDiscreteBar\";\nimport \"./nv.d3.growingDiscreteBarChart\";\nimport \"./nv.d3.growingMultiBar\";\nimport \"./nv.d3.growingMultiBarChart\";\nimport \"./nv.d3.growingPie\";\nimport \"./nv.d3.growingPieChart\";\nimport \"./nv.d3.legend\";\nimport \"./nv.d3.lineWithBrushChart\";\nimport \"./nv.d3.multiBarWithBrushChart\";\nexport default nv;","// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport $ from 'jquery';\nimport d3v3 from 'd3v3';\nimport nv from \"../ext/nv.d3.1.1.15b.custom\"; //TODO: consider deprecating by adding necessary features to multiBar model\n\nnv.models.growingDiscreteBar = function () {\n  'use strict'; //============================================================\n  // Public Variables with Default Settings\n  //------------------------------------------------------------\n\n  var margin = {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n\n  var width = 960,\n      height = 500,\n      id = Math.floor(Math.random() * 10000),\n      //Create semi-unique ID in case user doesn't select one\n  x = d3v3.scale.ordinal(),\n      y = d3v3.scale.linear(),\n      getX = function getX(d) {\n    return d.x;\n  },\n      getY = function getY(d) {\n    return d.y;\n  },\n      forceY = [0],\n      // 0 is forced by default.. this makes sense for the majority of bar graphs... user can always do chart.forceY([]) to remove\n  color = nv.utils.defaultColor(),\n      showValues = false,\n      valueFormat = d3v3.format(',.2f'),\n      xDomain,\n      yDomain,\n      xRange,\n      yRange,\n      rectClass = 'discreteBar',\n      selectBars = null;\n\n  var dispatch = d3v3.dispatch('chartClick', 'elementClick', 'elementDblClick', 'elementMouseover', 'elementMouseout'); //============================================================\n  //============================================================\n  // Private Variables\n  //------------------------------------------------------------\n\n  var x0, y0; //============================================================\n\n  function chart(selection) {\n    selection.each(function (data) {\n      var availableWidth = width - margin.left - margin.right,\n          availableHeight = height - margin.top - margin.bottom,\n          container = d3v3.select(this); //add series index to each data point for reference\n\n      data.forEach(function (series, i) {\n        series.values.forEach(function (point) {\n          point.series = i;\n          point.seriesKey = series.key;\n        });\n      }); //------------------------------------------------------------\n      // Setup Scales\n      // remap and flatten the data for use in calculating the scales' domains\n\n      var seriesData = xDomain && yDomain ? [] // if we know xDomain and yDomain, no need to calculate\n      : data.map(function (d) {\n        return d.values.map(function (d, i) {\n          return {\n            x: getX(d, i),\n            y: getY(d, i),\n            y0: d.y0\n          };\n        });\n      });\n      x.domain(xDomain || d3v3.merge(seriesData).map(function (d) {\n        return d.x;\n      })).rangeBands(xRange || [0, availableWidth], 0.1);\n      y.domain(yDomain || d3v3.extent(d3v3.merge(seriesData).map(function (d) {\n        return d.y;\n      }).concat(forceY))); // If showValues, pad the Y axis range to account for label height\n\n      if (showValues) {\n        y.range(yRange || [availableHeight - (y.domain()[0] < 0 ? 12 : 0), y.domain()[1] > 0 ? 12 : 0]);\n      } else {\n        y.range(yRange || [availableHeight, 0]);\n      } //store old scales if they exist\n\n\n      x0 = x0 || x;\n      y0 = y0 || y.copy().range([y(0), y(0)]); //------------------------------------------------------------\n      //------------------------------------------------------------\n      // Setup containers and skeleton of chart\n\n      var wrap = container.selectAll('g.nv-wrap.nv-discretebar').data([data]);\n      var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-discretebar');\n      var gEnter = wrapEnter.append('g');\n      wrap.select('g');\n      gEnter.append('g').attr('class', 'nv-groups');\n      wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); //------------------------------------------------------------\n      //TODO: by definition, the discrete bar should not have multiple groups, will modify/remove later\n\n      var groups = wrap.select('.nv-groups').selectAll('.nv-group').data(function (d) {\n        return d;\n      }, function (d) {\n        return d.key;\n      });\n      groups.enter().append('g').style('stroke-opacity', 1e-6).style('fill-opacity', 1e-6);\n      groups.exit().transition().style('stroke-opacity', 1e-6).style('fill-opacity', 1e-6).remove();\n      groups.attr('class', function (d, i) {\n        return 'nv-group nv-series-' + i;\n      }).classed('hover', function (d) {\n        return d.hover;\n      });\n      groups.transition().style('stroke-opacity', 1).style('fill-opacity', 0.75);\n      var bars = groups.selectAll('g.nv-bar').data(function (d) {\n        return d.values;\n      }).classed('selected', false);\n      bars.exit().remove();\n\n      selectBars = function selectBars(selected) {\n        $(selected).each(function (cnt, item) {\n          bars.each(function (d) {\n            if (d.x === item) {\n              d3v3.select(this).classed('selected', true);\n            }\n          });\n        });\n      };\n\n      var barsEnter = bars.enter().append('g').attr('transform', function (d, i) {\n        return 'translate(' + (x(getX(d, i)) + x.rangeBand() * 0.05) + ', ' + y(0) + ')';\n      }).on('mouseover', function (d, i) {\n        //TODO: figure out why j works above, but not here\n        d3v3.select(this).classed('hover', true);\n        dispatch.elementMouseover({\n          value: getY(d, i),\n          point: d,\n          series: data[d.series],\n          pos: [x(getX(d, i)) + x.rangeBand() * (d.series + 0.5) / data.length, y(getY(d, i))],\n          // TODO: Figure out why the value appears to be shifted\n          pointIndex: i,\n          seriesIndex: d.series,\n          e: d3v3.event\n        });\n      }).on('mouseout', function (d, i) {\n        d3v3.select(this).classed('hover', false);\n        dispatch.elementMouseout({\n          value: getY(d, i),\n          point: d,\n          series: data[d.series],\n          pointIndex: i,\n          seriesIndex: d.series,\n          e: d3v3.event\n        });\n      }).on('click', function (d, i) {\n        dispatch.elementClick({\n          value: getY(d, i),\n          point: d,\n          series: data[d.series],\n          pos: [x(getX(d, i)) + x.rangeBand() * (d.series + 0.5) / data.length, y(getY(d, i))],\n          // TODO: Figure out why the value appears to be shifted\n          pointIndex: i,\n          seriesIndex: d.series,\n          e: d3v3.event\n        });\n        d3v3.event.stopPropagation();\n      }).on('dblclick', function (d, i) {\n        dispatch.elementDblClick({\n          value: getY(d, i),\n          point: d,\n          series: data[d.series],\n          pos: [x(getX(d, i)) + x.rangeBand() * (d.series + 0.5) / data.length, y(getY(d, i))],\n          // TODO: Figure out why the value appears to be shifted\n          pointIndex: i,\n          seriesIndex: d.series,\n          e: d3v3.event\n        });\n        d3v3.event.stopPropagation();\n      });\n      barsEnter.append('rect').attr('height', 0).attr('x', function (d, i, j) {\n        return j * x.rangeBand() / data.length;\n      }).attr('width', x.rangeBand() / data.length);\n\n      if (showValues) {\n        barsEnter.append('text').attr('text-anchor', 'middle');\n        bars.select('text').text(function (d, i) {\n          return valueFormat(getY(d, i));\n        }).transition().attr('x', function (d, i, j) {\n          return j * x.rangeBand() / data.length + x.rangeBand() * 0.9 / data.length / 2;\n        }).attr('y', function (d, i) {\n          return getY(d, i) < 0 ? y(getY(d, i)) - y(0) + 12 : -4;\n        });\n      } else {\n        bars.selectAll('text').remove();\n      }\n\n      bars.attr('class', function (d, i) {\n        return getY(d, i) < 0 ? 'nv-bar negative' : 'nv-bar positive';\n      }).style('fill', function (d, i) {\n        return d.color || color(d, i);\n      }).style('stroke', function (d, i) {\n        return d.color || color(d, i);\n      }).select('rect').attr('class', rectClass).transition().attr('x', function (d) {\n        return d.series * x.rangeBand() / data.length;\n      }).attr('width', x.rangeBand() / data.length * 0.9);\n      bars.transition().attr('transform', function (d, i) {\n        var left = x(getX(d, i)) + x.rangeBand() * 0.05,\n            top = getY(d, i) < 0 ? y(0) : y(0) - y(getY(d, i)) < 1 ? y(0) - 1 //make 1 px positive bars show up above y=0\n        : y(getY(d, i));\n        return 'translate(' + left + ', ' + top + ')';\n      }).select('rect').attr('height', function (d, i) {\n        return Math.max(Math.abs(y(getY(d, i)) - y(yDomain && yDomain[0] || 0)) || 1);\n      }); //store old scales for use in transitions on update\n\n      x0 = x.copy();\n      y0 = y.copy();\n    });\n    return chart;\n  } //============================================================\n  // Expose Public Variables\n  //------------------------------------------------------------\n\n\n  chart.dispatch = dispatch;\n  chart.options = nv.utils.optionsFunc.bind(chart);\n\n  chart.x = function (val) {\n    if (!arguments.length) {\n      return getX;\n    }\n\n    getX = val;\n    return chart;\n  };\n\n  chart.y = function (val) {\n    if (!arguments.length) {\n      return getY;\n    }\n\n    getY = val;\n    return chart;\n  };\n\n  chart.margin = function (val) {\n    if (!arguments.length) {\n      return margin;\n    }\n\n    margin.top = typeof val.top != 'undefined' ? val.top : margin.top;\n    margin.right = typeof val.right != 'undefined' ? val.right : margin.right;\n    margin.bottom = typeof val.bottom != 'undefined' ? val.bottom : margin.bottom;\n    margin.left = typeof val.left != 'undefined' ? val.left : margin.left;\n    return chart;\n  };\n\n  chart.width = function (val) {\n    if (!arguments.length) {\n      return width;\n    }\n\n    width = val;\n    return chart;\n  };\n\n  chart.height = function (val) {\n    if (!arguments.length) {\n      return height;\n    }\n\n    height = val;\n    return chart;\n  };\n\n  chart.xScale = function (val) {\n    if (!arguments.length) {\n      return x;\n    }\n\n    x = val;\n    return chart;\n  };\n\n  chart.yScale = function (val) {\n    if (!arguments.length) {\n      return y;\n    }\n\n    y = val;\n    return chart;\n  };\n\n  chart.xDomain = function (val) {\n    if (!arguments.length) {\n      return xDomain;\n    }\n\n    xDomain = val;\n    return chart;\n  };\n\n  chart.yDomain = function (val) {\n    if (!arguments.length) {\n      return yDomain;\n    }\n\n    yDomain = val;\n    return chart;\n  };\n\n  chart.xRange = function (val) {\n    if (!arguments.length) {\n      return xRange;\n    }\n\n    xRange = val;\n    return chart;\n  };\n\n  chart.yRange = function (val) {\n    if (!arguments.length) {\n      return yRange;\n    }\n\n    yRange = val;\n    return chart;\n  };\n\n  chart.forceY = function (val) {\n    if (!arguments.length) {\n      return forceY;\n    }\n\n    forceY = val;\n    return chart;\n  };\n\n  chart.color = function (val) {\n    if (!arguments.length) {\n      return color;\n    }\n\n    color = nv.utils.getColor(val);\n    return chart;\n  };\n\n  chart.id = function (val) {\n    if (!arguments.length) {\n      return id;\n    }\n\n    id = val;\n    return chart;\n  };\n\n  chart.showValues = function (val) {\n    if (!arguments.length) {\n      return showValues;\n    }\n\n    showValues = val;\n    return chart;\n  };\n\n  chart.valueFormat = function (val) {\n    if (!arguments.length) {\n      return valueFormat;\n    }\n\n    valueFormat = val;\n    return chart;\n  };\n\n  chart.rectClass = function (val) {\n    if (!arguments.length) {\n      return rectClass;\n    }\n\n    rectClass = val;\n    return chart;\n  };\n\n  chart.selectBars = function (args) {\n    if (!arguments.length) {\n      return selectBars;\n    }\n\n    selectBars(args);\n    return chart;\n  }; //============================================================\n\n\n  return chart;\n};","// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport $ from 'jquery';\nimport d3v3 from 'd3v3';\nimport nv from \"../ext/nv.d3.1.1.15b.custom\";\n\nnv.models.growingDiscreteBarChart = function () {\n  'use strict'; //============================================================\n  // Public Variables with Default Settings\n  //------------------------------------------------------------\n\n  var discretebar = nv.models.growingDiscreteBar(),\n      xAxis = nv.models.axis(),\n      yAxis = nv.models.axis();\n  var margin = {\n    top: 15,\n    right: 10,\n    bottom: 50,\n    left: 60\n  };\n\n  var width = null,\n      height = null,\n      color = nv.utils.getColor(),\n      showXAxis = true,\n      showYAxis = true,\n      rightAlignYAxis = false,\n      staggerLabels = false,\n      tooltips = true,\n      tooltip = function tooltip(key, x, y) {\n    return '<h3>' + key + '</h3>' + '<p>' + y + ' on ' + x + '</p>';\n  },\n      x,\n      y,\n      noData = 'No Data Available.',\n      transitionDuration = 250,\n      selectBars = null;\n\n  xAxis.orient('bottom').highlightZero(false).showMaxMin(false).tickFormat(function (d) {\n    return d;\n  });\n  var dispatch = d3v3.dispatch('tooltipShow', 'tooltipHide', 'beforeUpdate');\n  yAxis.orient(rightAlignYAxis ? 'right' : 'left').tickFormat(d3v3.format(',.1f')); //============================================================\n  //============================================================\n  // Private Variables\n  //------------------------------------------------------------\n\n  var showTooltip = function showTooltip(e, offsetElement) {\n    var left = $.browser.msie && $.browser.version.indexOf('9.') > -1 ? e.e.clientX : e.e.layerX,\n        top = e.pos[1] + (offsetElement.offsetTop || 0),\n        x = xAxis.tickFormat()(discretebar.x()(e.point, e.pointIndex)),\n        y = yAxis.tickFormat()(discretebar.y()(e.point, e.pointIndex)),\n        content = tooltip(e.point.seriesKey, x, y, e, chart);\n    nv.tooltip.show([left, top], content, e.value < 0 ? 'n' : 's', null, offsetElement);\n  }; //============================================================\n\n\n  function chart(selection) {\n    selection.each(function (data) {\n      var container = d3v3.select(this),\n          that = this;\n      var availableWidth = (width || parseInt(container.style('width')) || 960) - margin.left - margin.right,\n          availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom;\n\n      chart.update = function () {\n        dispatch.beforeUpdate();\n        container.transition().duration(transitionDuration).call(chart);\n      };\n\n      chart.container = this; //------------------------------------------------------------\n      // Display No Data message if there's nothing to show.\n\n      if (!data || !data.length || !data.filter(function (d) {\n        return d.values.length;\n      }).length) {\n        var noDataText = container.selectAll('.nv-noData').data([noData]);\n        noDataText.enter().append('text').attr('class', 'nvd3 nv-noData').attr('dy', '-.7em').style('text-anchor', 'middle');\n        noDataText.attr('x', margin.left + availableWidth / 2).attr('y', margin.top + availableHeight / 2).text(function (d) {\n          return d;\n        });\n        container.selectAll('.nv-discreteBarWithAxes').style('visibility', 'hidden');\n        container.selectAll('.nv-noData').style('visibility', 'visible');\n        return chart;\n      } else {\n        container.selectAll('.nv-discreteBarWithAxes').style('visibility', 'visible');\n        container.selectAll('.nv-noData').style('visibility', 'hidden');\n      } //------------------------------------------------------------\n      //------------------------------------------------------------\n      // Setup Scales\n\n\n      x = discretebar.xScale();\n      y = discretebar.yScale().clamp(true); //------------------------------------------------------------\n      //------------------------------------------------------------\n      // Setup containers and skeleton of chart\n\n      var wrap = container.selectAll('g.nv-wrap.nv-discreteBarWithAxes').data([data]);\n      var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-discreteBarWithAxes').append('g');\n      var defsEnter = gEnter.append('defs');\n      var g = wrap.select('g');\n      gEnter.append('g').attr('class', 'nv-x nv-axis');\n      gEnter.append('g').attr('class', 'nv-y nv-axis').append('g').attr('class', 'nv-zeroLine').append('line');\n      gEnter.append('g').attr('class', 'nv-barsWrap');\n      g.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n\n      if (rightAlignYAxis) {\n        g.select('.nv-y.nv-axis').attr('transform', 'translate(' + availableWidth + ',0)');\n      } //------------------------------------------------------------\n      //------------------------------------------------------------\n      // Main Chart Component(s)\n\n\n      discretebar.width(availableWidth).height(availableHeight);\n      selectBars = discretebar.selectBars;\n      var barsWrap = g.select('.nv-barsWrap').datum(data.filter(function (d) {\n        return !d.disabled;\n      }));\n      barsWrap.transition().call(discretebar); //------------------------------------------------------------\n\n      defsEnter.append('clipPath').attr('id', 'nv-x-label-clip-' + discretebar.id()).append('rect');\n      g.select('#nv-x-label-clip-' + discretebar.id() + ' rect').attr('width', x.rangeBand() * (staggerLabels ? 2 : 1)).attr('height', 16).attr('x', -x.rangeBand() / (staggerLabels ? 1 : 2)); //------------------------------------------------------------\n      // Setup Axes\n\n      if (showXAxis) {\n        xAxis.scale(x).ticks(availableWidth / 100).tickSize(-availableHeight, 0);\n        g.select('.nv-x.nv-axis').attr('transform', 'translate(0,' + (y.range()[0] + (discretebar.showValues() && y.domain()[0] < 0 ? 16 : 0)) + ')'); //d3v3.transition(g.select('.nv-x.nv-axis'))\n\n        g.select('.nv-x.nv-axis').transition().call(xAxis);\n        var xTicks = g.select('.nv-x.nv-axis').selectAll('g');\n\n        if (staggerLabels) {\n          var rangeBand = x.rangeBand();\n          xTicks.selectAll('text').attr('transform', function (d, i, j) {\n            var self = d3v3.select(this);\n            var textLength = self.node().getComputedTextLength(),\n                text = self.text();\n\n            while (textLength > rangeBand * 2 && text.length > 0) {\n              text = text.slice(0, -1);\n              self.text(text + '...');\n              textLength = self.node().getComputedTextLength();\n\n              if (self.text() === '...') {\n                self.text(' ');\n                textLength = 0;\n              }\n            }\n\n            return 'translate(0,' + (j % 2 === 0 ? '5' : '17') + ')';\n          });\n        }\n      }\n\n      if (showYAxis) {\n        yAxis.scale(y).ticks(availableHeight / 36).tickSize(-availableWidth, 0);\n        g.select('.nv-y.nv-axis').transition().call(yAxis);\n      } // Zero line\n\n\n      g.select('.nv-zeroLine line').attr('x1', 0).attr('x2', availableWidth).attr('y1', y(0)).attr('y2', y(0)); //------------------------------------------------------------\n      //============================================================\n      // Event Handling/Dispatching (in chart's scope)\n      //------------------------------------------------------------\n\n      dispatch.on('tooltipShow', function (e) {\n        if (tooltips) {\n          showTooltip(e, that.parentNode);\n        }\n      }); //============================================================\n    });\n    return chart;\n  } //============================================================\n  // Event Handling/Dispatching (out of chart's scope)\n  //------------------------------------------------------------\n\n\n  discretebar.dispatch.on('elementMouseover.tooltip', function (e) {\n    e.pos = [e.pos[0] + margin.left, e.pos[1] + margin.top];\n    dispatch.tooltipShow(e);\n  });\n  discretebar.dispatch.on('elementMouseout.tooltip', function (e) {\n    dispatch.tooltipHide(e);\n  });\n  dispatch.on('tooltipHide', function () {\n    if (tooltips) {\n      nv.tooltip.cleanup();\n    }\n  }); //============================================================\n  //============================================================\n  // Expose Public Variables\n  //------------------------------------------------------------\n  // expose chart's sub-components\n\n  chart.dispatch = dispatch;\n  chart.discretebar = discretebar;\n  chart.xAxis = xAxis;\n  chart.yAxis = yAxis;\n  d3v3.rebind(chart, discretebar, 'x', 'y', 'xDomain', 'yDomain', 'xRange', 'yRange', 'forceX', 'forceY', 'id', 'showValues', 'valueFormat');\n  chart.options = nv.utils.optionsFunc.bind(chart);\n\n  chart.margin = function (_) {\n    if (!arguments.length) {\n      return margin;\n    }\n\n    margin.top = typeof _.top != 'undefined' ? _.top : margin.top;\n    margin.right = typeof _.right != 'undefined' ? _.right : margin.right;\n    margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom;\n    margin.left = typeof _.left != 'undefined' ? _.left : margin.left;\n    return chart;\n  };\n\n  chart.width = function (_) {\n    if (!arguments.length) {\n      return width;\n    }\n\n    width = _;\n    return chart;\n  };\n\n  chart.height = function (_) {\n    if (!arguments.length) {\n      return height;\n    }\n\n    height = _;\n    return chart;\n  };\n\n  chart.color = function (_) {\n    if (!arguments.length) {\n      return color;\n    }\n\n    color = nv.utils.getColor(_);\n    discretebar.color(color);\n    return chart;\n  };\n\n  chart.showXAxis = function (_) {\n    if (!arguments.length) {\n      return showXAxis;\n    }\n\n    showXAxis = _;\n    return chart;\n  };\n\n  chart.showYAxis = function (_) {\n    if (!arguments.length) {\n      return showYAxis;\n    }\n\n    showYAxis = _;\n    return chart;\n  };\n\n  chart.rightAlignYAxis = function (_) {\n    if (!arguments.length) {\n      return rightAlignYAxis;\n    }\n\n    rightAlignYAxis = _;\n    yAxis.orient(_ ? 'right' : 'left');\n    return chart;\n  };\n\n  chart.staggerLabels = function (_) {\n    if (!arguments.length) {\n      return staggerLabels;\n    }\n\n    staggerLabels = _;\n    return chart;\n  };\n\n  chart.tooltips = function (_) {\n    if (!arguments.length) {\n      return tooltips;\n    }\n\n    tooltips = _;\n    return chart;\n  };\n\n  chart.tooltipContent = function (_) {\n    if (!arguments.length) {\n      return tooltip;\n    }\n\n    tooltip = _;\n    return chart;\n  };\n\n  chart.noData = function (_) {\n    if (!arguments.length) {\n      return noData;\n    }\n\n    noData = _;\n    return chart;\n  };\n\n  chart.transitionDuration = function (_) {\n    if (!arguments.length) {\n      return transitionDuration;\n    }\n\n    transitionDuration = _;\n    return chart;\n  };\n\n  chart.selectBars = function (args) {\n    if (!arguments.length) {\n      return selectBars;\n    }\n\n    if (selectBars) {\n      selectBars(args);\n    }\n\n    return chart;\n  }; //============================================================\n\n\n  return chart;\n};","// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport $ from 'jquery';\nimport d3v3 from 'd3v3';\nimport * as ko from 'knockout';\nimport nv from \"../ext/nv.d3.1.1.15b.custom\";\n\nnv.models.growingMultiBar = function () {\n  'use strict'; //============================================================\n  // Public Variables with Default Settings\n  //------------------------------------------------------------\n\n  var margin = {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n\n  var width = 960,\n      height = 500,\n      x = d3v3.scale.ordinal(),\n      y = d3v3.scale.linear(),\n      id = Math.floor(Math.random() * 10000),\n      //Create semi-unique ID in case user doesn't select one\n  getX = function getX(d) {\n    return d.x;\n  },\n      getY = function getY(d) {\n    return d.y;\n  },\n      forceY = [0],\n      // 0 is forced by default.. this makes sense for the majority of bar graphs... user can always do chart.forceY([]) to remove\n  clipEdge = true,\n      stacked = false,\n      stackOffset = 'zero',\n      // options include 'silhouette', 'wiggle', 'expand', 'zero', or a custom function\n  color = nv.utils.defaultColor(),\n      hideable = false,\n      barColor = null,\n      // adding the ability to set the color for each rather than the whole group\n  disabled,\n      // used in conjunction with barColor to communicate from multiBarHorizontalChart what series are disabled\n  delay = 0,\n      xDomain,\n      yDomain,\n      xRange,\n      yRange,\n      groupSpacing = 0.1,\n      selectBars = null;\n\n  var dispatch = d3v3.dispatch('chartClick', 'elementClick', 'elementDblClick', 'elementMouseover', 'elementMouseout'); //============================================================\n  //============================================================\n  // Private Variables\n  //------------------------------------------------------------\n\n  var x0, y0; //used to store previous scales\n  //============================================================\n\n  function chart(selection) {\n    selection.each(function (data) {\n      var availableWidth = width - margin.left - margin.right,\n          availableHeight = height - margin.top - margin.bottom,\n          container = d3v3.select(this);\n\n      if (hideable && data.length) {\n        hideable = [{\n          values: data[0].values.map(function (d) {\n            return {\n              x: d.x,\n              y: 0,\n              series: d.series,\n              size: 0.01\n            };\n          })\n        }];\n      }\n\n      if (stacked) {\n        data = d3v3.layout.stack().offset(stackOffset).values(function (d) {\n          return d.values;\n        }).y(getY)(!data.length && hideable ? hideable : data);\n      } //add series index to each data point for reference\n\n\n      data.forEach(function (series, i) {\n        series.values.forEach(function (point) {\n          point.series = i;\n          point.seriesKey = series.key;\n        });\n      }); //------------------------------------------------------------\n      // HACK for negative value stacking\n\n      if (stacked) {\n        data[0].values.map(function (d, i) {\n          var posBase = 0,\n              negBase = 0;\n          data.map(function (d) {\n            var f = d.values[i];\n\n            if (typeof f != 'undefined') {\n              f.size = Math.abs(f.y);\n\n              if (f.y < 0) {\n                f.y1 = negBase;\n                negBase = negBase - f.size;\n              } else {\n                f.y1 = f.size + posBase;\n                posBase = posBase + f.size;\n              }\n            }\n          });\n        });\n      } //------------------------------------------------------------\n      // Setup Scales\n      // remap and flatten the data for use in calculating the scales' domains\n\n\n      var seriesData = xDomain && yDomain ? [] // if we know xDomain and yDomain, no need to calculate\n      : data.map(function (d) {\n        return d.values.map(function (d, i) {\n          return {\n            x: getX(d, i),\n            y: getY(d, i),\n            y0: d.y0,\n            y1: d.y1\n          };\n        });\n      });\n      x.domain(xDomain || d3v3.merge(seriesData).map(function (d) {\n        return d.x;\n      })).rangeBands(xRange || [0, availableWidth], groupSpacing); //y   .domain(yDomain || d3v3.extent(d3v3.merge(seriesData).map(function(d) { return d.y + (stacked ? d.y1 : 0) }).concat(forceY)))\n\n      y.domain(yDomain || d3v3.extent(d3v3.merge(seriesData).map(function (d) {\n        return stacked ? d.y > 0 ? d.y1 : d.y1 + d.y : d.y;\n      }).concat(forceY))).range(yRange || [availableHeight, 0]); // If scale's domain don't have a range, slightly adjust to make one... so a chart can show a single data point\n\n      if (x.domain()[0] === x.domain()[1]) {\n        x.domain()[0] ? x.domain([x.domain()[0] - x.domain()[0] * 0.01, x.domain()[1] + x.domain()[1] * 0.01]) : x.domain([-1, 1]);\n      }\n\n      if (y.domain()[0] === y.domain()[1]) {\n        y.domain()[0] ? y.domain([y.domain()[0] + y.domain()[0] * 0.01, y.domain()[1] - y.domain()[1] * 0.01]) : y.domain([-1, 1]);\n      }\n\n      x0 = x0 || x;\n      y0 = y0 || y; //------------------------------------------------------------\n      //------------------------------------------------------------\n      // Setup containers and skeleton of chart\n\n      var wrap = container.selectAll('g.nv-wrap.nv-multibar').data([data]);\n      var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-multibar');\n      var defsEnter = wrapEnter.append('defs');\n      var gEnter = wrapEnter.append('g');\n      var g = wrap.select('g');\n      gEnter.append('g').attr('class', 'nv-groups');\n      wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); //------------------------------------------------------------\n\n      defsEnter.append('clipPath').attr('id', 'nv-edge-clip-' + id).append('rect');\n      wrap.select('#nv-edge-clip-' + id + ' rect').attr('width', availableWidth).attr('height', nv.utils.NaNtoZero(availableHeight) >= 0 ? nv.utils.NaNtoZero(availableHeight) : 0);\n      g.attr('clip-path', clipEdge ? 'url(#nv-edge-clip-' + id + ')' : '');\n      var groups = wrap.select('.nv-groups').selectAll('.nv-group').data(function (d) {\n        return d;\n      }, function (d, i) {\n        return i;\n      });\n      groups.enter().append('g').style('stroke-opacity', 1e-6).style('fill-opacity', 1e-6);\n      groups.exit().transition().selectAll('rect.nv-bar').delay(function (d, i) {\n        return i * delay / data[0].values.length;\n      }).attr('y', function (d) {\n        return stacked ? y0(d.y0) : y0(0);\n      }).attr('height', 0).remove();\n      groups.attr('class', function (d, i) {\n        return 'nv-group nv-series-' + i;\n      }).classed('hover', function (d) {\n        return d.hover;\n      }).style('fill', function (d, i) {\n        return color(d, i);\n      }).style('stroke', function (d, i) {\n        return color(d, i);\n      });\n      groups.transition().style('stroke-opacity', 1).style('fill-opacity', 0.75);\n      var bars = groups.selectAll('rect.nv-bar').data(function (d) {\n        return hideable && !data.length ? hideable.values : d.values;\n      }).classed('selected', false);\n      bars.exit().remove();\n\n      selectBars = function selectBars(selected) {\n        if (selected.rangeValues) {\n          $(selected.rangeValues).each(function (cnt, item) {\n            bars.each(function (d) {\n              if (parseInt(d.x) >= parseInt(item.from) && parseInt(d.x_end) <= parseInt(item.to)) {\n                d3v3.select(this).classed('selected', true);\n              }\n            });\n          });\n        } else {\n          var _pivotField = null;\n\n          if (!Array.isArray(selected)) {\n            _pivotField = selected.field;\n            selected = selected.selected;\n          }\n\n          $(selected).each(function (cnt, item) {\n            bars.each(function (d) {\n              if (_pivotField != null) {\n                if ((Array.isArray(_pivotField) ? ko.toJSON(d.obj.fq_fields) === ko.toJSON(_pivotField) : d.obj.fq_fields === _pivotField) && (item.values ? ko.toJSON(d.obj.fq_values) === ko.toJSON(item.values) : d.obj.fq_values === item)) {\n                  d3v3.select(this).classed('selected', true);\n                }\n              } else if (d.x instanceof Date) {\n                if (moment(d.x).utc().format('YYYY-MM-DD[T]HH:mm:ss[Z]') === item) {\n                  d3v3.select(this).classed('selected', true);\n                }\n              } else if (d.x === item) {\n                d3v3.select(this).classed('selected', true);\n              }\n            });\n          });\n        }\n      };\n\n      var barsEnter = bars.enter().append('rect').attr('class', function (d, i) {\n        return getY(d, i) < 0 ? 'nv-bar negative' : 'nv-bar positive';\n      }).attr('x', function (d, i, j) {\n        return stacked ? 0 : j * x.rangeBand() / data.length;\n      }).attr('y', function (d) {\n        return y0(stacked ? d.y0 : 0);\n      }).attr('height', 0).attr('width', x.rangeBand() / (stacked ? 1 : data.length)).attr('transform', function (d, i) {\n        return 'translate(' + x(getX(d, i)) + ',0)';\n      });\n      bars.style('fill', function (d, i, j) {\n        return color(d, j, i);\n      }).style('stroke', function (d, i, j) {\n        return color(d, j, i);\n      });\n      barsEnter.on('mouseover', function (d, i) {\n        d3v3.select(this).classed('hover', true);\n        dispatch.elementMouseover({\n          value: getY(d, i),\n          point: d,\n          series: data[d.series],\n          pos: [x(getX(d, i)) + x.rangeBand() * (stacked ? data.length / 2 : d.series + 0.5) / data.length, y(getY(d, i) + (stacked ? d.y0 : 0))],\n          // TODO: Figure out why the value appears to be shifted\n          pointIndex: i,\n          seriesIndex: d.series,\n          e: d3v3.event\n        });\n      }).on('mouseout', function (d, i) {\n        d3v3.select(this).classed('hover', false);\n        dispatch.elementMouseout({\n          value: getY(d, i),\n          point: d,\n          series: data[d.series],\n          pointIndex: i,\n          seriesIndex: d.series,\n          e: d3v3.event\n        });\n      }).on('click', function (d, i) {\n        dispatch.elementClick({\n          value: getY(d, i),\n          point: d,\n          series: data[d.series],\n          pos: [x(getX(d, i)) + x.rangeBand() * (stacked ? data.length / 2 : d.series + 0.5) / data.length, y(getY(d, i) + (stacked ? d.y0 : 0))],\n          // TODO: Figure out why the value appears to be shifted\n          pointIndex: i,\n          seriesIndex: d.series,\n          e: d3v3.event\n        });\n        d3v3.event.stopPropagation();\n      }).on('dblclick', function (d, i) {\n        dispatch.elementDblClick({\n          value: getY(d, i),\n          point: d,\n          series: data[d.series],\n          pos: [x(getX(d, i)) + x.rangeBand() * (stacked ? data.length / 2 : d.series + 0.5) / data.length, y(getY(d, i) + (stacked ? d.y0 : 0))],\n          // TODO: Figure out why the value appears to be shifted\n          pointIndex: i,\n          seriesIndex: d.series,\n          e: d3v3.event\n        });\n        d3v3.event.stopPropagation();\n      });\n      bars.attr('class', function (d, i) {\n        return getY(d, i) < 0 ? 'nv-bar negative' : 'nv-bar positive';\n      }).transition().attr('transform', function (d, i) {\n        return 'translate(' + x(getX(d, i)) + ',0)';\n      });\n\n      if (barColor) {\n        if (!disabled) {\n          disabled = data.map(function () {\n            return true;\n          });\n        }\n\n        bars.style('fill', function (d, i, j) {\n          return d3v3.rgb(barColor(d, i)).darker(disabled.map(function (d, i) {\n            return i;\n          }).filter(function (d, i) {\n            return !disabled[i];\n          })[j]).toString();\n        }).style('stroke', function (d, i, j) {\n          return d3v3.rgb(barColor(d, i)).darker(disabled.map(function (d, i) {\n            return i;\n          }).filter(function (d, i) {\n            return !disabled[i];\n          })[j]).toString();\n        });\n      }\n\n      if (stacked) {\n        bars.transition().delay(function (d, i) {\n          return i * delay / data[0].values.length;\n        }).attr('y', function (d) {\n          return y(stacked ? d.y1 : 0);\n        }).attr('height', function (d) {\n          return Math.max(Math.abs(y(d.y + (stacked ? d.y0 : 0)) - y(stacked ? d.y0 : 0)), 1);\n        }).attr('x', function (d) {\n          return stacked ? 0 : d.series * x.rangeBand() / data.length;\n        }).attr('width', x.rangeBand() / (stacked ? 1 : data.length));\n      } else {\n        bars.transition().delay(function (d, i) {\n          return i * delay / data[0].values.length;\n        }).attr('x', function (d) {\n          return d.series * x.rangeBand() / data.length;\n        }).attr('width', x.rangeBand() / data.length).attr('y', function (d, i) {\n          return getY(d, i) < 0 ? y(0) : y(0) - y(getY(d, i)) < 1 ? y(0) - 1 : y(getY(d, i)) || 0;\n        }).attr('height', function (d, i) {\n          return Math.max(Math.abs(y(getY(d, i)) - y(0)), 1) || 0;\n        });\n      } //store old scales for use in transitions on update\n\n\n      x0 = x.copy();\n      y0 = y.copy();\n    });\n    return chart;\n  } //============================================================\n  // Expose Public Variables\n  //------------------------------------------------------------\n\n\n  chart.dispatch = dispatch;\n  chart.options = nv.utils.optionsFunc.bind(chart);\n\n  chart.x = function (_) {\n    if (!arguments.length) {\n      return getX;\n    }\n\n    getX = _;\n    return chart;\n  };\n\n  chart.y = function (_) {\n    if (!arguments.length) {\n      return getY;\n    }\n\n    getY = _;\n    return chart;\n  };\n\n  chart.margin = function (_) {\n    if (!arguments.length) {\n      return margin;\n    }\n\n    margin.top = typeof _.top != 'undefined' ? _.top : margin.top;\n    margin.right = typeof _.right != 'undefined' ? _.right : margin.right;\n    margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom;\n    margin.left = typeof _.left != 'undefined' ? _.left : margin.left;\n    return chart;\n  };\n\n  chart.width = function (_) {\n    if (!arguments.length) {\n      return width;\n    }\n\n    width = _;\n    return chart;\n  };\n\n  chart.height = function (_) {\n    if (!arguments.length) {\n      return height;\n    }\n\n    height = _;\n    return chart;\n  };\n\n  chart.xScale = function (_) {\n    if (!arguments.length) {\n      return x;\n    }\n\n    x = _;\n    return chart;\n  };\n\n  chart.yScale = function (_) {\n    if (!arguments.length) {\n      return y;\n    }\n\n    y = _;\n    return chart;\n  };\n\n  chart.xDomain = function (_) {\n    if (!arguments.length) {\n      return xDomain;\n    }\n\n    xDomain = _;\n    return chart;\n  };\n\n  chart.yDomain = function (_) {\n    if (!arguments.length) {\n      return yDomain;\n    }\n\n    yDomain = _;\n    return chart;\n  };\n\n  chart.xRange = function (_) {\n    if (!arguments.length) {\n      return xRange;\n    }\n\n    xRange = _;\n    return chart;\n  };\n\n  chart.yRange = function (_) {\n    if (!arguments.length) {\n      return yRange;\n    }\n\n    yRange = _;\n    return chart;\n  };\n\n  chart.forceY = function (_) {\n    if (!arguments.length) {\n      return forceY;\n    }\n\n    forceY = _;\n    return chart;\n  };\n\n  chart.stacked = function (_) {\n    if (!arguments.length) {\n      return stacked;\n    }\n\n    stacked = _;\n    return chart;\n  };\n\n  chart.stackOffset = function (_) {\n    if (!arguments.length) {\n      return stackOffset;\n    }\n\n    stackOffset = _;\n    return chart;\n  };\n\n  chart.clipEdge = function (_) {\n    if (!arguments.length) {\n      return clipEdge;\n    }\n\n    clipEdge = _;\n    return chart;\n  };\n\n  chart.color = function (_) {\n    if (!arguments.length) {\n      return color;\n    }\n\n    color = nv.utils.getColor(_);\n    return chart;\n  };\n\n  chart.barColor = function (_) {\n    if (!arguments.length) {\n      return barColor;\n    }\n\n    barColor = nv.utils.getColor(_);\n    return chart;\n  };\n\n  chart.disabled = function (_) {\n    if (!arguments.length) {\n      return disabled;\n    }\n\n    disabled = _;\n    return chart;\n  };\n\n  chart.id = function (_) {\n    if (!arguments.length) {\n      return id;\n    }\n\n    id = _;\n    return chart;\n  };\n\n  chart.hideable = function (_) {\n    if (!arguments.length) {\n      return hideable;\n    }\n\n    hideable = _;\n    return chart;\n  };\n\n  chart.delay = function (_) {\n    if (!arguments.length) {\n      return delay;\n    }\n\n    delay = _;\n    return chart;\n  };\n\n  chart.groupSpacing = function (_) {\n    if (!arguments.length) {\n      return groupSpacing;\n    }\n\n    groupSpacing = _;\n    return chart;\n  };\n\n  chart.selectBars = function (args) {\n    if (!arguments.length) {\n      return selectBars;\n    }\n\n    selectBars(args);\n    return chart;\n  }; //============================================================\n\n\n  return chart;\n};","// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport d3v3 from 'd3v3';\nimport nv from \"../ext/nv.d3.1.1.15b.custom\";\n\nnv.models.growingMultiBarChart = function () {\n  'use strict'; //============================================================\n  // Public Variables with Default Settings\n  //------------------------------------------------------------\n\n  var multibar = nv.models.growingMultiBar(),\n      xAxis = nv.models.axis(),\n      yAxis = nv.models.axis(),\n      legend = nv.models.legend(),\n      controls = nv.models.legend();\n  var margin = {\n    top: 30,\n    right: 20,\n    bottom: 50,\n    left: 60\n  };\n\n  var width = null,\n      height = null,\n      color = nv.utils.defaultColor(),\n      showControls = true,\n      showLegend = true,\n      showXAxis = true,\n      showYAxis = true,\n      rightAlignYAxis = false,\n      reduceXTicks = true,\n      // if false a tick will show for every data point\n  staggerLabels = false,\n      rotateLabels = 0,\n      tooltips = true,\n      tooltip = function tooltip(key, x, y) {\n    return '<h3>' + key + '</h3>' + '<p>' + y + ' on ' + x + '</p>';\n  },\n      x,\n      //can be accessed via chart.xScale()\n  y,\n      //can be accessed via chart.yScale()\n  state = {\n    stacked: false\n  },\n      defaultState = null,\n      noData = 'No Data Available.',\n      transitionDuration = 250,\n      selectBars = null,\n      onStateChange = null;\n\n  var controlWidth = function controlWidth() {\n    return showControls ? 180 : 0;\n  };\n\n  var dispatch = d3v3.dispatch('tooltipShow', 'tooltipHide', 'stateChange', 'changeState');\n  multibar.stacked(false);\n  xAxis.orient('bottom').tickPadding(7).highlightZero(true).showMaxMin(false).tickFormat(function (d) {\n    return d;\n  });\n  yAxis.orient(rightAlignYAxis ? 'right' : 'left').tickFormat(d3v3.format(',.1f'));\n  controls.updateState(false); //============================================================\n  //============================================================\n  // Private Variables\n  //------------------------------------------------------------\n\n  var showTooltip = function showTooltip(e, offsetElement) {\n    var left = e.pos[0] + (offsetElement.offsetLeft || 0),\n        top = e.pos[1] + (offsetElement.offsetTop || 0),\n        x = xAxis.tickFormat()(multibar.x()(e.point, e.pointIndex)),\n        y = yAxis.tickFormat()(multibar.y()(e.point, e.pointIndex)),\n        content = tooltip(e.point.seriesKey, x, y, e, chart);\n    nv.tooltip.show([left, top], content, e.value < 0 ? 'n' : 's', null, offsetElement);\n  }; //============================================================\n\n\n  function chart(selection) {\n    selection.each(function (data) {\n      var container = d3v3.select(this),\n          that = this;\n      var availableWidth = (width || parseInt(container.style('width')) || 960) - margin.left - margin.right;\n      var availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom;\n\n      chart.update = function () {\n        container.transition().duration(transitionDuration).call(chart);\n      };\n\n      chart.container = this; //set state.disabled\n\n      state.disabled = data.map(function (d) {\n        return !!d.disabled;\n      });\n\n      if (!defaultState) {\n        var key;\n        defaultState = {};\n\n        for (key in state) {\n          if (state[key] instanceof Array) {\n            defaultState[key] = state[key].slice(0);\n          } else {\n            defaultState[key] = state[key];\n          }\n        }\n      } //------------------------------------------------------------\n      // Display noData message if there's nothing to show.\n\n\n      if (!data || !data.length || !data.filter(function (d) {\n        return d.values.length;\n      }).length) {\n        var noDataText = container.selectAll('.nv-noData').data([noData]);\n        noDataText.enter().append('text').attr('class', 'nvd3 nv-noData').attr('dy', '-.7em').style('text-anchor', 'middle');\n        noDataText.attr('x', margin.left + availableWidth / 2).attr('y', margin.top + availableHeight / 2).text(function (d) {\n          return d;\n        });\n        container.selectAll('.nv-multiBarWithLegend').style('visibility', 'hidden');\n        container.selectAll('.nv-noData').style('visibility', 'visible');\n        return chart;\n      } else {\n        container.selectAll('.nv-multiBarWithLegend').style('visibility', 'visible');\n        container.selectAll('.nv-noData').style('visibility', 'hidden');\n      } //------------------------------------------------------------\n      //------------------------------------------------------------\n      // Setup Scales\n\n\n      x = multibar.xScale();\n      y = multibar.yScale(); //------------------------------------------------------------\n      //------------------------------------------------------------\n      // Setup containers and skeleton of chart\n\n      var wrap = container.selectAll('g.nv-wrap.nv-multiBarWithLegend').data([data]);\n      var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-multiBarWithLegend').append('g');\n      var g = wrap.select('g');\n      gEnter.append('g').attr('class', 'nv-x nv-axis');\n      gEnter.append('g').attr('class', 'nv-y nv-axis');\n      gEnter.append('g').attr('class', 'nv-barsWrap');\n      gEnter.append('g').attr('class', 'nv-legendWrap');\n      gEnter.append('g').attr('class', 'nv-controlsWrap'); //------------------------------------------------------------\n      //------------------------------------------------------------\n      // Legend\n\n      if (showLegend) {\n        legend.width(availableWidth - controlWidth());\n\n        if (multibar.barColor()) {\n          data.forEach(function (series, i) {\n            series.color = d3v3.rgb('#ccc').darker(i * 1.5).toString();\n          });\n        }\n\n        g.select('.nv-legendWrap').datum(data).call(legend);\n\n        if (legend.height() > 50) {\n          g.select('.nv-legendWrap').style('visibility', 'hidden');\n        } else {\n          g.select('.nv-legendWrap').style('visibility', 'visible');\n\n          if (margin.top !== legend.height()) {\n            margin.top = legend.height();\n            availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom;\n          }\n        }\n\n        g.select('.nv-legendWrap').attr('transform', 'translate(' + controlWidth() + ',' + -margin.top + ')');\n      } //------------------------------------------------------------\n      //------------------------------------------------------------\n      // Controls\n\n\n      var controlsData = [{\n        key: 'Grouped',\n        disabled: multibar.stacked()\n      }, {\n        key: 'Stacked',\n        disabled: !multibar.stacked()\n      }];\n\n      if (showControls) {\n        controls.width(controlWidth()).color(['#444', '#444', '#444']);\n        g.select('.nv-controlsWrap').datum(controlsData).attr('transform', 'translate(0,' + -margin.top + ')').call(controls);\n      } //------------------------------------------------------------\n\n\n      wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n\n      if (rightAlignYAxis) {\n        g.select('.nv-y.nv-axis').attr('transform', 'translate(' + availableWidth + ',0)');\n      } //------------------------------------------------------------\n      // Main Chart Component(s)\n\n\n      multibar.disabled(data.map(function (series) {\n        return series.disabled;\n      })).width(availableWidth).height(availableHeight).color(data.map(function (d, i) {\n        return d.color || color(d, i);\n      }).filter(function (d, i) {\n        return !data[i].disabled;\n      }));\n      selectBars = multibar.selectBars;\n      var barsWrap = g.select('.nv-barsWrap').datum(data.filter(function (d) {\n        return !d.disabled;\n      }));\n      barsWrap.transition().call(multibar); //------------------------------------------------------------\n      //------------------------------------------------------------\n      // Setup Axes\n\n      if (showXAxis) {\n        xAxis.scale(x).ticks(availableWidth / 100).tickSize(-availableHeight, 0);\n        g.select('.nv-x.nv-axis').attr('transform', 'translate(0,' + y.range()[0] + ')');\n        g.select('.nv-x.nv-axis').transition().call(xAxis);\n        var xTicks = g.select('.nv-x.nv-axis > g').selectAll('g');\n        xTicks.selectAll('line, text').style('opacity', 1);\n\n        if (staggerLabels) {\n          var getTranslate = function getTranslate(x, y) {\n            return 'translate(' + x + ',' + y + ')';\n          };\n\n          var staggerUp = 5,\n              staggerDown = 17; //pixels to stagger by\n          // Issue #140\n\n          xTicks.selectAll('text').attr('transform', function (d, i, j) {\n            return getTranslate(0, j % 2 === 0 ? staggerUp : staggerDown);\n          });\n          var totalInBetweenTicks = d3v3.selectAll('.nv-x.nv-axis .nv-wrap g g text')[0].length;\n          g.selectAll('.nv-x.nv-axis .nv-axisMaxMin text').attr('transform', function (d, i) {\n            return getTranslate(0, i === 0 || totalInBetweenTicks % 2 !== 0 ? staggerDown : staggerUp);\n          });\n        }\n\n        if (reduceXTicks) {\n          xTicks.filter(function (d, i) {\n            return i % Math.ceil(data[0].values.length / (availableWidth / 100)) !== 0;\n          }).selectAll('text, line').style('opacity', 0);\n        }\n\n        if (rotateLabels) {\n          xTicks.selectAll('.tick text').attr('transform', 'rotate(' + rotateLabels + ' 0,0)').style('text-anchor', rotateLabels > 0 ? 'start' : 'end');\n        }\n\n        g.select('.nv-x.nv-axis').selectAll('g.nv-axisMaxMin text').style('opacity', 1);\n      }\n\n      if (showYAxis) {\n        yAxis.scale(y).ticks(availableHeight / 36).tickSize(-availableWidth, 0);\n        g.select('.nv-y.nv-axis').transition().call(yAxis);\n      } //------------------------------------------------------------\n      //============================================================\n      // Event Handling/Dispatching (in chart's scope)\n      //------------------------------------------------------------\n\n\n      legend.dispatch.on('stateChange', function (newState) {\n        state = newState;\n        dispatch.stateChange(state);\n        chart.update();\n      });\n      controls.dispatch.on('legendClick', function (d) {\n        if (!d.disabled) {\n          return;\n        }\n\n        controlsData.forEach(function (controlData) {\n          controlData.disabled = true;\n        });\n        d.disabled = false;\n\n        switch (d.key) {\n          case 'Grouped':\n            multibar.stacked(false);\n            break;\n\n          case 'Stacked':\n            multibar.stacked(true);\n            break;\n        }\n\n        state.stacked = multibar.stacked();\n        dispatch.stateChange(state);\n\n        if (onStateChange != null) {\n          onStateChange(state);\n        }\n\n        chart.update();\n      });\n      dispatch.on('tooltipShow', function (e) {\n        if (tooltips) {\n          showTooltip(e, that.parentNode);\n        }\n      }); // Update chart from a state object passed to event handler\n\n      dispatch.on('changeState', function (e) {\n        if (typeof e.disabled !== 'undefined') {\n          data.forEach(function (series, i) {\n            series.disabled = e.disabled[i];\n          });\n          state.disabled = e.disabled;\n        }\n\n        if (typeof e.stacked !== 'undefined') {\n          multibar.stacked(e.stacked);\n          state.stacked = e.stacked;\n        }\n\n        chart.update();\n      }); //============================================================\n    });\n    return chart;\n  } //============================================================\n  // Event Handling/Dispatching (out of chart's scope)\n  //------------------------------------------------------------\n\n\n  multibar.dispatch.on('elementMouseover.tooltip', function (e) {\n    e.pos = [e.pos[0] + margin.left, e.pos[1] + margin.top];\n    dispatch.tooltipShow(e);\n  });\n  multibar.dispatch.on('elementMouseout.tooltip', function (e) {\n    dispatch.tooltipHide(e);\n  });\n  dispatch.on('tooltipHide', function () {\n    if (tooltips) {\n      nv.tooltip.cleanup();\n    }\n  }); //============================================================\n  //============================================================\n  // Expose Public Variables\n  //------------------------------------------------------------\n  // expose chart's sub-components\n\n  chart.dispatch = dispatch;\n  chart.multibar = multibar;\n  chart.legend = legend;\n  chart.xAxis = xAxis;\n  chart.yAxis = yAxis;\n  d3v3.rebind(chart, multibar, 'x', 'y', 'xDomain', 'yDomain', 'xRange', 'yRange', 'forceX', 'forceY', 'clipEdge', 'id', 'stacked', 'stackOffset', 'delay', 'barColor', 'groupSpacing');\n  chart.options = nv.utils.optionsFunc.bind(chart);\n\n  chart.margin = function (_) {\n    if (!arguments.length) {\n      return margin;\n    }\n\n    margin.top = typeof _.top != 'undefined' ? _.top : margin.top;\n    margin.right = typeof _.right != 'undefined' ? _.right : margin.right;\n    margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom;\n    margin.left = typeof _.left != 'undefined' ? _.left : margin.left;\n    return chart;\n  };\n\n  chart.width = function (_) {\n    if (!arguments.length) {\n      return width;\n    }\n\n    width = _;\n    return chart;\n  };\n\n  chart.height = function (_) {\n    if (!arguments.length) {\n      return height;\n    }\n\n    height = _;\n    return chart;\n  };\n\n  chart.color = function (_) {\n    if (!arguments.length) {\n      return color;\n    }\n\n    color = nv.utils.getColor(_);\n    legend.color(color);\n    return chart;\n  };\n\n  chart.showControls = function (_) {\n    if (!arguments.length) {\n      return showControls;\n    }\n\n    showControls = _;\n    return chart;\n  };\n\n  chart.showLegend = function (_) {\n    if (!arguments.length) {\n      return showLegend;\n    }\n\n    showLegend = _;\n    return chart;\n  };\n\n  chart.showXAxis = function (_) {\n    if (!arguments.length) {\n      return showXAxis;\n    }\n\n    showXAxis = _;\n    return chart;\n  };\n\n  chart.showYAxis = function (_) {\n    if (!arguments.length) {\n      return showYAxis;\n    }\n\n    showYAxis = _;\n    return chart;\n  };\n\n  chart.rightAlignYAxis = function (_) {\n    if (!arguments.length) {\n      return rightAlignYAxis;\n    }\n\n    rightAlignYAxis = _;\n    yAxis.orient(_ ? 'right' : 'left');\n    return chart;\n  };\n\n  chart.reduceXTicks = function (_) {\n    if (!arguments.length) {\n      return reduceXTicks;\n    }\n\n    reduceXTicks = _;\n    return chart;\n  };\n\n  chart.rotateLabels = function (_) {\n    if (!arguments.length) {\n      return rotateLabels;\n    }\n\n    rotateLabels = _;\n    return chart;\n  };\n\n  chart.staggerLabels = function (_) {\n    if (!arguments.length) {\n      return staggerLabels;\n    }\n\n    staggerLabels = _;\n    return chart;\n  };\n\n  chart.tooltip = function (_) {\n    if (!arguments.length) {\n      return tooltip;\n    }\n\n    tooltip = _;\n    return chart;\n  };\n\n  chart.tooltips = function (_) {\n    if (!arguments.length) {\n      return tooltips;\n    }\n\n    tooltips = _;\n    return chart;\n  };\n\n  chart.tooltipContent = function (_) {\n    if (!arguments.length) {\n      return tooltip;\n    }\n\n    tooltip = _;\n    return chart;\n  };\n\n  chart.state = function (_) {\n    if (!arguments.length) {\n      return state;\n    }\n\n    state = _;\n    return chart;\n  };\n\n  chart.defaultState = function (_) {\n    if (!arguments.length) {\n      return defaultState;\n    }\n\n    defaultState = _;\n    return chart;\n  };\n\n  chart.noData = function (_) {\n    if (!arguments.length) {\n      return noData;\n    }\n\n    noData = _;\n    return chart;\n  };\n\n  chart.transitionDuration = function (_) {\n    if (!arguments.length) {\n      return transitionDuration;\n    }\n\n    transitionDuration = _;\n    return chart;\n  };\n\n  chart.selectBars = function (args) {\n    if (!arguments.length) {\n      return selectBars;\n    }\n\n    if (selectBars) {\n      selectBars(args);\n    }\n\n    return chart;\n  };\n\n  chart.onStateChange = function (_) {\n    if (!arguments.length) {\n      return onStateChange;\n    }\n\n    onStateChange = _;\n    return chart;\n  }; //============================================================\n\n\n  return chart;\n};","// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport $ from 'jquery';\nimport d3v3 from 'd3v3';\nimport nv from \"../ext/nv.d3.1.1.15b.custom\";\n\nnv.models.growingPie = function () {\n  'use strict'; //============================================================\n  // Public Variables with Default Settings\n  //------------------------------------------------------------\n\n  var margin = {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n\n  var width = 500,\n      height = 500,\n      getX = function getX(d) {\n    return d.x;\n  },\n      getY = function getY(d) {\n    return d.y;\n  },\n      getDescription = function getDescription(d) {\n    return d.description;\n  },\n      id = Math.floor(Math.random() * 10000),\n      //Create semi-unique ID in case user doesn't select one\n  color = nv.utils.defaultColor(),\n      valueFormat = d3v3.format(',.2f'),\n      showLabels = true,\n      pieLabelsOutside = true,\n      donutLabelsOutside = false,\n      labelType = 'key',\n      labelThreshold = 0.02,\n      //if slice percentage is under this, don't show label\n  donut = false,\n      labelSunbeamLayout = false,\n      startAngle = false,\n      endAngle = false,\n      donutRatio = 0.5,\n      selectSlices = null;\n\n  var dispatch = d3v3.dispatch('chartClick', 'elementClick', 'elementDblClick', 'elementMouseover', 'elementMouseout'); //============================================================\n\n  function chart(selection) {\n    selection.each(function (data) {\n      var availableWidth = width - margin.left - margin.right,\n          availableHeight = height - margin.top - margin.bottom,\n          radius = Math.min(availableWidth, availableHeight) / 2,\n          arcRadius = radius - radius / 5;\n      var container = d3v3.select(this); //------------------------------------------------------------\n      // Setup containers and skeleton of chart\n      //let wrap = container.selectAll('.nv-wrap.nv-pie').data([data]);\n\n      var wrap = container.selectAll('.nv-wrap.nv-pie').data(data);\n      var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-pie nv-chart-' + id);\n      var gEnter = wrapEnter.append('g');\n      var g = wrap.select('g');\n      gEnter.append('g').attr('class', 'nv-pie');\n      gEnter.append('g').attr('class', 'nv-pieLabels');\n      wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n      g.select('.nv-pie').attr('transform', 'translate(' + availableWidth / 2 + ',' + availableHeight / 2 + ')');\n      g.select('.nv-pieLabels').attr('transform', 'translate(' + availableWidth / 2 + ',' + availableHeight / 2 + ')'); //------------------------------------------------------------\n\n      container.on('click', function (d, i) {\n        dispatch.chartClick({\n          data: d,\n          index: i,\n          pos: d3v3.event,\n          id: id\n        });\n      });\n\n      function updateVariables() {\n        availableWidth = width - margin.left - margin.right;\n        availableHeight = height - margin.top - margin.bottom;\n        radius = Math.min(availableWidth, availableHeight) / 2;\n        arcRadius = radius - radius / 5;\n      }\n\n      var arcNormal = function arcNormal() {\n        updateVariables();\n        return d3v3.svg.arc().outerRadius(arcRadius);\n      };\n\n      var arcOver = function arcOver() {\n        updateVariables();\n        return d3v3.svg.arc().outerRadius(arcRadius + 10);\n      };\n\n      if (startAngle) {\n        arcNormal().startAngle(startAngle);\n      }\n\n      if (endAngle) {\n        arcNormal().endAngle(endAngle);\n      }\n\n      if (donut) {\n        arcNormal().innerRadius(radius * donutRatio);\n      } // Setup the Pie chart and choose the data element\n\n\n      var pie = d3v3.layout.pie().sort(null).value(function (d) {\n        return d.disabled ? 0 : getY(d);\n      });\n      var slices = wrap.select('.nv-pie').selectAll('.nv-slice').data(pie).classed('selected', false);\n      var pieLabels = wrap.select('.nv-pieLabels').selectAll('.nv-label').data(pie);\n      slices.exit().remove();\n      pieLabels.exit().remove();\n\n      selectSlices = function selectSlices(selected) {\n        $(selected).each(function (cnt, item) {\n          slices.each(function (d) {\n            if (typeof d.data.obj.from != 'undefined' && d.data.obj.from === item || d.data.obj.value === item) {\n              d3v3.select(this).classed('selected', true);\n              d3v3.select(this).select('path').transition().duration(100).attr('d', arcOver());\n            }\n          });\n        });\n      };\n\n      var ae = slices.enter().append('g').attr('class', 'nv-slice').on('mouseover', function (d, i) {\n        d3v3.select(this).select('path').transition().duration(100).attr('d', arcOver());\n        d3v3.select(this).classed('hover', true);\n        dispatch.elementMouseover({\n          label: getX(d.data),\n          value: getY(d.data),\n          point: d.data,\n          pointIndex: i,\n          pos: [d3v3.event.pageX, d3v3.event.pageY],\n          id: id\n        });\n      }).on('mouseout', function (d, i) {\n        if (!d3v3.select(this).classed('selected')) {\n          d3v3.select(this).select('path').transition().duration(100).attr('d', arcNormal());\n        }\n\n        d3v3.select(this).classed('hover', false);\n        dispatch.elementMouseout({\n          label: getX(d.data),\n          value: getY(d.data),\n          point: d.data,\n          index: i,\n          id: id\n        });\n      }).on('click', function (d, i) {\n        d3v3.select(this).select('path').transition().duration(100).attr('d', arcOver());\n        dispatch.elementClick({\n          label: getX(d.data),\n          value: getY(d.data),\n          point: d.data,\n          index: i,\n          pos: d3v3.event,\n          id: id\n        });\n        d3v3.event.stopPropagation();\n      }).on('dblclick', function (d, i) {\n        d3v3.select(this).select('path').transition().duration(100).attr('d', arcNormal());\n        dispatch.elementDblClick({\n          label: getX(d.data),\n          value: getY(d.data),\n          point: d.data,\n          index: i,\n          pos: d3v3.event,\n          id: id\n        });\n        d3v3.event.stopPropagation();\n      });\n      slices.attr('fill', function (d, i) {\n        return d.data.color || color(d, i);\n      }).attr('stroke', function (d, i) {\n        return d.data.color || color(d, i);\n      });\n      ae.append('path').each(function (d) {\n        this._current = d;\n      });\n      slices.select('path').transition().attr('d', arcNormal()).attrTween('d', arcTween);\n\n      if (showLabels) {\n        // This does the normal label\n        var labelsArc = d3v3.svg.arc().innerRadius(0);\n\n        if (pieLabelsOutside) {\n          labelsArc = arcNormal();\n        }\n\n        if (donutLabelsOutside) {\n          labelsArc = d3v3.svg.arc().outerRadius(d3v3.svg.arc().outerRadius());\n        }\n\n        pieLabels.enter().append('g').classed('nv-label', true).each(function (d) {\n          if (d.value > 0) {\n            var group = d3v3.select(this);\n            group.attr('transform', function (d) {\n              if (labelSunbeamLayout) {\n                d.outerRadius = arcRadius + 10; // Set Outer Coordinate\n\n                d.innerRadius = arcRadius + 15; // Set Inner Coordinate\n\n                var rotateAngle = (d.startAngle + d.endAngle) / 2 * (180 / Math.PI);\n\n                if ((d.startAngle + d.endAngle) / 2 < Math.PI) {\n                  rotateAngle -= 90;\n                } else {\n                  rotateAngle += 90;\n                }\n\n                return 'translate(' + labelsArc.centroid(d) + ') rotate(' + rotateAngle + ')';\n              } else {\n                d.outerRadius = radius + 10; // Set Outer Coordinate\n\n                d.innerRadius = radius + 15; // Set Inner Coordinate\n\n                return 'translate(' + labelsArc.centroid(d) + ')';\n              }\n            });\n            group.append('rect').style('stroke', '#fff').style('fill', '#fff').attr('rx', 3).attr('ry', 3);\n            group.append('text').style('text-anchor', labelSunbeamLayout ? (d.startAngle + d.endAngle) / 2 < Math.PI ? 'start' : 'end' : 'middle') //center the text on it's origin or begin/end if orthogonal aligned\n            .style('fill', '#000');\n          }\n        });\n        var labelLocationHash = {};\n        var avgHeight = 14;\n        var avgWidth = 140;\n\n        var createHashKey = function createHashKey(coordinates) {\n          return Math.floor(coordinates[0] / avgWidth) * avgWidth + ',' + Math.floor(coordinates[1] / avgHeight) * avgHeight;\n        };\n\n        pieLabels.transition().attr('transform', function (d) {\n          if (d.value > 0) {\n            if (labelSunbeamLayout) {\n              d.outerRadius = arcRadius + 10; // Set Outer Coordinate\n\n              d.innerRadius = arcRadius + 15; // Set Inner Coordinate\n\n              var rotateAngle = (d.startAngle + d.endAngle) / 2 * (180 / Math.PI);\n\n              if ((d.startAngle + d.endAngle) / 2 < Math.PI) {\n                rotateAngle -= 90;\n              } else {\n                rotateAngle += 90;\n              }\n\n              return 'translate(' + labelsArc.centroid(d) + ') rotate(' + rotateAngle + ')';\n            } else {\n              d.outerRadius = radius + 10; // Set Outer Coordinate\n\n              d.innerRadius = radius + 15; // Set Inner Coordinate\n\n              /*\n                Overlapping pie labels are not good. What this attempts to do is, prevent overlapping.\n                Each label location is hashed, and if a hash collision occurs, we assume an overlap.\n                Adjust the label's y-position to remove the overlap.\n                */\n\n              var center = labelsArc.centroid(d);\n              var hashKey = createHashKey(center);\n\n              if (labelLocationHash[hashKey]) {\n                center[1] -= avgHeight;\n              }\n\n              labelLocationHash[createHashKey(center)] = true;\n              return 'translate(' + center + ')';\n            }\n          }\n        });\n        pieLabels.select('.nv-label text').style('text-anchor', function (d) {\n          if (d.value > 0) {\n            if (labelSunbeamLayout) {\n              return (d.startAngle + d.endAngle) / 2 < Math.PI ? 'start' : 'end'; //center the text on it's origin or begin/end if orthogonal aligned\n            } else {\n              return 'middle';\n            }\n          }\n        }).text(function (d) {\n          if (d.value > 0) {\n            var percent = (d.endAngle - d.startAngle) / (2 * Math.PI);\n            var labelTypes = {\n              key: getX(d.data),\n              value: getY(d.data),\n              percent: d3v3.format('%')(percent)\n            };\n            return d.value && percent > labelThreshold ? labelTypes[labelType] : '';\n          } else {\n            return '';\n          }\n        });\n      }\n\n      function arcTween(a) {\n        a.endAngle = isNaN(a.endAngle) ? 0 : a.endAngle;\n        a.startAngle = isNaN(a.startAngle) ? 0 : a.startAngle;\n\n        if (!donut) {\n          a.innerRadius = 0;\n        }\n\n        var i = d3v3.interpolate(this._current, a);\n        this._current = i(0);\n        return function (t) {\n          return arcNormal()(i(t));\n        };\n      }\n    });\n    return chart;\n  } //============================================================\n  // Expose Public Variables\n  //------------------------------------------------------------\n\n\n  chart.dispatch = dispatch;\n  chart.options = nv.utils.optionsFunc.bind(chart);\n\n  chart.margin = function (_) {\n    if (!arguments.length) {\n      return margin;\n    }\n\n    margin.top = typeof _.top != 'undefined' ? _.top : margin.top;\n    margin.right = typeof _.right != 'undefined' ? _.right : margin.right;\n    margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom;\n    margin.left = typeof _.left != 'undefined' ? _.left : margin.left;\n    return chart;\n  };\n\n  chart.width = function (_) {\n    if (!arguments.length) {\n      return width;\n    }\n\n    width = _;\n    return chart;\n  };\n\n  chart.height = function (_) {\n    if (!arguments.length) {\n      return height;\n    }\n\n    height = _;\n    return chart;\n  };\n\n  chart.values = function () {\n    nv.log('pie.values() is no longer supported.');\n    return chart;\n  };\n\n  chart.x = function (_) {\n    if (!arguments.length) {\n      return getX;\n    }\n\n    getX = _;\n    return chart;\n  };\n\n  chart.y = function (_) {\n    if (!arguments.length) {\n      return getY;\n    }\n\n    getY = d3v3.functor(_);\n    return chart;\n  };\n\n  chart.description = function (_) {\n    if (!arguments.length) {\n      return getDescription;\n    }\n\n    getDescription = _;\n    return chart;\n  };\n\n  chart.showLabels = function (_) {\n    if (!arguments.length) {\n      return showLabels;\n    }\n\n    showLabels = _;\n    return chart;\n  };\n\n  chart.labelSunbeamLayout = function (_) {\n    if (!arguments.length) {\n      return labelSunbeamLayout;\n    }\n\n    labelSunbeamLayout = _;\n    return chart;\n  };\n\n  chart.donutLabelsOutside = function (_) {\n    if (!arguments.length) {\n      return donutLabelsOutside;\n    }\n\n    donutLabelsOutside = _;\n    return chart;\n  };\n\n  chart.pieLabelsOutside = function (_) {\n    if (!arguments.length) {\n      return pieLabelsOutside;\n    }\n\n    pieLabelsOutside = _;\n    return chart;\n  };\n\n  chart.labelType = function (_) {\n    if (!arguments.length) {\n      return labelType;\n    }\n\n    labelType = _;\n    labelType = labelType || 'key';\n    return chart;\n  };\n\n  chart.donut = function (_) {\n    if (!arguments.length) {\n      return donut;\n    }\n\n    donut = _;\n    return chart;\n  };\n\n  chart.donutRatio = function (_) {\n    if (!arguments.length) {\n      return donutRatio;\n    }\n\n    donutRatio = _;\n    return chart;\n  };\n\n  chart.startAngle = function (_) {\n    if (!arguments.length) {\n      return startAngle;\n    }\n\n    startAngle = _;\n    return chart;\n  };\n\n  chart.endAngle = function (_) {\n    if (!arguments.length) {\n      return endAngle;\n    }\n\n    endAngle = _;\n    return chart;\n  };\n\n  chart.id = function (_) {\n    if (!arguments.length) {\n      return id;\n    }\n\n    id = _;\n    return chart;\n  };\n\n  chart.color = function (_) {\n    if (!arguments.length) {\n      return color;\n    }\n\n    color = nv.utils.getColor(_);\n    return chart;\n  };\n\n  chart.valueFormat = function (_) {\n    if (!arguments.length) {\n      return valueFormat;\n    }\n\n    valueFormat = _;\n    return chart;\n  };\n\n  chart.labelThreshold = function (_) {\n    if (!arguments.length) {\n      return labelThreshold;\n    }\n\n    labelThreshold = _;\n    return chart;\n  };\n\n  chart.selectSlices = function (args) {\n    if (!arguments.length) {\n      return selectSlices;\n    }\n\n    selectSlices(args);\n    return chart;\n  }; //============================================================\n\n\n  return chart;\n};","// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport d3v3 from 'd3v3';\nimport nv from \"../ext/nv.d3.1.1.15b.custom\";\n\nnv.models.growingPieChart = function () {\n  'use strict'; //============================================================\n  // Public Variables with Default Settings\n  //------------------------------------------------------------\n\n  var pie = nv.models.growingPie(),\n      legend = nv.models.legend(),\n      margin = {\n    top: 30,\n    right: 20,\n    bottom: 20,\n    left: 20\n  };\n\n  var width = null,\n      height = null,\n      showLegend = true,\n      color = nv.utils.defaultColor(),\n      tooltips = true,\n      tooltip = function tooltip(key, y) {\n    return '<h3>' + key + '</h3>' + '<p>' + y + '</p>';\n  },\n      state = {},\n      defaultState = null,\n      noData = 'No Data Available.',\n      selectSlices = null;\n\n  var dispatch = d3v3.dispatch('tooltipShow', 'tooltipHide', 'stateChange', 'changeState'); //============================================================\n  //============================================================\n  // Private Variables\n  //------------------------------------------------------------\n\n  var showTooltip = function showTooltip(e, offsetElement) {\n    var tooltipLabel = pie.description()(e.point) || pie.x()(e.point);\n    var left = e.pos[0] + (offsetElement && offsetElement.offsetLeft || 0),\n        top = e.pos[1] + (offsetElement && offsetElement.offsetTop || 0),\n        y = pie.valueFormat()(pie.y()(e.point)),\n        content = tooltip(tooltipLabel, y, e, chart);\n    nv.tooltip.show([left, top], content, e.value < 0 ? 'n' : 's', null, offsetElement);\n  }; //============================================================\n\n\n  function chart(selection) {\n    selection.each(function (data) {\n      var container = d3v3.select(this);\n      var availableWidth = (width || parseInt(container.style('width')) || 960) - margin.left - margin.right;\n      var availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom;\n\n      chart.update = function () {\n        container.transition().call(chart);\n      };\n\n      chart.container = this; //set state.disabled\n\n      state.disabled = data.map(function (d) {\n        return !!d.disabled;\n      });\n\n      if (!defaultState) {\n        var key;\n        defaultState = {};\n\n        for (key in state) {\n          if (state[key] instanceof Array) {\n            defaultState[key] = state[key].slice(0);\n          } else {\n            defaultState[key] = state[key];\n          }\n        }\n      } //------------------------------------------------------------\n      // Display No Data message if there's nothing to show.\n\n\n      var _allDataIsZero = true;\n\n      if (data) {\n        data.forEach(function (obj) {\n          if (obj.value > 0) {\n            _allDataIsZero = false;\n          }\n        });\n      }\n\n      if (!data || !data.length || _allDataIsZero) {\n        var noDataText = container.selectAll('.nv-noData').data([noData]);\n        noDataText.enter().append('text').attr('class', 'nvd3 nv-noData').attr('dy', '-.7em').style('text-anchor', 'middle');\n        noDataText.attr('x', margin.left + availableWidth / 2).attr('y', margin.top + availableHeight / 2).text(function (d) {\n          return d;\n        });\n        container.selectAll('.nv-pieChart').style('visibility', 'hidden');\n        container.selectAll('.nv-noData').style('visibility', 'visible');\n        return chart;\n      } else {\n        container.selectAll('.nv-pieChart').style('visibility', 'visible');\n        container.selectAll('.nv-noData').style('visibility', 'hidden');\n      } //------------------------------------------------------------\n      //------------------------------------------------------------\n      // Setup containers and skeleton of chart\n\n\n      var wrap = container.selectAll('g.nv-wrap.nv-pieChart').data([data]);\n      var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-pieChart').append('g');\n      var g = wrap.select('g');\n      gEnter.append('g').attr('class', 'nv-pieWrap');\n      gEnter.append('g').attr('class', 'nv-legendWrap'); //------------------------------------------------------------\n      //------------------------------------------------------------\n      // Legend\n\n      if (showLegend) {\n        legend.width(availableWidth).key(pie.x());\n        wrap.select('.nv-legendWrap').datum(data).call(legend);\n\n        if (legend.height() > 50) {\n          wrap.select('.nv-legendWrap').style('visibility', 'hidden');\n        } else {\n          wrap.select('.nv-legendWrap').style('visibility', 'visible');\n\n          if (margin.top !== legend.height()) {\n            margin.top = legend.height();\n            availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom;\n          }\n        }\n\n        wrap.select('.nv-legendWrap').attr('transform', 'translate(0,' + -margin.top + ')');\n      } //------------------------------------------------------------\n\n\n      wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); //------------------------------------------------------------\n      // Main Chart Component(s)\n\n      pie.width(availableWidth).height(availableHeight);\n      var pieWrap = g.select('.nv-pieWrap').datum([data]);\n      selectSlices = pie.selectSlices;\n      d3v3.transition(pieWrap).call(pie); //------------------------------------------------------------\n      //============================================================\n      // Event Handling/Dispatching (in chart's scope)\n      //------------------------------------------------------------\n\n      legend.dispatch.on('stateChange', function (newState) {\n        state = newState;\n        dispatch.stateChange(state);\n        chart.update();\n      });\n      pie.dispatch.on('elementMouseout.tooltip', function (e) {\n        dispatch.tooltipHide(e);\n      }); // Update chart from a state object passed to event handler\n\n      dispatch.on('changeState', function (e) {\n        if (typeof e.disabled !== 'undefined') {\n          data.forEach(function (series, i) {\n            series.disabled = e.disabled[i];\n          });\n          state.disabled = e.disabled;\n        }\n\n        chart.update();\n      }); //============================================================\n    });\n    return chart;\n  } //============================================================\n  // Event Handling/Dispatching (out of chart's scope)\n  //------------------------------------------------------------\n\n\n  pie.dispatch.on('elementMouseover.tooltip', function (e) {\n    e.pos = [e.pos[0] + margin.left, e.pos[1] + margin.top];\n    dispatch.tooltipShow(e);\n  });\n  dispatch.on('tooltipShow', function (e) {\n    if (tooltips) {\n      showTooltip(e);\n    }\n  });\n  dispatch.on('tooltipHide', function () {\n    if (tooltips) {\n      nv.tooltip.cleanup();\n    }\n  }); //============================================================\n  //============================================================\n  // Expose Public Variables\n  //------------------------------------------------------------\n  // expose chart's sub-components\n\n  chart.legend = legend;\n  chart.dispatch = dispatch;\n  chart.pie = pie;\n  d3v3.rebind(chart, pie, 'valueFormat', 'values', 'x', 'y', 'description', 'id', 'showLabels', 'donutLabelsOutside', 'pieLabelsOutside', 'labelType', 'donut', 'donutRatio', 'labelThreshold');\n  chart.options = nv.utils.optionsFunc.bind(chart);\n\n  chart.margin = function (_) {\n    if (!arguments.length) {\n      return margin;\n    }\n\n    margin.top = typeof _.top != 'undefined' ? _.top : margin.top;\n    margin.right = typeof _.right != 'undefined' ? _.right : margin.right;\n    margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom;\n    margin.left = typeof _.left != 'undefined' ? _.left : margin.left;\n    return chart;\n  };\n\n  chart.width = function (_) {\n    if (!arguments.length) {\n      return width;\n    }\n\n    width = _;\n    return chart;\n  };\n\n  chart.height = function (_) {\n    if (!arguments.length) {\n      return height;\n    }\n\n    height = _;\n    return chart;\n  };\n\n  chart.color = function (_) {\n    if (!arguments.length) {\n      return color;\n    }\n\n    color = nv.utils.getColor(_);\n    legend.color(color);\n    pie.color(color);\n    return chart;\n  };\n\n  chart.showLegend = function (_) {\n    if (!arguments.length) {\n      return showLegend;\n    }\n\n    showLegend = _;\n    return chart;\n  };\n\n  chart.tooltips = function (_) {\n    if (!arguments.length) {\n      return tooltips;\n    }\n\n    tooltips = _;\n    return chart;\n  };\n\n  chart.tooltipContent = function (_) {\n    if (!arguments.length) {\n      return tooltip;\n    }\n\n    tooltip = _;\n    return chart;\n  };\n\n  chart.state = function (_) {\n    if (!arguments.length) {\n      return state;\n    }\n\n    state = _;\n    return chart;\n  };\n\n  chart.defaultState = function (_) {\n    if (!arguments.length) {\n      return defaultState;\n    }\n\n    defaultState = _;\n    return chart;\n  };\n\n  chart.noData = function (_) {\n    if (!arguments.length) {\n      return noData;\n    }\n\n    noData = _;\n    return chart;\n  };\n\n  chart.selectSlices = function (args) {\n    if (!arguments.length) {\n      return selectSlices;\n    }\n\n    selectSlices(args);\n    return chart;\n  }; //============================================================\n\n\n  return chart;\n};","// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport d3v3 from 'd3v3';\nimport nv from \"../ext/nv.d3.1.1.15b.custom\";\n\nnv.models.legend = function () {\n  'use strict'; //============================================================\n  // Public Variables with Default Settings\n  //------------------------------------------------------------\n\n  var margin = {\n    top: 5,\n    right: 0,\n    bottom: 5,\n    left: 0\n  };\n\n  var width = 400,\n      height = 20,\n      getKey = function getKey(d) {\n    return d.key;\n  },\n      color = nv.utils.defaultColor(),\n      align = true,\n      rightAlign = true,\n      updateState = true,\n      //If true, legend will update data.disabled and trigger a 'stateChange' dispatch.\n  radioButtonMode = false; //If true, clicking legend items will cause it to behave like a radio button. (only one can be selected at a time)\n\n\n  var dispatch = d3v3.dispatch('legendClick', 'legendDblclick', 'legendMouseover', 'legendMouseout', 'stateChange'); //============================================================\n\n  function chart(selection) {\n    selection.each(function (data) {\n      var availableWidth = width - margin.left - margin.right,\n          container = d3v3.select(this); //------------------------------------------------------------\n      // Setup containers and skeleton of chart\n\n      var wrap = container.selectAll('g.nv-legend').data([data]);\n      wrap.enter().append('g').attr('class', 'nvd3 nv-legend').append('g');\n      var g = wrap.select('g');\n      wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')'); //------------------------------------------------------------\n\n      var series = g.selectAll('.nv-series').data(function (d) {\n        return d;\n      });\n      var seriesEnter = series.enter().append('g').attr('class', 'nv-series').on('mouseover', function (d, i) {\n        dispatch.legendMouseover(d, i); //TODO: Make consistent with other event objects\n      }).on('mouseout', function (d, i) {\n        dispatch.legendMouseout(d, i);\n      }).on('click', function (d, i) {\n        dispatch.legendClick(d, i);\n\n        if (updateState) {\n          if (radioButtonMode) {\n            //Radio button mode: set every series to disabled,\n            //  and enable the clicked series.\n            data.forEach(function (series) {\n              series.disabled = true;\n            });\n            d.disabled = false;\n          } else {\n            d.disabled = !d.disabled;\n\n            if (data.every(function (series) {\n              return series.disabled;\n            })) {\n              //the default behavior of NVD3 legends is, if every single series\n              // is disabled, turn all series' back on.\n              data.forEach(function (series) {\n                series.disabled = false;\n              });\n            }\n          }\n\n          dispatch.stateChange({\n            disabled: data.map(function (d) {\n              return !!d.disabled;\n            })\n          });\n        }\n      }).on('dblclick', function (d, i) {\n        dispatch.legendDblclick(d, i);\n\n        if (updateState) {\n          //the default behavior of NVD3 legends, when double clicking one,\n          // is to set all other series' to false, and make the double clicked series enabled.\n          data.forEach(function (series) {\n            series.disabled = true;\n          });\n          d.disabled = false;\n          dispatch.stateChange({\n            disabled: data.map(function (d) {\n              return !!d.disabled;\n            })\n          });\n        }\n      });\n      seriesEnter.append('circle').style('stroke-width', 2).attr('class', 'nv-legend-symbol').attr('r', 5).style('display', function (d) {\n        return d.checkbox ? 'none' : 'inline';\n      });\n      seriesEnter.append('rect').style('stroke-width', 2).attr('class', 'nv-legend-symbol').attr('width', 10).attr('height', 10).attr('transform', 'translate(-5,-5)').style('display', function (d) {\n        return d.checkbox ? 'inline' : 'none';\n      });\n      seriesEnter.append('text').attr('text-anchor', 'start').attr('class', 'nv-legend-text').attr('dy', '.32em').attr('dx', '8');\n      series.classed('disabled', function (d) {\n        return d.disabled;\n      });\n      series.exit().remove();\n      series.select('circle').style('fill', function (d, i) {\n        return d.color || color(d, i);\n      }).style('stroke', function (d, i) {\n        return d.color || color(d, i);\n      });\n      series.select('rect').style('fill', function (d, i) {\n        return d.color || color(d, i);\n      }).style('stroke', function (d, i) {\n        return d.color || color(d, i);\n      });\n      series.select('text').text(getKey); //TODO: implement fixed-width and max-width options (max-width is especially useful with the align option)\n      // NEW ALIGNING CODE, TODO: clean up\n\n      if (align) {\n        var seriesWidths = [];\n        series.each(function () {\n          var legendText = d3v3.select(this).select('text');\n          var nodeTextLength;\n\n          try {\n            nodeTextLength = legendText.getComputedTextLength(); // If the legendText is display:none'd (nodeTextLength == 0), simulate an error so we approximate, instead\n\n            if (nodeTextLength <= 0) {\n              throw Error();\n            }\n          } catch (e) {\n            nodeTextLength = nv.utils.calcApproxTextWidth(legendText);\n          }\n\n          seriesWidths.push(nodeTextLength + 28); // 28 is ~ the width of the circle plus some padding\n        });\n        var seriesPerRow = 0;\n        var legendWidth = 0;\n        var columnWidths = [];\n\n        while (legendWidth < availableWidth && seriesPerRow < seriesWidths.length) {\n          columnWidths[seriesPerRow] = seriesWidths[seriesPerRow];\n          legendWidth += seriesWidths[seriesPerRow++];\n        }\n\n        if (seriesPerRow === 0) {\n          seriesPerRow = 1;\n        } //minimum of one series per row\n\n\n        while (legendWidth > availableWidth && seriesPerRow > 1) {\n          columnWidths = [];\n          seriesPerRow--;\n\n          for (var k = 0; k < seriesWidths.length; k++) {\n            if (seriesWidths[k] > (columnWidths[k % seriesPerRow] || 0)) {\n              columnWidths[k % seriesPerRow] = seriesWidths[k];\n            }\n          }\n\n          legendWidth = columnWidths.reduce(function (prev, cur) {\n            return prev + cur;\n          });\n        }\n\n        var xPositions = [];\n\n        for (var i = 0, curX = 0; i < seriesPerRow; i++) {\n          xPositions[i] = curX;\n          curX += columnWidths[i];\n        }\n\n        series.attr('transform', function (d, i) {\n          return 'translate(' + xPositions[i % seriesPerRow] + ',' + (5 + Math.floor(i / seriesPerRow) * 20) + ')';\n        }); //position legend as far right as possible within the total width\n\n        if (rightAlign) {\n          g.attr('transform', 'translate(' + nv.utils.NaNtoZero(width - margin.right - legendWidth) + ',' + margin.top + ')');\n        } else {\n          g.attr('transform', 'translate(0' + ',' + margin.top + ')');\n        }\n\n        height = margin.top + margin.bottom + Math.ceil(seriesWidths.length / seriesPerRow) * 20;\n      } else {\n        var ypos = 5,\n            newxpos = 5,\n            maxwidth = 0,\n            xpos;\n        series.attr('transform', function () {\n          var length = d3v3.select(this).select('text').node().getComputedTextLength() + 28;\n          xpos = newxpos;\n\n          if (width < margin.left + margin.right + xpos + length) {\n            newxpos = xpos = 5;\n            ypos += 20;\n          }\n\n          newxpos += length;\n\n          if (newxpos > maxwidth) {\n            maxwidth = newxpos;\n          }\n\n          return 'translate(' + xpos + ',' + ypos + ')';\n        }); //position legend as far right as possible within the total width\n\n        g.attr('transform', 'translate(' + (width - margin.right - maxwidth) + ',' + margin.top + ')');\n        height = margin.top + margin.bottom + ypos + 15;\n      }\n    });\n    return chart;\n  } //============================================================\n  // Expose Public Variables\n  //------------------------------------------------------------\n\n\n  chart.dispatch = dispatch;\n  chart.options = nv.utils.optionsFunc.bind(chart);\n\n  chart.margin = function (_) {\n    if (!arguments.length) {\n      return margin;\n    }\n\n    margin.top = typeof _.top != 'undefined' ? _.top : margin.top;\n    margin.right = typeof _.right != 'undefined' ? _.right : margin.right;\n    margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom;\n    margin.left = typeof _.left != 'undefined' ? _.left : margin.left;\n    return chart;\n  };\n\n  chart.width = function (_) {\n    if (!arguments.length) {\n      return width;\n    }\n\n    width = _;\n    return chart;\n  };\n\n  chart.height = function (_) {\n    if (!arguments.length) {\n      return height;\n    }\n\n    height = _;\n    return chart;\n  };\n\n  chart.key = function (_) {\n    if (!arguments.length) {\n      return getKey;\n    }\n\n    getKey = _;\n    return chart;\n  };\n\n  chart.color = function (_) {\n    if (!arguments.length) {\n      return color;\n    }\n\n    color = nv.utils.getColor(_);\n    return chart;\n  };\n\n  chart.align = function (_) {\n    if (!arguments.length) {\n      return align;\n    }\n\n    align = _;\n    return chart;\n  };\n\n  chart.rightAlign = function (_) {\n    if (!arguments.length) {\n      return rightAlign;\n    }\n\n    rightAlign = _;\n    return chart;\n  };\n\n  chart.updateState = function (_) {\n    if (!arguments.length) {\n      return updateState;\n    }\n\n    updateState = _;\n    return chart;\n  };\n\n  chart.radioButtonMode = function (_) {\n    if (!arguments.length) {\n      return radioButtonMode;\n    }\n\n    radioButtonMode = _;\n    return chart;\n  }; //============================================================\n\n\n  return chart;\n};","// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport d3v3 from 'd3v3';\nimport htmlEncode from 'utils/html/htmlEncode';\nimport nv from \"../ext/nv.d3.1.1.15b.custom\";\n\nnv.models.lineWithBrushChart = function () {\n  'use strict'; //============================================================\n  // Public Variables with Default Settings\n  //------------------------------------------------------------\n\n  var LABELS = {\n    SELECT: 'Enable selection'\n  };\n  var lines = nv.models.line(),\n      xAxis = nv.models.axis(),\n      yAxis = nv.models.axis(),\n      legend = nv.models.legend(),\n      controls = nv.models.legend(),\n      interactiveLayer = nv.interactiveGuideline(),\n      margin = {\n    top: 30,\n    right: 20,\n    bottom: 50,\n    left: 60\n  };\n  var brush = d3v3.svg.brush(),\n      color = nv.utils.defaultColor(),\n      width = null,\n      height = null,\n      showLegend = true,\n      showControls = true,\n      showXAxis = true,\n      showYAxis = true,\n      rightAlignYAxis = false,\n      useInteractiveGuideline = false,\n      tooltips = true,\n      tooltip = null,\n      displayValuesInLegend = false;\n\n  var tooltipSimple = function tooltipSimple(value) {\n    return '<h3>' + htmlEncode(value.key) + '</h3>' + '<p>' + htmlEncode(value.x) + '</p>';\n  },\n      tooltipMultiple = function tooltipMultiple(values) {\n    return '<h3>' + htmlEncode(values[0] && values[0].x) + '</h3>' + values.map(function (value) {\n      return '<p><span class=\"circle\" style=\"background-color:' + value.color + '\"></span><b>' + htmlEncode(value.key) + '</b> ' + htmlEncode(value.y) + '</p>';\n    }).join('');\n  },\n      getX = function getX(d) {\n    return d.x;\n  },\n      // accessor to get the x value\n  getY = function getY(d) {\n    return d.y;\n  },\n      // accessor to get the y value;\n  controlWidth = function controlWidth() {\n    return showControls ? selectionHidden ? 240 : 300 : 0;\n  },\n      legendWidth = 175,\n      dispatch = d3v3.dispatch('tooltipShow', 'tooltipHide', 'stateChange', 'changeState', 'brush');\n\n  var x,\n      y,\n      state = {},\n      defaultState = null,\n      noData = 'No Data Available.',\n      transitionDuration = 250,\n      extent,\n      selectionEnabled = false,\n      selectionHidden = false,\n      onSelectRange = null,\n      onStateChange = null,\n      onLegendChange = null,\n      onChartUpdate = null;\n  xAxis.orient('bottom').tickPadding(7);\n  yAxis.orient(rightAlignYAxis ? 'right' : 'left');\n  controls.updateState(false); //============================================================\n  //============================================================\n  // Private Variables\n  //------------------------------------------------------------\n\n  var showTooltip = function showTooltip(e, offsetElement) {\n    var values;\n\n    if (!tooltip) {\n      values = (e.list || [e]).map(function (e) {\n        var x = xAxis.tickFormat()(lines.x()(e.point, e.pointIndex)),\n            y = yAxis.tickFormat()(lines.y()(e.point, e.pointIndex));\n        return {\n          x: x,\n          y: y,\n          key: displayValuesInLegend && (e.point.obj.field || e.point.obj.fq_fields && e.point.obj.fq_fields[0]) || e.series.key,\n          color: e.series.color || color(e.series, e.point.series)\n        };\n      });\n    } else {\n      values = tooltip((e.list || [e]).map(function (e) {\n        var x = lines.x()(e.point, e.pointIndex),\n            y = lines.y()(e.point, e.pointIndex);\n        return {\n          x: x,\n          y: y,\n          key: displayValuesInLegend && (e.point.obj.field || e.point.obj.fq_fields && e.point.obj.fq_fields[0]) || e.series.key,\n          color: e.series.color || color(e.series, e.point.series)\n        };\n      }));\n    }\n\n    var left = e.pos[0] + (offsetElement.offsetLeft || 0),\n        top = e.pos[1] + (offsetElement.offsetTop || 0),\n        content = displayValuesInLegend ? tooltipSimple(values[0]) : tooltipMultiple(values);\n    nv.tooltip.show([left, top], content, null, null, offsetElement);\n  }; //============================================================\n\n\n  function chart(selection) {\n    selection.each(function (data) {\n      var container = d3v3.select(this),\n          that = this;\n      var availableWidth = (width || parseInt(container.style('width')) || 960) - margin.left - margin.right,\n          availableChartWidth = Math.max(availableWidth - showLegend * legendWidth, 0),\n          availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom;\n\n      chart.update = function () {\n        container.transition().duration(transitionDuration).each('end', onChartUpdate).call(chart);\n        filteredData = data.filter(function (series) {\n          return !series.disabled;\n        });\n\n        if (selectionEnabled) {\n          enableBrush();\n        } else {\n          disableBrush();\n        }\n      };\n\n      chart.container = this; //set state.disabled\n\n      state.disabled = data.map(function (d) {\n        return !!d.disabled;\n      });\n\n      if (!defaultState) {\n        var key;\n        defaultState = {};\n\n        for (key in state) {\n          if (state[key] instanceof Array) {\n            defaultState[key] = state[key].slice(0);\n          } else {\n            defaultState[key] = state[key];\n          }\n        }\n      } //------------------------------------------------------------\n      // Display noData message if there's nothing to show.\n\n\n      if (!data || !data.length || !data.filter(function (d) {\n        return d.values.length;\n      }).length) {\n        var noDataText = container.selectAll('.nv-noData').data([noData]);\n        noDataText.enter().append('text').attr('class', 'nvd3 nv-noData').attr('dy', '-.7em').style('text-anchor', 'middle');\n        noDataText.attr('x', margin.left + availableWidth / 2).attr('y', margin.top + availableHeight / 2).text(function (d) {\n          return d;\n        });\n        return chart;\n      } else {\n        container.selectAll('.nv-noData').remove();\n      } //------------------------------------------------------------\n      //------------------------------------------------------------\n      // Setup Scales\n\n\n      x = lines.xScale();\n      y = lines.yScale(); //------------------------------------------------------------\n      //------------------------------------------------------------\n      // Setup containers and skeleton of chart\n\n      var wrap = container.selectAll('g.nv-wrap.nv-lineChart').data([data]);\n      var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-lineChart').append('g');\n      var g = wrap.select('g');\n      gEnter.append('rect').style('opacity', 0);\n      gEnter.append('g').attr('class', 'nv-x nv-axis');\n      gEnter.append('g').attr('class', 'nv-y nv-axis');\n      gEnter.append('g').attr('class', 'nv-linesWrap'); // We put the legend in an another SVG to support scrolling\n\n      var legendDiv = d3v3.select(container.node().parentNode).select('div');\n      var legendSvg = legendDiv.select('svg').size() === 0 ? legendDiv.append('svg') : legendDiv.select('svg');\n      legendSvg.style('height', data.length * 20 + 6 + 'px').selectAll('g').remove();\n      var legendG = legendSvg.append('g').attr('class', 'nvd3 nv-wrap nv-legendWrap');\n      gEnter.append('g').attr('class', 'nv-interactive');\n      gEnter.append('g').attr('class', 'nv-controlsWrap');\n      g.select('rect').attr('width', availableChartWidth).attr('height', availableHeight > 0 ? availableHeight : 0); //------------------------------------------------------------\n      // Legend\n\n      if (showLegend) {\n        legend.width(legendWidth / 2);\n        legend.height(availableHeight);\n        legend.rightAlign(false);\n        legend.margin({\n          top: 5,\n          right: 0,\n          left: 10,\n          bottom: 0\n        });\n        data.forEach(function (series, i) {\n          series.color = color(series, i);\n        });\n\n        try {\n          legendG.datum(data).call(legend).selectAll('text').text(function (d) {\n            if (displayValuesInLegend) {\n              var addEllipsis = d.key && d.key.length > 12;\n              return d.key && d.key.substring(0, 12) + (addEllipsis ? '...' : '');\n            } else {\n              return d.key;\n            }\n          }).append('title').text(function (d) {\n            return d.key;\n          });\n\n          if (displayValuesInLegend) {\n            legendG.selectAll('g.nv-series').append('text').classed('nv-series-value', true).text(function () {\n              return '';\n            }).attr('dx', 125).attr('dy', '.32em').attr('text-anchor', 'end').append('title').classed('nv-series-value', true).text(function () {\n              return '';\n            });\n          }\n        } catch (e) {}\n      }\n\n      var controlsData = [];\n\n      if (showControls) {\n        if (!selectionHidden) {\n          controlsData.push({\n            key: LABELS.SELECT,\n            disabled: !selectionEnabled,\n            checkbox: true\n          });\n        }\n\n        controls.width(controlWidth()).color(['#444', '#444', '#444']);\n        g.select('.nv-controlsWrap').datum(controlsData).attr('transform', 'translate(0,' + -margin.top + ')').call(controls);\n      } //------------------------------------------------------------\n\n\n      wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n\n      if (rightAlignYAxis) {\n        g.select('.nv-y.nv-axis').attr('transform', 'translate(' + availableChartWidth + ',0)');\n      } //------------------------------------------------------------\n      // Main Chart Component(s)\n      //------------------------------------------------------------\n      //Set up interactive layer\n\n\n      if (useInteractiveGuideline) {\n        interactiveLayer.width(availableChartWidth).height(availableHeight).margin({\n          left: margin.left,\n          top: margin.top\n        }).svgContainer(container).xScale(x);\n        wrap.select('.nv-interactive').call(interactiveLayer);\n      }\n\n      var filteredData = data.filter(function (series) {\n        return !series.disabled;\n      });\n      lines.width(availableChartWidth).height(availableHeight).color(data.map(function (d, i) {\n        return d.color || color(d, i);\n      }).filter(function (d, i) {\n        return !data[i].disabled;\n      }));\n      var linesWrap = g.select('.nv-linesWrap').datum(data.filter(function (d) {\n        return !d.disabled;\n      }));\n      linesWrap.transition().call(lines); //------------------------------------------------------------\n      //------------------------------------------------------------\n      // Setup Brush\n\n      var overlay;\n\n      if (selectionEnabled) {\n        enableBrush();\n        overlay = g.select('rect');\n        overlay.style('display', 'none');\n      } else {\n        disableBrush();\n        overlay = g.select('rect');\n        overlay.style('display', 'inherit').attr('height', availableHeight).attr('width', availableWidth).on('mousemove', onMouseMove).on('mouseout', onMouseOut).on('click', onClick);\n      }\n\n      function enableBrush() {\n        if (!g) {\n          // Can happen if the state change before the charts has been created.\n          return;\n        }\n\n        brush.x(x).on('brush', onBrush).on('brushend', onBrushEnd);\n\n        if (chart.brushDomain) {\n          var brushExtent = [fGetNumericValue(chart.brushDomain[0]), fGetNumericValue(chart.brushDomain[1])];\n          var isWholeDomain = xAxis.scale()(chart.brushDomain[0]) < 10 && xAxis.scale()(chart.brushDomain[1]) >= xAxis.range()[1];\n\n          if (!isWholeDomain) {\n            // If brush is the whole domain, don't display brush\n            brush.extent(brushExtent);\n          } else {\n            brush.clear();\n          }\n        } else {\n          brush.clear();\n        }\n\n        var gBrush;\n\n        if (g.selectAll('.nv-brush')[0].length === 0) {\n          g.append('g').attr('class', 'nv-brushBackground');\n          g.append('g').attr('class', 'nv-x nv-brush');\n          var brushBG = g.select('.nv-brushBackground').selectAll('g').data([chart.brushExtent || brush.extent()]);\n          var brushBGenter = brushBG.enter().append('g');\n          brushBGenter.append('rect').attr('class', 'left').attr('x', 0).attr('y', 0).attr('height', availableHeight);\n          brushBGenter.append('rect').attr('class', 'right').attr('x', 0).attr('y', 0).attr('height', availableHeight);\n          gBrush = g.select('.nv-x.nv-brush').call(brush);\n        } else {\n          g.selectAll('.nv-brush').attr('display', 'inline');\n          gBrush = g.select('.nv-x.nv-brush').call(brush);\n        }\n\n        gBrush.selectAll('rect').attr('height', availableHeight).on('mousemove', onMouseMove).on('mouseout', onMouseOut);\n      }\n\n      function disableBrush() {\n        if (g) {\n          g.selectAll('.nv-brush').attr('display', 'none');\n        }\n      } //------------------------------------------------------------\n      // Setup Axes\n\n\n      if (showXAxis) {\n        xAxis.scale(x).ticks(availableChartWidth / 100).tickSize(-availableHeight, 0);\n        g.select('.nv-x.nv-axis').attr('transform', 'translate(0,' + y.range()[0] + ')');\n        g.select('.nv-x.nv-axis').transition().call(xAxis);\n      }\n\n      if (showYAxis) {\n        yAxis.scale(y).ticks(availableHeight / 36).tickSize(-availableChartWidth, 0);\n        g.select('.nv-y.nv-axis').transition().call(yAxis);\n      } //------------------------------------------------------------\n      //============================================================\n      // Event Handling/Dispatching (in chart's scope)\n      //------------------------------------------------------------\n\n\n      legend.dispatch.on('stateChange', function (newState) {\n        state = newState;\n        dispatch.stateChange(state);\n\n        if (onLegendChange) {\n          onLegendChange(state);\n        }\n\n        chart.update();\n      });\n      controls.dispatch.on('legendClick', function (d) {\n        if (typeof d.checkbox == 'undefined') {\n          if (!d.disabled) {\n            return;\n          }\n\n          controlsData.forEach(function (controlData) {\n            controlData.disabled = false;\n          });\n          d.disabled = false;\n        }\n\n        switch (d.key) {\n          case LABELS.SELECT:\n            selectionEnabled = !selectionEnabled;\n            break;\n        }\n\n        chart.update();\n      });\n      interactiveLayer.dispatch.on('elementMousemove', function (e) {\n        lines.clearHighlights();\n        var singlePoint,\n            pointIndex,\n            pointXLocation = undefined;\n        var allData = [];\n        data.filter(function (series, i) {\n          series.seriesIndex = i;\n          return !series.disabled;\n        }).forEach(function (series, i) {\n          pointIndex = nv.interactiveBisect(series.values, e.pointXValue, chart.x());\n          lines.highlightPoint(i, pointIndex, true);\n          var point = series.values[pointIndex];\n\n          if (typeof point === 'undefined') {\n            return;\n          }\n\n          if (typeof singlePoint === 'undefined') {\n            singlePoint = point;\n          }\n\n          if (typeof pointXLocation === 'undefined') {\n            pointXLocation = chart.xScale()(chart.x()(point, pointIndex));\n          }\n\n          allData.push({\n            key: series.key,\n            value: chart.y()(point, pointIndex),\n            color: color(series, series.seriesIndex)\n          });\n        }); //Highlight the tooltip entry based on which point the mouse is closest to.\n\n        if (allData.length > 2) {\n          var yValue = chart.yScale().invert(e.mouseY);\n          var domainExtent = Math.abs(chart.yScale().domain()[0] - chart.yScale().domain()[1]);\n          var threshold = 0.03 * domainExtent;\n          var indexToHighlight = nv.nearestValueIndex(allData.map(function (d) {\n            return d.value;\n          }), yValue, threshold);\n\n          if (indexToHighlight !== null) {\n            allData[indexToHighlight].highlight = true;\n          }\n        }\n\n        var xValue = xAxis.tickFormat()(chart.x()());\n        interactiveLayer.tooltip.position({\n          left: pointXLocation + margin.left,\n          top: e.mouseY + margin.top\n        }).chartContainer(that.parentNode).enabled(tooltips).valueFormatter(function (d) {\n          return yAxis.tickFormat()(d);\n        }).data({\n          value: xValue,\n          series: allData\n        })();\n        interactiveLayer.renderGuideLine(pointXLocation);\n      });\n      interactiveLayer.dispatch.on('elementMouseout', function (e) {\n        dispatch.tooltipHide();\n        lines.clearHighlights();\n      });\n      dispatch.on('tooltipShow', function (e) {\n        if (tooltips) {\n          showTooltip(e, that.parentNode);\n        }\n      });\n      dispatch.on('changeState', function (e) {\n        if (typeof e.disabled !== 'undefined' && data.length === e.disabled.length) {\n          data.forEach(function (series, i) {\n            series.disabled = e.disabled[i];\n          });\n          state.disabled = e.disabled;\n        }\n\n        chart.update();\n      }); //============================================================\n\n      function onBrush() {\n        chart.brushExtent = brush.empty() ? null : brush.extent();\n        extent = brush.empty() ? x.domain() : brush.extent();\n        dispatch.brush({\n          extent: extent,\n          brush: brush\n        });\n      }\n\n      function fGetNumericValue(o) {\n        return o instanceof Date ? o.getTime() : o;\n      }\n\n      function onBrushEnd() {\n        var closest = function closest() {\n          if (!data[0].values.length) {\n            return [];\n          }\n\n          var xDate = x.invert(d3v3.mouse(this)[0]);\n          var distances = {};\n          var min = Number.MAX_VALUE;\n          var next = -Number.MAX_VALUE;\n          var diff;\n          var i, j;\n\n          for (j = 0; j < data.length; j++) {\n            for (i = 0; i < data[j].values.length; i++) {\n              diff = xDate - fGetNumericValue(data[j].values[i].x);\n\n              if (diff >= 0 && diff < min) {\n                min = diff;\n              } else if (diff < 0 && diff > next) {\n                next = diff;\n              }\n\n              if (!distances[diff]) {\n                distances[diff] = [];\n              }\n\n              distances[diff].push(data[j].values[i]);\n            }\n          }\n\n          if (distances[min][0].x_end) {\n            return [distances[min][0].x, distances[min][0].x_end];\n          } else if (distances[min] !== undefined && distances[next] !== undefined) {\n            var _from = distances[min][0].x < distances[next][0].x ? distances[min][0].x : distances[next][0].x;\n\n            var _to = distances[min][0].x < distances[next][0].x ? distances[next][0].x : distances[min][0].x;\n\n            return [_from, _to];\n          } else {\n            return [];\n          }\n        };\n\n        chart.brushExtent = extent = brush.empty() ? closest.call(this) : brush.extent();\n\n        if (onSelectRange) {\n          onSelectRange(fGetNumericValue(extent[0]), fGetNumericValue(extent[1]));\n        }\n      }\n\n      function getElByMouse() {\n        var xy = d3v3.mouse(this);\n        var px = x.invert(xy[0]);\n\n        if (!filteredData.length || !filteredData[0].values.length) {\n          return null;\n        }\n\n        var minx = Math.abs(filteredData[0].values[0].x - px);\n        var distances = {};\n        var py = y.invert(xy[1]);\n        var i, j, diff; // Find closest on x axis\n\n        for (j = 0; j < filteredData.length; j++) {\n          for (i = 0; i < filteredData[j].values.length; i++) {\n            diff = Math.abs(fGetNumericValue(filteredData[j].values[i].x) - px);\n\n            if (!distances[diff]) {\n              distances[diff] = [];\n            }\n\n            filteredData[j].values[i].seriesKey = filteredData[j].key;\n            distances[diff].push(filteredData[j].values[i]);\n\n            if (diff < minx) {\n              minx = diff;\n            }\n          }\n        } // Find series with y axis\n\n\n        var miny = Number.MAX_VALUE;\n        var distancesy = {};\n\n        for (i = 0; i < distances[minx].length; i++) {\n          diff = Math.abs(distances[minx][i].y - py);\n\n          if (!distancesy[diff]) {\n            distancesy[diff] = [];\n          }\n\n          distancesy[diff].push(distances[minx][i]);\n\n          if (diff < miny) {\n            miny = diff;\n          }\n        }\n\n        return distancesy[miny];\n      }\n\n      function onMouseMove() {\n        var el = getElByMouse.call(this); // If we're mousing over a circle that doesn't have class hover, set class and dispatch mouseover\n\n        var target = container.selectAll('g.nv-wrap.nv-lineChart circle:not(.hover)').filter(function (rect) {\n          return el && el.some(function (d) {\n            return fGetNumericValue(getX(rect)) === fGetNumericValue(getX(d)) && d.series === rect.series;\n          });\n        });\n\n        if (el && el.length && displayValuesInLegend) {\n          var _legendG = legendSvg.select('.nvd3.nv-wrap.nv-legendWrap');\n\n          var elBySerie = el.reduce(function (elBySerie, el) {\n            elBySerie[el.seriesKey] = el;\n            return elBySerie;\n          }, {});\n\n          _legendG.selectAll('g.nv-series text.nv-series-value').text(function (d) {\n            if (elBySerie[d.key]) {\n              var value = yAxis.tickFormat()(d.values[elBySerie[d.key].index].y) + '';\n              var addEllipsis = value.length > 5;\n              return value && (addEllipsis ? '...' : '') + value.substring(value.length - 5);\n            } else {\n              return '';\n            }\n          }).append('title').text(function (d) {\n            if (elBySerie[d.key]) {\n              return yAxis.tickFormat()(d.values[elBySerie[d.key].index].y);\n            } else {\n              return '';\n            }\n          });\n        } // If there's rectangle with the hover class that are not the target, remove the class and dispatch mouseout\n\n\n        var others = container.selectAll('g.nv-wrap.nv-lineChart circle.hover').filter(function (rect) {\n          return !el || !el.some(function (d) {\n            return fGetNumericValue(getX(rect)) === fGetNumericValue(getX(d)) && d.series === rect.series;\n          });\n        });\n\n        if (others.size()) {\n          others.classed('hover', false).each(function (d, i) {\n            lines.dispatch.elementMouseout({\n              value: getY(d),\n              point: d,\n              series: filteredData[d.series],\n              pointIndex: i,\n              seriesIndex: d.series,\n              e: d3v3.event\n            });\n          });\n        }\n\n        if (target.size()) {\n          var e = d3v3.event; // Keep reference to event for setTimeout\n\n          setTimeout(function () {\n            // Delayed to conteract conflict with elementMouseout.\n            target.classed('hover', true);\n            var max,\n                maxi = 0;\n            target.each(function (d, i) {\n              if (isNaN(max) || max < getY(d)) {\n                max = getY(d);\n                maxi = i;\n              }\n            });\n            d3v3.select(target[0][maxi]).each(function (d) {\n              lines.dispatch.elementMouseover({\n                value: getY(d),\n                point: d,\n                series: filteredData[d.series],\n                pos: [x(getX(d)), y(getY(d))],\n                pointIndex: -1,\n                seriesIndex: d.series,\n                list: el.map(function (d) {\n                  return {\n                    value: getY(d),\n                    point: d,\n                    series: filteredData[d.series],\n                    pos: [x(getX(d)), y(getY(d))],\n                    pointIndex: -1,\n                    seriesIndex: d.series\n                  };\n                }),\n                e: e\n              });\n            });\n          });\n        }\n      }\n\n      function onMouseOut() {\n        var others = container.selectAll('g.nv-wrap.nv-lineChart circle.hover');\n\n        if (others.size()) {\n          others.classed('hover', false).each(function (d) {\n            lines.dispatch.elementMouseout({\n              value: getY(d),\n              point: d,\n              series: filteredData[d.series],\n              pointIndex: d.index,\n              seriesIndex: d.series,\n              e: d3v3.event\n            });\n          });\n        }\n      }\n\n      function onClick() {\n        var el = getElByMouse.call(this);\n        var d = el[0];\n        lines.dispatch.elementClick({\n          value: getY(d),\n          point: d,\n          series: filteredData[d.series],\n          pointIndex: d.index,\n          seriesIndex: d.series,\n          e: d3v3.event\n        });\n      }\n    });\n    return chart;\n  } //============================================================\n  // Event Handling/Dispatching (out of chart's scope)\n  //------------------------------------------------------------\n\n\n  lines.dispatch.on('elementMouseover.tooltip', function (e) {\n    e.pos = [e.pos[0] + margin.left, e.pos[1] + margin.top];\n    dispatch.tooltipShow(e);\n  });\n  lines.dispatch.on('elementMouseout.tooltip', function (e) {\n    dispatch.tooltipHide(e);\n  });\n  dispatch.on('tooltipHide', function () {\n    if (tooltips) {\n      nv.tooltip.cleanup();\n    }\n  }); //============================================================\n  //============================================================\n  // Expose Public Variables\n  //------------------------------------------------------------\n  // expose chart's sub-components\n\n  chart.dispatch = dispatch;\n  chart.lines = lines;\n  chart.legend = legend;\n  chart.xAxis = xAxis;\n  chart.yAxis = yAxis;\n  chart.xScale = lines.xScale;\n  chart.interactiveLayer = interactiveLayer;\n  d3v3.rebind(chart, lines, 'defined', 'isArea', 'x', 'y', 'size', 'xScale', 'yScale', 'xDomain', 'yDomain', 'xRange', 'yRange', 'forceX', 'forceY', 'interactive', 'clipEdge', 'clipVoronoi', 'useVoronoi', 'id', 'interpolate');\n  chart.options = nv.utils.optionsFunc.bind(chart);\n\n  chart.margin = function (_) {\n    if (!arguments.length) {\n      return margin;\n    }\n\n    margin.top = typeof _.top != 'undefined' ? _.top : margin.top;\n    margin.right = typeof _.right != 'undefined' ? _.right : margin.right;\n    margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom;\n    margin.left = typeof _.left != 'undefined' ? _.left : margin.left;\n    return chart;\n  };\n\n  chart.width = function (_) {\n    if (!arguments.length) {\n      return width;\n    }\n\n    width = _;\n    return chart;\n  };\n\n  chart.height = function (_) {\n    if (!arguments.length) {\n      return height;\n    }\n\n    height = _;\n    return chart;\n  };\n\n  chart.color = function (_) {\n    if (!arguments.length) {\n      return color;\n    }\n\n    color = nv.utils.getColor(_);\n    legend.color(color);\n    return chart;\n  };\n\n  chart.showControls = function (_) {\n    if (!arguments.length) {\n      return showControls;\n    }\n\n    showControls = _;\n    return chart;\n  };\n\n  chart.showLegend = function (_) {\n    if (!arguments.length) {\n      return showLegend;\n    }\n\n    showLegend = _;\n    return chart;\n  };\n\n  chart.showXAxis = function (_) {\n    if (!arguments.length) {\n      return showXAxis;\n    }\n\n    showXAxis = _;\n    return chart;\n  };\n\n  chart.showYAxis = function (_) {\n    if (!arguments.length) {\n      return showYAxis;\n    }\n\n    showYAxis = _;\n    return chart;\n  };\n\n  chart.rightAlignYAxis = function (_) {\n    if (!arguments.length) {\n      return rightAlignYAxis;\n    }\n\n    rightAlignYAxis = _;\n    yAxis.orient(_ ? 'right' : 'left');\n    return chart;\n  };\n\n  chart.useInteractiveGuideline = function (_) {\n    if (!arguments.length) {\n      return useInteractiveGuideline;\n    }\n\n    useInteractiveGuideline = _;\n\n    if (_ === true) {\n      chart.interactive(false);\n      chart.useVoronoi(false);\n    }\n\n    return chart;\n  };\n\n  chart.tooltips = function (_) {\n    if (!arguments.length) {\n      return tooltips;\n    }\n\n    tooltips = _;\n    return chart;\n  };\n\n  chart.tooltipContent = function (_) {\n    if (!arguments.length) {\n      return tooltip;\n    }\n\n    tooltip = _;\n    return chart;\n  };\n\n  chart.state = function (_) {\n    if (!arguments.length) {\n      return state;\n    }\n\n    state = _;\n    return chart;\n  };\n\n  chart.defaultState = function (_) {\n    if (!arguments.length) {\n      return defaultState;\n    }\n\n    defaultState = _;\n    return chart;\n  };\n\n  chart.noData = function (_) {\n    if (!arguments.length) {\n      return noData;\n    }\n\n    noData = _;\n    return chart;\n  };\n\n  chart.transitionDuration = function (_) {\n    if (!arguments.length) {\n      return transitionDuration;\n    }\n\n    transitionDuration = _;\n    return chart;\n  };\n\n  chart.enableSelection = function () {\n    selectionEnabled = true;\n    return chart;\n  };\n\n  chart.disableSelection = function () {\n    selectionEnabled = false;\n    return chart;\n  };\n\n  chart.isSelectionEnabled = function () {\n    return selectionEnabled;\n  };\n\n  chart.hideSelection = function () {\n    selectionHidden = true;\n    return chart;\n  };\n\n  chart.showSelection = function () {\n    selectionHidden = false;\n    return chart;\n  };\n\n  chart.onSelectRange = function (_) {\n    if (!arguments.length) {\n      return onSelectRange;\n    }\n\n    onSelectRange = _;\n    return chart;\n  };\n\n  chart.onChartUpdate = function (_) {\n    if (!arguments.length) {\n      return onChartUpdate;\n    }\n\n    onChartUpdate = _;\n    return chart;\n  };\n\n  chart.onStateChange = function (_) {\n    if (!arguments.length) {\n      return onStateChange;\n    }\n\n    onStateChange = _;\n    return chart;\n  };\n\n  chart.onLegendChange = function (_) {\n    if (!arguments.length) {\n      return onLegendChange;\n    }\n\n    onLegendChange = _;\n    return chart;\n  };\n\n  chart.displayValuesInLegend = function (_) {\n    if (!arguments.length) {\n      return displayValuesInLegend;\n    }\n\n    displayValuesInLegend = _;\n    return chart;\n  };\n\n  chart.brush = function (_) {\n    if (!arguments.length) {\n      return brush;\n    }\n\n    brush = _;\n    return chart;\n  };\n\n  chart.selectBars = function (args) {\n    if (!arguments.length) {\n      return chart.brushDomain;\n    }\n\n    if (args && args.rangeValues) {\n      chart.brushDomain = [args.rangeValues[0].from, args.rangeValues[0].to];\n    } else {\n      chart.brushDomain = null;\n    }\n\n    return chart;\n  }; //============================================================\n\n\n  return chart;\n};","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport d3v3 from 'd3v3';\nimport htmlEncode from 'utils/html/htmlEncode';\nimport nv from \"../ext/nv.d3.1.1.15b.custom\";\n\nnv.models.multiBarWithBrushChart = function () {\n  'use strict'; //============================================================\n  // Public Variables with Default Settings\n  //------------------------------------------------------------\n\n  var LABELS = {\n    STACKED: 'Stacked',\n    GROUPED: 'Grouped',\n    SELECT: 'Enable selection'\n  };\n  var multibar = nv.models.growingMultiBar(),\n      xAxis = nv.models.axis(),\n      yAxis = nv.models.axis(),\n      legend = nv.models.legend(),\n      controls = nv.models.legend(),\n      margin = {\n    top: 30,\n    right: 20,\n    bottom: 50,\n    left: 60\n  };\n  var brush = d3v3.svg.brush(),\n      width = null,\n      height = null,\n      color = nv.utils.defaultColor(),\n      showControls = true,\n      showLegend = true,\n      showXAxis = true,\n      showYAxis = true,\n      rightAlignYAxis = false,\n      reduceXTicks = true,\n      // if false a tick will show for every data point\n  staggerLabels = false,\n      rotateLabels = 0,\n      tooltips = true,\n      tooltip = null,\n      minTickWidth = 60,\n      displayValuesInLegend = false,\n      tooltipContent = null,\n      x,\n      //can be accessed via chart.xScale()\n  y,\n      //can be accessed via chart.yScale()\n  state = {\n    stacked: false,\n    selectionEnabled: false\n  },\n      defaultState = null,\n      noData = 'No Data Available.';\n\n  var tooltipSimple = function tooltipSimple(value) {\n    return '<h3>' + htmlEncode(value.key) + '</h3>' + '<p>' + htmlEncode(value.x) + '</p>';\n  },\n      tooltipMultiple = function tooltipMultiple(values) {\n    return '<h3>' + htmlEncode(values[0] && values[0].x) + '</h3>' + values.map(function (value) {\n      return '<p><span class=\"circle\" style=\"background-color:' + value.color + '\"></span><b>' + htmlEncode(value.key) + '</b> ' + htmlEncode(value.y) + '</p>';\n    }).join('');\n  },\n      getX = function getX(d) {\n    return d.x;\n  },\n      // accessor to get the x value\n  getY = function getY(d) {\n    return d.y;\n  },\n      // accessor to get the y value\n  dispatch = d3v3.dispatch('tooltipShow', 'tooltipHide', 'stateChange', 'changeState', 'brush'),\n      controlWidth = function controlWidth() {\n    return showControls ? selectionHidden ? 240 : 300 : 0;\n  },\n      legendWidth = 175;\n\n  var transitionDuration = 250,\n      extent,\n      selectionEnabled = false,\n      selectionHidden = false,\n      stackedHidden = false,\n      onSelectRange = null,\n      onStateChange = null,\n      onLegendChange = null,\n      onChartUpdate = null,\n      selectedBars = null,\n      selectBars = null;\n  multibar.stacked(false);\n  xAxis.orient('bottom').tickPadding(7).highlightZero(true).showMaxMin(false).tickFormat(function (d) {\n    return d;\n  });\n  yAxis.orient(rightAlignYAxis ? 'right' : 'left').tickFormat(d3v3.format(',.1f'));\n  controls.updateState(false); //============================================================\n  //============================================================\n  // Private Variables\n  //------------------------------------------------------------\n\n  var showTooltip = function showTooltip(e, offsetElement) {\n    var values;\n\n    if (!tooltipContent) {\n      values = (e.list || [e]).map(function (e) {\n        var x = xAxis.tickFormat()(multibar.x()(e.point, e.pointIndex)),\n            y = yAxis.tickFormat()(multibar.y()(e.point, e.pointIndex));\n        return {\n          x: x,\n          y: y,\n          key: displayValuesInLegend && (e.point.obj.field || e.point.obj.fq_fields && e.point.obj.fq_fields[0]) || e.series.key,\n          color: e.series.color || color(e.series, e.point.series)\n        };\n      });\n    } else {\n      values = tooltipContent((e.list || [e]).map(function (e) {\n        var x = multibar.x()(e.point, e.pointIndex),\n            y = multibar.y()(e.point, e.pointIndex);\n        return {\n          x: x,\n          y: y,\n          key: displayValuesInLegend && (e.point.obj.field || e.point.obj.fq_fields && e.point.obj.fq_fields[0]) || e.series.key,\n          color: e.series.color || color(e.series, e.point.series)\n        };\n      }));\n    }\n\n    var left = e.pos[0] + (offsetElement.offsetLeft || 0),\n        top = e.pos[1] + (offsetElement.offsetTop || 0),\n        content = displayValuesInLegend ? tooltipSimple(values[0]) : tooltipMultiple(values);\n    nv.tooltip.show([left, top], content, e.value < 0 ? 'n' : 's', null, offsetElement);\n  }; //============================================================\n\n\n  function chart(selection) {\n    selection.each(function (data) {\n      var container = d3v3.select(this),\n          that = this;\n      var availableWidth = (width || parseInt(container.style('width')) || 960) - margin.left - margin.right,\n          availableChartWidth = Math.max(availableWidth - showLegend * legendWidth, 0),\n          availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom;\n\n      chart.recommendedTicks = function () {\n        return Math.floor(availableWidth / minTickWidth);\n      };\n\n      chart.update = function () {\n        if (!data) {\n          return;\n        }\n\n        container.transition().duration(transitionDuration).each('end', onChartUpdate).call(chart);\n        filteredData = data.filter(function (series) {\n          return !series.disabled;\n        });\n\n        if (selectionEnabled) {\n          enableBrush();\n        } else {\n          disableBrush();\n        }\n      };\n\n      chart.container = this; //set state.disabled\n\n      state.disabled = data.map(function (d) {\n        return !!d.disabled;\n      });\n\n      if (!defaultState) {\n        var key;\n        defaultState = {};\n\n        for (key in state) {\n          if (state[key] instanceof Array) {\n            defaultState[key] = state[key].slice(0);\n          } else {\n            defaultState[key] = state[key];\n          }\n        }\n      } //------------------------------------------------------------\n      // Display noData message if there's nothing to show.\n\n\n      if (!data || !data.length || !data.filter(function (d) {\n        return d.values.length;\n      }).length) {\n        var noDataText = container.selectAll('.nv-noData').data([noData]);\n        noDataText.enter().append('text').attr('class', 'nvd3 nv-noData').attr('dy', '-.7em').style('text-anchor', 'middle');\n        noDataText.attr('x', margin.left + availableWidth / 2).attr('y', margin.top + availableHeight / 2).text(function (d) {\n          return d;\n        });\n        container.selectAll('.nv-multiBarWithLegend').style('visibility', 'hidden');\n        container.selectAll('.nv-noData').style('visibility', 'visible');\n        return chart;\n      } else {\n        container.selectAll('.nv-multiBarWithLegend').style('visibility', 'visible');\n        container.selectAll('.nv-noData').style('visibility', 'hidden');\n      } //------------------------------------------------------------\n      //------------------------------------------------------------\n      // Setup Scales\n\n\n      x = multibar.xScale();\n      y = multibar.yScale(); //------------------------------------------------------------\n      //------------------------------------------------------------\n      // Setup containers and skeleton of chart\n\n      var wrap = container.selectAll('g.nv-wrap.nv-multiBarWithLegend').data([data]);\n      var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-multiBarWithLegend').append('g');\n      var g = wrap.select('g');\n      gEnter.append('rect').style('opacity', 0);\n      gEnter.append('g').attr('class', 'nv-x nv-axis');\n      gEnter.append('g').attr('class', 'nv-y nv-axis');\n      gEnter.append('g').attr('class', 'nv-barsWrap'); // We put the legend in an another SVG to support scrolling\n\n      var legendDiv = d3v3.select(container.node().parentNode).select('div');\n      var legendSvg = legendDiv.select('svg').size() === 0 ? legendDiv.append('svg') : legendDiv.select('svg');\n      legendSvg.style('height', data.length * 20 + 6 + 'px').selectAll('g').remove();\n      var legendG = legendSvg.append('g').attr('class', 'nvd3 nv-wrap nv-legendWrap');\n      gEnter.append('g').attr('class', 'nv-controlsWrap'); //------------------------------------------------------------\n      //------------------------------------------------------------\n      // Legend\n\n      if (showLegend) {\n        legend.width(legendWidth / 2);\n        legend.height(availableHeight);\n        legend.rightAlign(false);\n        legend.margin({\n          top: 5,\n          right: 0,\n          left: 10,\n          bottom: 0\n        });\n\n        if (multibar.barColor()) {\n          data.forEach(function (series, i) {\n            series.color = d3v3.rgb('#ccc').darker(i * 1.5).toString();\n          });\n        } else {\n          data.forEach(function (series, i) {\n            series.color = color(series, i);\n          });\n        }\n\n        try {\n          legendG.datum(data).call(legend).selectAll('text').text(function (d) {\n            var value = d.key && d.key + '';\n\n            if (displayValuesInLegend) {\n              var addEllipsis = value && value.length > 12;\n              return value && value.substring(0, 12) + (addEllipsis ? '...' : '');\n            } else {\n              return value;\n            }\n          }).append('title').text(function (d) {\n            return d.key;\n          });\n\n          if (displayValuesInLegend) {\n            legendG.selectAll('g.nv-series').append('text').classed('nv-series-value', true).text(function () {\n              return '';\n            }).attr('dx', 125).attr('dy', '.32em').attr('text-anchor', 'end').append('title').text(function () {\n              return '';\n            });\n          }\n        } catch (e) {}\n      } //------------------------------------------------------------\n      //------------------------------------------------------------\n      // Controls\n\n\n      var controlsData = [];\n\n      if (showControls) {\n        if (!stackedHidden) {\n          controlsData.push({\n            key: LABELS.GROUPED,\n            disabled: multibar.stacked()\n          });\n          controlsData.push({\n            key: LABELS.STACKED,\n            disabled: !multibar.stacked()\n          });\n        }\n\n        if (!selectionHidden) {\n          controlsData.push({\n            key: LABELS.SELECT,\n            disabled: !selectionEnabled,\n            checkbox: selectionEnabled\n          });\n        }\n\n        controls.width(controlWidth()).color(['#444', '#444', '#444']);\n        g.select('.nv-controlsWrap').datum(controlsData).attr('transform', 'translate(0,' + -margin.top + ')').call(controls);\n      } //------------------------------------------------------------\n\n\n      wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n\n      if (rightAlignYAxis) {\n        g.select('.nv-y.nv-axis').attr('transform', 'translate(' + availableChartWidth + ',0)');\n      } //------------------------------------------------------------\n      // Main Chart Component(s)\n\n\n      var filteredData = data.filter(function (series) {\n        return !series.disabled;\n      });\n      multibar.disabled(data.map(function (series) {\n        return series.disabled;\n      })).width(availableChartWidth).height(availableHeight).color(data.map(function (d, i) {\n        return d.color || color(d, i);\n      }).filter(function (d, i) {\n        return !data[i].disabled;\n      }));\n      selectBars = multibar.selectBars;\n      var barsWrap = g.select('.nv-barsWrap').datum(data.filter(function (d) {\n        return !d.disabled;\n      }));\n      barsWrap.transition().call(multibar); //------------------------------------------------------------\n      //------------------------------------------------------------\n      // Setup Brush\n\n      var overlay;\n\n      if (selectionEnabled) {\n        enableBrush();\n        overlay = g.select('rect');\n        overlay.style('display', 'none');\n      } else {\n        disableBrush();\n        overlay = g.select('rect');\n        overlay.style('display', 'inherit').attr('height', availableHeight).attr('width', availableWidth).on('mousemove', onMouseMove).on('mouseout', onMouseOut).on('click', onClick);\n      }\n\n      if (selectBars && selectedBars) {\n        selectBars(selectedBars);\n      }\n\n      function enableBrush() {\n        if (!g) {\n          // Can happen if the state change before the charts has been created.\n          return;\n        }\n\n        brush.x(x).on('brush', onBrush).on('brushstart', onBrushStart).on('brushend', onBrushEnd);\n\n        if (chart.brushDomain) {\n          var _selection = fromSelection(chart.brushDomain);\n\n          if (!_selection.isWholeDomain) {\n            // If brush is the whole domain, don't display brush\n            brush.extent(fromSelection(chart.brushDomain).range);\n          } else {\n            brush.clear();\n          }\n        } else {\n          brush.clear();\n        }\n\n        var gBrush;\n\n        if (g.selectAll('.nv-brush')[0].length === 0) {\n          g.append('g').attr('class', 'nv-brushBackground');\n          g.append('g').attr('class', 'nv-x nv-brush');\n          var brushBG = g.select('.nv-brushBackground').selectAll('g').data([chart.brushExtent || brush.extent()]);\n          var brushBGenter = brushBG.enter().append('g');\n          brushBGenter.append('rect').attr('class', 'left').attr('x', 0).attr('y', 0).attr('height', availableHeight);\n          brushBGenter.append('rect').attr('class', 'right').attr('x', 0).attr('y', 0).attr('height', availableHeight);\n          gBrush = g.select('.nv-x.nv-brush').call(brush);\n        } else {\n          g.selectAll('.nv-brush').attr('display', 'inline');\n          gBrush = g.select('.nv-x.nv-brush').call(brush);\n        }\n\n        gBrush.selectAll('rect').attr('height', availableHeight).on('mousemove', onMouseMove).on('mouseout', onMouseOut);\n      }\n\n      function disableBrush() {\n        try {\n          g.selectAll('.nv-brush').attr('display', 'none');\n        } catch (e) {}\n      } //------------------------------------------------------------\n      // Setup Axes\n\n\n      if (showXAxis) {\n        var tickSkip = function tickSkip() {\n          return Math.ceil(minTickWidth / xAxis.rangeBand());\n        };\n\n        xAxis.scale(x).tickValues(x.domain().filter(function (d, i) {\n          return reduceXTicks && !(i % tickSkip());\n        })).tickSize(-availableHeight, 0);\n        g.select('.nv-x.nv-axis').attr('transform', 'translate(0,' + y.range()[0] + ')');\n        g.select('.nv-x.nv-axis').transition().call(xAxis);\n        var xTicks = g.selectAll('.nv-x.nv-axis g.tick');\n        xTicks.selectAll('line, text').style('opacity', 1);\n\n        if (staggerLabels) {\n          var getTranslate = function getTranslate(x, y) {\n            return 'translate(' + x + ',' + y + ')';\n          };\n\n          var rangeBand = x.rangeBand();\n          var staggerUp = 5,\n              staggerDown = 17; //pixels to stagger by\n          // Issue #140\n\n          xTicks.selectAll('text').attr('transform', function (d, i, j) {\n            var self = d3v3.select(this);\n            var textLength = self.node().getComputedTextLength(),\n                text = self.text();\n\n            while (textLength > rangeBand && text.length > 0) {\n              text = text.slice(0, -1);\n              self.text(text + '...');\n              textLength = self.node().getComputedTextLength();\n            }\n\n            return getTranslate(0, j % 2 === 0 ? staggerUp : staggerDown);\n          });\n          var totalInBetweenTicks = d3v3.selectAll('.nv-x.nv-axis .nv-wrap g g text')[0].length;\n          g.selectAll('.nv-x.nv-axis .nv-axisMaxMin text').attr('transform', function (d, i) {\n            return getTranslate(0, i === 0 || totalInBetweenTicks % 2 !== 0 ? staggerDown : staggerUp);\n          });\n        }\n\n        if (rotateLabels) {\n          xTicks.selectAll('.tick text').attr('transform', 'rotate(' + rotateLabels + ' 0,0)').style('text-anchor', rotateLabels > 0 ? 'start' : 'end');\n        }\n\n        g.select('.nv-x.nv-axis').selectAll('g.nv-axisMaxMin text').style('opacity', 1);\n      }\n\n      if (showYAxis) {\n        yAxis.scale(y).ticks(availableHeight / 36).tickSize(-availableChartWidth, 0);\n        g.select('.nv-y.nv-axis').transition().call(yAxis);\n      } //------------------------------------------------------------\n      //============================================================\n      // Event Handling/Dispatching (in chart's scope)\n      //------------------------------------------------------------\n\n\n      legend.dispatch.on('stateChange', function (newState) {\n        state = newState;\n        dispatch.stateChange(state);\n\n        if (onLegendChange != null) {\n          onLegendChange(state);\n        }\n\n        chart.update();\n      });\n      controls.dispatch.on('legendClick', function (d) {\n        if (typeof d.checkbox == 'undefined') {\n          if (!d.disabled) {\n            return;\n          }\n\n          controlsData = controlsData.map(function (s) {\n            s.disabled = true;\n            return s;\n          });\n          d.disabled = false;\n        }\n\n        switch (d.key) {\n          case LABELS.GROUPED:\n            multibar.stacked(false);\n            break;\n\n          case LABELS.STACKED:\n            multibar.stacked(true);\n            break;\n\n          case LABELS.SELECT:\n            selectionEnabled = !selectionEnabled;\n            break;\n        }\n\n        state.stacked = multibar.stacked();\n        state.selectionEnabled = selectionEnabled;\n\n        if (onStateChange != null) {\n          onStateChange(state);\n        }\n\n        dispatch.stateChange(state);\n        chart.update();\n      });\n      dispatch.on('tooltipShow', function (e) {\n        showTooltip(e, that.parentNode);\n      }); // Update chart from a state object passed to event handler\n\n      dispatch.on('changeState', function (e) {\n        if (typeof e.disabled !== 'undefined') {\n          data.forEach(function (series, i) {\n            series.disabled = e.disabled[i];\n          });\n          state.disabled = e.disabled;\n        }\n\n        if (typeof e.stacked !== 'undefined') {\n          multibar.stacked(e.stacked);\n          state.stacked = e.stacked;\n        }\n\n        chart.update();\n      }); //============================================================\n\n      function fGetNumericValue(o) {\n        return o instanceof Date ? o.getTime() : o;\n      }\n\n      function onBrush() {\n        chart.brushExtent = brush.empty() ? null : brush.extent();\n        extent = brush.empty() ? x.domain() : brush.extent();\n        dispatch.brush({\n          extent: extent,\n          brush: brush\n        });\n      }\n\n      function onBrushStart() {\n        gEnter.select('.nv-brush').select('.extent').style('display', 'block');\n      }\n\n      function onBrushEnd() {\n        extent = brush.empty() ? [d3v3.mouse(this)[0], d3v3.mouse(this)[0]] : brush.extent();\n\n        var _leftEdges = x.range();\n\n        var _width = x.rangeBand() + multibar.groupSpacing() * x.rangeBand();\n\n        var _l, _j;\n\n        for (_l = 0; extent[0] > _leftEdges[_l] + _width; _l++) {}\n\n        _l = typeof x.domain()[_l] !== 'undefined' ? _l : 0;\n\n        var _from = x.domain()[_l];\n\n        for (_j = 0; extent[1] > _leftEdges[_j] + _width; _j++) {}\n\n        var _to = typeof x.domain()[_j + 1] !== 'undefined' ? x.domain()[_j + 1] : filteredData[0].values[filteredData[0].values.length - 1].x_end;\n\n        var range = [x.range()[_l], typeof x.range()[_j + 1] !== 'undefined' ? x.range()[_j + 1] : x.range()[_j] + _width];\n        brush.extent(chart.brushExtent = range);\n        g.select('.nv-x.nv-brush').call(brush);\n\n        if (onSelectRange != null) {\n          if (_from > _to) {\n            onSelectRange(_to, _from);\n          } else {\n            onSelectRange(_from, _to);\n          }\n        }\n      }\n\n      function getElByMouse(coords, allSeries) {\n        var xy = d3v3.mouse(this);\n        var extent = coords || xy[0];\n\n        var _l;\n\n        var _width = x.rangeBand();\n\n        var _leftEdges = x.range();\n\n        for (_l = 0; extent >= _leftEdges[_l]; _l++) {}\n\n        _l = Math.max(_l - 1, 0);\n        var value = fGetNumericValue(x.domain()[_l]);\n        var values = [];\n        var i, j;\n\n        if (allSeries) {\n          for (j = 0; j < filteredData.length; j++) {\n            for (i = 0; i < filteredData[j].values.length; i++) {\n              if (fGetNumericValue(getX(filteredData[j].values[i])) === value) {\n                values.push(filteredData[j].values[i]);\n              }\n            }\n          }\n        } else if (!multibar.stacked()) {\n          var serieIndex = Math.floor(Math.min(extent - _leftEdges[_l], _width - 0.001) / (_width / filteredData.length)); // Math.min(extent - _leftEdges[_l], _width - 0.001) to handle the padding at the end. Would it make sense to remove the padding?\n\n          var _i;\n\n          if (serieIndex < 0) {\n            return null;\n          }\n\n          for (_i = 0; _i < filteredData[serieIndex].values.length; _i++) {\n            if (fGetNumericValue(getX(filteredData[serieIndex].values[_i])) === value) {\n              values.push(filteredData[serieIndex].values[_i]);\n              break;\n            }\n          }\n        } else {\n          // serieIndex depends on the y position of the bar\n          // y(getY(d) + (multibar.stacked() ? d.y0 : 0)\n          // get all series for the x value\n          var py = Math.round(y.invert(xy[1]));\n          var mindy = Number.MAX_VALUE;\n          var distances = {};\n\n          for (j = 0; j < filteredData.length; j++) {\n            for (i = 0; i < filteredData[j].values.length; i++) {\n              if (fGetNumericValue(getX(filteredData[j].values[i])) === value) {\n                if (py >= filteredData[j].values[i].y0 && py <= filteredData[j].values[i].y1) {\n                  values.push(filteredData[j].values[i]);\n                } else {\n                  var ym = filteredData[j].values[i].y0 + (filteredData[j].values[i].y1 - filteredData[j].values[i].y0) / 2;\n                  var dy = Math.abs(py - ym);\n\n                  if (!distances[dy]) {\n                    distances[dy] = [];\n                  }\n\n                  distances[dy].push(filteredData[j].values[i]);\n\n                  if (dy < mindy) {\n                    mindy = dy;\n                  }\n                }\n              }\n            }\n          }\n\n          if (!values.length) {\n            values = distances[mindy];\n          }\n        }\n\n        return values;\n      }\n\n      function fromSelection(selection) {\n        var _width = x.rangeBand() + multibar.groupSpacing() * x.rangeBand();\n\n        var _leftEdges = x.domain();\n\n        if (!_leftEdges.length) {\n          return null;\n        }\n\n        var _l, _j;\n\n        var isDescending = _leftEdges[0] < _leftEdges[1];\n\n        if (!isDescending) {\n          selection = [Math.max(selection[0], selection[1]), Math.min(selection[0], selection[1])];\n        }\n\n        if (isDescending) {\n          for (_l = 0; selection[0] >= _leftEdges[_l]; _l++) {}\n        } else {\n          for (_l = _leftEdges.length - 1; selection[0] > _leftEdges[_l]; _l--) {}\n        }\n\n        _l = x.range()[_l + _typeof(isDescending ? -1 : 0)] !== 'undefined' ? _l + (isDescending ? -1 : 0) : isDescending ? _leftEdges.length - 1 : 0;\n\n        var _fromRange = typeof x.range()[_l] !== 'undefined' ? x.range()[_l] : 0;\n\n        if (isDescending) {\n          for (_j = 0; selection[1] > _leftEdges[_j]; _j++) {}\n        } else {\n          for (_j = _leftEdges.length - 1; selection[1] > _leftEdges[_j]; _j--) {}\n        }\n\n        var _toRange = typeof x.range()[_j] !== 'undefined' ? x.range()[_j] : x.range()[_leftEdges.length - 1] + _width;\n\n        return {\n          range: [_fromRange, _fromRange === _toRange ? _fromRange + x.rangeBand() : _toRange],\n          isWholeDomain: selection[0] <= _leftEdges[0] && selection[1] >= _leftEdges[_leftEdges.length - 1]\n        };\n      }\n\n      function onMouseMove() {\n        var el = getElByMouse.call(this); // If we're mousing over a rectangle that doesn't have class hover, set class and dispatch mouseover\n\n        var target = container.selectAll('g.nv-wrap.nv-multiBarWithLegend rect:not(.hover)').filter(function (rect) {\n          return el && el.some(function (d) {\n            return fGetNumericValue(getX(rect)) === fGetNumericValue(getX(d)) && d.series === rect.series;\n          });\n        });\n\n        if (el && el.length && displayValuesInLegend) {\n          var _legendG = legendSvg.select('.nvd3.nv-wrap.nv-legendWrap');\n\n          var elBySerie = el.reduce(function (elBySerie, el) {\n            elBySerie[el.seriesKey] = el;\n            return elBySerie;\n          }, {});\n\n          _legendG.selectAll('g.nv-series text.nv-series-value').text(function (d) {\n            if (elBySerie[d.key]) {\n              var value = yAxis.tickFormat()(d.values[elBySerie[d.key].index].y) + '';\n              var addEllipsis = value.length > 5;\n              return value && (addEllipsis ? '...' : '') + value.substring(value.length - 5);\n            } else {\n              return '';\n            }\n          }).append('title').text(function (d) {\n            if (elBySerie[d.key]) {\n              return yAxis.tickFormat()(d.values[elBySerie[d.key].index].y);\n            } else {\n              return '';\n            }\n          });\n        } // If there's rectangle with the hover class that are not the target, remove the class and dispatch mouseout\n\n\n        var others = container.selectAll('g.nv-wrap.nv-multiBarWithLegend rect.hover').filter(function (rect) {\n          return !el || !el.some(function (d) {\n            return fGetNumericValue(getX(rect)) === fGetNumericValue(getX(d)) && d.series === rect.series;\n          });\n        });\n\n        if (others.size()) {\n          others.classed('hover', false).each(function (d, i) {\n            multibar.dispatch.elementMouseout({\n              value: getY(d, i),\n              point: d,\n              series: filteredData[d.series],\n              pointIndex: i,\n              seriesIndex: d.series,\n              e: d3v3.event\n            });\n          });\n        }\n\n        if (target.size()) {\n          var e = d3v3.event; // Keep reference to event for setTimeout\n\n          setTimeout(function () {\n            // Delayed to conteract conflict with elementMouseout.\n            target.classed('hover', true);\n            var max,\n                maxi = 0;\n            target.each(function (d, i) {\n              if (isNaN(max) || max < getY(d)) {\n                max = getY(d);\n                maxi = i;\n              }\n            });\n            var width = x.rangeBand();\n            d3v3.select(target[0][maxi]).each(function (d, i) {\n              multibar.dispatch.elementMouseover({\n                value: getY(d),\n                point: d,\n                series: filteredData[d.series],\n                pos: [x(getX(d)) + width * 0.5, y(getY(d) + (multibar.stacked() ? d.y0 : 0))],\n                pointIndex: i,\n                seriesIndex: d.series,\n                list: el.map(function (d) {\n                  return {\n                    value: getY(d),\n                    point: d,\n                    series: filteredData[d.series],\n                    pos: [x(getX(d)) + width * 0.5, y(getY(d) + (multibar.stacked() ? d.y0 : 0))],\n                    pointIndex: -1,\n                    seriesIndex: d.series\n                  };\n                }),\n                e: e\n              });\n            });\n          }, 0);\n        }\n      }\n\n      function onMouseOut() {\n        var others = container.selectAll('g.nv-wrap.nv-multiBarWithLegend rect.hover');\n\n        if (others.size()) {\n          others.classed('hover', false).each(function (d, i) {\n            multibar.dispatch.elementMouseout({\n              value: getY(d, i),\n              point: d,\n              series: filteredData[d.series],\n              pointIndex: d.index,\n              seriesIndex: d.series,\n              e: d3v3.event\n            });\n          });\n        }\n      }\n\n      function onClick() {\n        var el = getElByMouse.call(this);\n        var d = el[0];\n        multibar.dispatch.elementClick({\n          value: getY(d),\n          point: d,\n          series: filteredData[d.series],\n          pointIndex: d.index,\n          seriesIndex: d.series,\n          e: d3v3.event\n        });\n      }\n    });\n    return chart;\n  } //============================================================\n  // Event Handling/Dispatching (out of chart's scope)\n  //------------------------------------------------------------\n\n\n  multibar.dispatch.on('elementMouseover.tooltip', function (e) {\n    e.pos = [e.pos[0] + margin.left, e.pos[1] + margin.top];\n    dispatch.tooltipShow(e);\n  });\n  multibar.dispatch.on('elementMouseout.tooltip', function (e) {\n    dispatch.tooltipHide(e);\n  });\n  dispatch.on('tooltipHide', function () {\n    if (tooltips) {\n      nv.tooltip.cleanup();\n    }\n  }); //============================================================\n  //============================================================\n  // Expose Public Variables\n  //------------------------------------------------------------\n  // expose chart's sub-components\n\n  chart.dispatch = dispatch;\n  chart.multibar = multibar;\n  chart.legend = legend;\n  chart.xAxis = xAxis;\n  chart.yAxis = yAxis;\n  chart.xScale = multibar.xScale;\n  chart.LABELS = LABELS;\n  d3v3.rebind(chart, multibar, 'x', 'y', 'xDomain', 'yDomain', 'xRange', 'yRange', 'forceX', 'forceY', 'clipEdge', 'id', 'stacked', 'stackOffset', 'delay', 'barColor', 'groupSpacing');\n  chart.options = nv.utils.optionsFunc.bind(chart);\n\n  chart.margin = function (_) {\n    if (!arguments.length) {\n      return margin;\n    }\n\n    margin.top = typeof _.top != 'undefined' ? _.top : margin.top;\n    margin.right = typeof _.right != 'undefined' ? _.right : margin.right;\n    margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom;\n    margin.left = typeof _.left != 'undefined' ? _.left : margin.left;\n    return chart;\n  };\n\n  chart.width = function (_) {\n    if (!arguments.length) {\n      return width;\n    }\n\n    width = _;\n    return chart;\n  };\n\n  chart.height = function (_) {\n    if (!arguments.length) {\n      return height;\n    }\n\n    height = _;\n    return chart;\n  };\n\n  chart.color = function (_) {\n    if (!arguments.length) {\n      return color;\n    }\n\n    color = nv.utils.getColor(_);\n    legend.color(color);\n    return chart;\n  };\n\n  chart.showControls = function (_) {\n    if (!arguments.length) {\n      return showControls;\n    }\n\n    showControls = _;\n    return chart;\n  };\n\n  chart.showLegend = function (_) {\n    if (!arguments.length) {\n      return showLegend;\n    }\n\n    showLegend = _;\n    return chart;\n  };\n\n  chart.showXAxis = function (_) {\n    if (!arguments.length) {\n      return showXAxis;\n    }\n\n    showXAxis = _;\n    return chart;\n  };\n\n  chart.showYAxis = function (_) {\n    if (!arguments.length) {\n      return showYAxis;\n    }\n\n    showYAxis = _;\n    return chart;\n  };\n\n  chart.rightAlignYAxis = function (_) {\n    if (!arguments.length) {\n      return rightAlignYAxis;\n    }\n\n    rightAlignYAxis = _;\n    yAxis.orient(_ ? 'right' : 'left');\n    return chart;\n  };\n\n  chart.reduceXTicks = function (_) {\n    if (!arguments.length) {\n      return reduceXTicks;\n    }\n\n    reduceXTicks = _;\n    return chart;\n  };\n\n  chart.rotateLabels = function (_) {\n    if (!arguments.length) {\n      return rotateLabels;\n    }\n\n    rotateLabels = _;\n    return chart;\n  };\n\n  chart.staggerLabels = function (_) {\n    if (!arguments.length) {\n      return staggerLabels;\n    }\n\n    staggerLabels = _;\n    return chart;\n  };\n\n  chart.tooltip = function (_) {\n    if (!arguments.length) {\n      return tooltip;\n    }\n\n    tooltip = _;\n    return chart;\n  };\n\n  chart.tooltips = function (_) {\n    if (!arguments.length) {\n      return tooltips;\n    }\n\n    tooltips = _;\n    return chart;\n  };\n\n  chart.tooltipContent = function (_) {\n    if (!arguments.length) {\n      return tooltipContent;\n    }\n\n    tooltipContent = _;\n    return chart;\n  };\n\n  chart.state = function (_) {\n    if (!arguments.length) {\n      return state;\n    }\n\n    state = _;\n    return chart;\n  };\n\n  chart.defaultState = function (_) {\n    if (!arguments.length) {\n      return defaultState;\n    }\n\n    defaultState = _;\n    return chart;\n  };\n\n  chart.noData = function (_) {\n    if (!arguments.length) {\n      return noData;\n    }\n\n    noData = _;\n    return chart;\n  };\n\n  chart.transitionDuration = function (_) {\n    if (!arguments.length) {\n      return transitionDuration;\n    }\n\n    transitionDuration = _;\n    return chart;\n  };\n\n  chart.enableSelection = function () {\n    selectionEnabled = true;\n    return chart;\n  };\n\n  chart.disableSelection = function () {\n    selectionEnabled = false;\n    return chart;\n  };\n\n  chart.isSelectionEnabled = function () {\n    return selectionEnabled;\n  };\n\n  chart.hideSelection = function () {\n    selectionHidden = true;\n    return chart;\n  };\n\n  chart.showSelection = function () {\n    selectionHidden = false;\n    return chart;\n  };\n\n  chart.showStacked = function () {\n    stackedHidden = false;\n  };\n\n  chart.hideStacked = function () {\n    stackedHidden = true;\n  };\n\n  chart.onSelectRange = function (_) {\n    if (!arguments.length) {\n      return onSelectRange;\n    }\n\n    onSelectRange = _;\n    return chart;\n  };\n\n  chart.onStateChange = function (_) {\n    if (!arguments.length) {\n      return onStateChange;\n    }\n\n    onStateChange = _;\n    return chart;\n  };\n\n  chart.onLegendChange = function (_) {\n    if (!arguments.length) {\n      return onLegendChange;\n    }\n\n    onLegendChange = _;\n    return chart;\n  };\n\n  chart.onChartUpdate = function (_) {\n    if (!arguments.length) {\n      return onChartUpdate;\n    }\n\n    onChartUpdate = _;\n    return chart;\n  };\n\n  chart.minTickWidth = function (val) {\n    if (!arguments.length) {\n      return minTickWidth;\n    }\n\n    minTickWidth = val;\n    return chart;\n  };\n\n  chart.selectBars = function (args) {\n    if (!arguments.length) {\n      return selectBars;\n    }\n\n    if (args && args.rangeValues) {\n      chart.brushDomain = [args.rangeValues[0].from, args.rangeValues[0].to];\n    } else {\n      chart.brushDomain = null;\n    }\n\n    selectedBars = args;\n\n    if (selectBars) {\n      selectBars(args);\n    }\n\n    return chart;\n  };\n\n  chart.displayValuesInLegend = function (val) {\n    if (!arguments.length) {\n      return displayValuesInLegend;\n    }\n\n    displayValuesInLegend = val;\n    return chart;\n  };\n\n  chart.brush = function (val) {\n    if (!arguments.length) {\n      return brush;\n    }\n\n    brush = val;\n    return chart;\n  }; //============================================================\n\n\n  return chart;\n};","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport * as ko from 'knockout';\nimport page from 'page';\nimport { CONFIG_REFRESHED_TOPIC, GET_KNOWN_CONFIG_TOPIC } from 'config/events';\nimport huePubSub from 'utils/huePubSub';\nimport I18n from \"./utils/i18n\";\nimport waitForObservable from 'utils/timing/waitForObservable';\nimport waitForVariable from 'utils/timing/waitForVariable';\nimport getParameter from 'utils/url/getParameter';\nimport getSearchParameter from 'utils/url/getSearchParameter';\nimport { ASSIST_GET_DATABASE_EVENT, ASSIST_GET_SOURCE_EVENT } from \"./ko/components/assist/events\";\n\nvar OnePageViewModel = function OnePageViewModel() {\n  _classCallCheck(this, OnePageViewModel);\n\n  var self = this;\n  self.embeddable_cache = {};\n  self.currentApp = ko.observable();\n  self.currentContextParams = ko.observable(null);\n  self.currentQueryString = ko.observable(null);\n  self.isLoadingEmbeddable = ko.observable(false);\n  self.extraEmbeddableURLParams = ko.observable('');\n\n  self.getActiveAppViewModel = function (callback) {\n    var checkInterval = window.setInterval(function () {\n      var $koElement = $('#' + self.currentApp() + 'Components');\n\n      if ($koElement.length > 0 && ko.dataFor($koElement[0]) && !(ko.dataFor($koElement[0]) instanceof OnePageViewModel)) {\n        window.clearInterval(checkInterval);\n        callback(ko.dataFor($koElement[0]));\n      }\n    }, 25);\n  };\n\n  self.changeEditorType = function (type) {\n    self.getActiveAppViewModel(function (viewModel) {\n      if (viewModel && viewModel.selectedNotebook) {\n        waitForObservable(viewModel.selectedNotebook, function () {\n          if (viewModel.editorType() !== type) {\n            viewModel.selectedNotebook().selectedSnippet(type);\n\n            if (!window.ENABLE_NOTEBOOK_2) {\n              viewModel.editorType(type);\n            }\n\n            viewModel.newNotebook(type);\n          }\n        });\n      }\n    });\n  };\n\n  self.currentApp.subscribe(function (newApp) {\n    huePubSub.publish('set.current.app.name', newApp);\n    self.getActiveAppViewModel(function (viewModel) {\n      huePubSub.publish('set.current.app.view.model', viewModel);\n    });\n  });\n  huePubSub.subscribe('get.current.app.view.model', function () {\n    self.getActiveAppViewModel(function (viewModel) {\n      huePubSub.publish('set.current.app.view.model', viewModel);\n    });\n  });\n  huePubSub.subscribe('get.current.app.name', function (callback) {\n    callback(self.currentApp());\n  });\n  huePubSub.subscribe('open.editor.query', function (resp) {\n    self.loadApp('editor');\n    var data = {\n      uuid: resp.history_uuid\n    };\n\n    if (resp.handle && resp.handle.session_id) {\n      data['session'] = {\n        type: resp.handle.session_type,\n        id: resp.handle.session_id,\n        session_id: resp.handle.session_guid,\n        properties: []\n      };\n    }\n\n    self.getActiveAppViewModel(function (viewModel) {\n      viewModel.openNotebook(data.uuid, null, null, null, data.session);\n    });\n  });\n  huePubSub.subscribe('open.importer.query', function (data) {\n    self.loadApp('importer');\n    self.getActiveAppViewModel(function (viewModel) {\n      waitForVariable(viewModel.createWizard, function () {\n        waitForVariable(viewModel.createWizard.prefill, function () {\n          viewModel.createWizard.prefill.source_type(data['source_type']);\n          viewModel.createWizard.prefill.target_type(data['target_type']);\n          viewModel.createWizard.prefill.target_path(data['target_path']);\n          viewModel.createWizard.destination.outputFormat(data['target_type']);\n        });\n        waitForVariable(viewModel.createWizard.source.query, function () {\n          viewModel.createWizard.source.query({\n            id: data.id,\n            name: data.name\n          });\n        });\n        waitForVariable(viewModel.createWizard.loadSampleData, function () {\n          viewModel.createWizard.loadSampleData(data);\n        });\n      });\n    });\n  });\n  huePubSub.subscribe('resize.form.actions', function () {\n    document.styleSheets[0].addRule('.form-actions', 'width: ' + $('.page-content').width() + 'px');\n\n    if ($('.content-panel:visible').length > 0) {\n      document.styleSheets[0].addRule('.form-actions', 'margin-left: -11px !important');\n    }\n  });\n  huePubSub.subscribe('split.panel.resized', function () {\n    huePubSub.publish('resize.form.actions');\n    huePubSub.publish('resize.plotly.chart');\n  });\n  huePubSub.publish('resize.form.actions');\n  huePubSub.subscribe('open.editor.new.query', function (statementOptions) {\n    self.loadApp('editor'); // Should open in Default\n\n    self.getActiveAppViewModel(function (viewModel) {\n      var editorType = statementOptions['type'] || 'hive'; // Next: use file extensions and default type of Editor for SQL\n\n      viewModel.newNotebook(editorType, function () {\n        self.changeEditorType(editorType);\n\n        if (statementOptions['statementPath']) {\n          viewModel.selectedNotebook().snippets()[0].statementType(statementOptions['statementType']);\n          viewModel.selectedNotebook().snippets()[0].statementPath(statementOptions['statementPath']);\n        }\n\n        if (statementOptions['directoryUuid']) {\n          viewModel.selectedNotebook().directoryUuid(statementOptions['directoryUuid']);\n        }\n      });\n    });\n  });\n  var loadedJs = [];\n  var loadedCss = [];\n  var loadedApps = [];\n  $('script[src]').each(function () {\n    loadedJs.push($(this).attr('src'));\n  });\n  $('link[href]').each(function () {\n    loadedCss.push($(this).attr('href'));\n  });\n\n  var loadScript = function loadScript(scriptUrl) {\n    var deferred = $.Deferred();\n    $.ajax({\n      url: scriptUrl,\n      converters: {\n        'text script': function textScript(text) {\n          return text;\n        }\n      }\n    }).done(function (contents) {\n      loadedJs.push(scriptUrl);\n      deferred.resolve({\n        url: scriptUrl,\n        contents: contents\n      });\n    }).fail(function () {\n      deferred.resolve('');\n    });\n    return deferred.promise();\n  };\n\n  var loadScripts = function loadScripts(scriptUrls) {\n    var promises = [];\n\n    while (scriptUrls.length) {\n      var scriptUrl = scriptUrls.shift();\n\n      if (loadedJs.indexOf(scriptUrl) !== -1) {\n        continue;\n      }\n\n      promises.push(loadScript(scriptUrl));\n    }\n\n    return promises;\n  };\n\n  var addGlobalCss = function addGlobalCss($el) {\n    var cssFile = $el.attr('href').split('?')[0];\n\n    if (loadedCss.indexOf(cssFile) === -1) {\n      loadedCss.push(cssFile);\n      $.ajaxSetup({\n        cache: true\n      });\n\n      if (window.DEV) {\n        $el.attr('href', $el.attr('href') + '?dev=' + Math.random());\n      }\n\n      $el.clone().appendTo($('head'));\n      $.ajaxSetup({\n        cache: false\n      });\n    }\n\n    $el.remove();\n  }; // Only load CSS and JS files that are not loaded before\n\n\n  self.processHeaders = function (response) {\n    var promise = $.Deferred();\n    var $rawHtml = $('<span>').html(response);\n    var $allScripts = $rawHtml.find('script[src]');\n    var scriptsToLoad = $allScripts.map(function () {\n      return $(this).attr('src');\n    }).toArray();\n    $allScripts.remove();\n    $rawHtml.find('link[href]').each(function () {\n      addGlobalCss($(this)); // Also removes the elements;\n    });\n    $rawHtml.find('a[href]').each(function () {\n      var link = $(this).attr('href');\n\n      if (link.startsWith('/') && !link.startsWith('/hue')) {\n        link = window.HUE_BASE_URL + '/hue' + link;\n      }\n\n      $(this).attr('href', link);\n    });\n    var scriptPromises = loadScripts(scriptsToLoad);\n\n    var evalScriptSync = function evalScriptSync() {\n      if (scriptPromises.length) {\n        // Evaluate the scripts in the order they were defined in the page\n        var nextScriptPromise = scriptPromises.shift();\n        nextScriptPromise.done(function (scriptDetails) {\n          if (scriptDetails.contents) {\n            $.globalEval(scriptDetails.contents);\n          }\n\n          evalScriptSync();\n        });\n      } else {\n        // All evaluated\n        promise.resolve($rawHtml.children());\n      }\n    };\n\n    evalScriptSync();\n    return promise;\n  };\n\n  huePubSub.subscribe('hue4.process.headers', function (opts) {\n    self.processHeaders(opts.response).done(function (rawHtml) {\n      opts.callback(rawHtml);\n    });\n  });\n  var loadAppTimeout = -1;\n\n  self.loadApp = function (app, loadDeep) {\n    // This prevents loading an app twice when the URL is changed multiple times in one operation\n    window.clearTimeout(loadAppTimeout);\n    loadAppTimeout = window.setTimeout(function () {\n      self.loadAppThrottled(app, loadDeep);\n    }, 0);\n  };\n\n  self.loadAppThrottled = function (app, loadDeep) {\n    if (self.currentApp() === 'editor' && $('#editorComponents').length) {\n      var vm = ko.dataFor($('#editorComponents')[0]);\n\n      if (vm.isPresentationMode()) {\n        vm.selectedNotebook().isPresentationMode(false);\n      }\n    }\n\n    if (self.currentApp() === 'editor' && self.embeddable_cache['editor'] && !$('#editorComponents').length) {\n      self.embeddable_cache['editor'] = undefined;\n    }\n\n    self.currentApp(app);\n\n    if (!app.startsWith('security')) {\n      self.lastContext = null;\n    }\n\n    window.SKIP_CACHE.forEach(function (skipped) {\n      huePubSub.publish('app.dom.unload', skipped);\n      $('#embeddable_' + skipped).html('');\n    });\n    self.isLoadingEmbeddable(true);\n    loadedApps.forEach(function (loadedApp) {\n      window.pauseAppIntervals(loadedApp);\n      huePubSub.pauseAppSubscribers(loadedApp);\n    });\n    $('.tooltip').hide();\n    huePubSub.publish('hue.datatable.search.hide');\n    huePubSub.publish('hue.scrollleft.hide');\n    huePubSub.publish('context.panel.visible', false);\n\n    if (app === 'filebrowser') {\n      $(window).unbind('hashchange.fblist');\n    }\n\n    if (app.startsWith('oozie')) {\n      huePubSub.clearAppSubscribers('oozie');\n    }\n\n    if (app.startsWith('security')) {\n      $('#embeddable_security_hive').html('');\n      $('#embeddable_security_hdfs').html('');\n      $('#embeddable_security_hive2').html('');\n      $('#embeddable_security_solr').html('');\n    }\n\n    if (typeof self.embeddable_cache[app] === 'undefined') {\n      if (loadedApps.indexOf(app) === -1) {\n        loadedApps.push(app);\n      }\n\n      var baseURL = window.EMBEDDABLE_PAGE_URLS[app].url;\n\n      if (self.currentContextParams() !== null) {\n        if (loadDeep && self.currentContextParams()[0]) {\n          baseURL += self.currentContextParams()[0];\n        } else {\n          var route = new page.Route(baseURL);\n          route.keys.forEach(function (key) {\n            if (key.name === 0) {\n              if (typeof self.currentContextParams()[key.name] !== 'undefined') {\n                if (app === 'filebrowser') {\n                  baseURL = baseURL.replace('*', encodeURIComponent(self.currentContextParams()[key.name])).replace(/#/g, '%23');\n                } else {\n                  baseURL = baseURL.replace('*', encodeURI(self.currentContextParams()[key.name])); // We have some really funky stuff in here, this should be encodeURIComponent\n                }\n              } else {\n                baseURL = baseURL.replace('*', '');\n              }\n            } else {\n              baseURL = baseURL.replace(':' + key.name, encodeURI(self.currentContextParams()[key.name])); // We have some really funky stuff in here, this should be encodeURIComponent\n            }\n          });\n        }\n\n        self.currentContextParams(null);\n      }\n\n      if (self.currentQueryString() !== null) {\n        baseURL += (baseURL.indexOf('?') > -1 ? '&' : '?') + encodeURI(self.currentQueryString());\n        self.currentQueryString(null);\n      }\n\n      $.ajax({\n        url: baseURL + (baseURL.indexOf('?') > -1 ? '&' : '?') + 'is_embeddable=true' + self.extraEmbeddableURLParams(),\n        beforeSend: function beforeSend(xhr) {\n          xhr.setRequestHeader('X-Requested-With', 'Hue');\n        },\n        dataType: 'html',\n        success: function success(response, status, xhr) {\n          var type = xhr.getResponseHeader('Content-Type');\n\n          if (type.indexOf('text/') > -1) {\n            window.clearAppIntervals(app);\n            huePubSub.clearAppSubscribers(app);\n            self.extraEmbeddableURLParams('');\n            self.processHeaders(response).done(function ($rawHtml) {\n              if (window.SKIP_CACHE.indexOf(app) === -1) {\n                self.embeddable_cache[app] = $rawHtml;\n              }\n\n              $('#embeddable_' + app).html($rawHtml);\n              huePubSub.publish('app.dom.loaded', app);\n              window.setTimeout(function () {\n                self.isLoadingEmbeddable(false);\n              }, 0);\n            });\n          } else {\n            if (type.indexOf('json') > -1) {\n              var presponse = JSON.parse(response);\n\n              if (presponse && presponse.url) {\n                window.location.href = window.HUE_BASE_URL + presponse.url;\n                return;\n              }\n            }\n\n            window.location.href = window.HUE_BASE_URL + baseURL;\n          }\n        },\n        error: function error(xhr) {\n          console.error('Route loading problem', xhr);\n\n          if ((xhr.status === 401 || xhr.status === 403) && app !== '403') {\n            self.loadApp('403');\n          } else if (app !== '500') {\n            self.loadApp('500');\n          } else {\n            $.jHueNotify.error(I18n('It looks like you are offline or an unknown error happened. Please refresh the page.'));\n          }\n        }\n      });\n    } else {\n      self.isLoadingEmbeddable(false);\n    }\n\n    window.document.title = 'Hue - ' + window.EMBEDDABLE_PAGE_URLS[app].title;\n    window.resumeAppIntervals(app);\n    huePubSub.resumeAppSubscribers(app);\n    $('.embeddable').hide();\n    $('#embeddable_' + app).show();\n    huePubSub.publish('app.gained.focus', app);\n    huePubSub.publish('resize.form.actions');\n  };\n\n  self.dropzoneError = function (filename) {\n    self.loadApp('importer');\n    self.getActiveAppViewModel(function (vm) {\n      vm.createWizard.source.path(DROPZONE_HOME_DIR + '/' + filename);\n    });\n    $('.dz-drag-hover').removeClass('dz-drag-hover');\n  };\n\n  var openImporter = function openImporter(path) {\n    var databasename = '';\n    var interpreter = '';\n    var table = path.substring(path.lastIndexOf(':') + 1, path.lastIndexOf(';')).slice(0, -4).replace(/[^a-zA-Z0-9]/g, '_');\n    self.loadApp('importer');\n    huePubSub.publish(ASSIST_GET_SOURCE_EVENT, function (source) {\n      interpreter = source;\n    });\n    huePubSub.publish(ASSIST_GET_DATABASE_EVENT, {\n      connector: {\n        id: interpreter\n      },\n      callback: function callback(databaseDef) {\n        databasename = databaseDef.name;\n      }\n    });\n    self.getActiveAppViewModel(function (vm) {\n      vm.createWizard.source.path(path);\n      vm.currentStep(2);\n      vm.createWizard.source.interpreter(interpreter);\n      vm.createWizard.destination.name(databasename + '.' + table);\n      waitForObservable(vm.createWizard.destination.name, function () {\n        vm.createWizard.indexFile();\n      });\n    });\n  };\n\n  var openImporterFilebrowser = function openImporterFilebrowser(path) {\n    self.loadApp('importer');\n    self.getActiveAppViewModel(function (vm) {\n      vm.createWizard.source.inputFormat('file');\n      window.setTimeout(function () {\n        vm.createWizard.source.path(path);\n      }, 0);\n    });\n  };\n\n  self.dropzoneComplete = function (path) {\n    if (path.toLowerCase().endsWith('.csv')) {\n      openImporter(path);\n    } else {\n      huePubSub.publish('open.link', '/filebrowser/view=' + path);\n    }\n\n    $('.dz-drag-hover').removeClass('dz-drag-hover');\n  };\n\n  huePubSub.subscribe('open.in.importer', openImporterFilebrowser);\n  huePubSub.subscribe('assist.dropzone.complete', self.dropzoneComplete); // prepend /hue to all the link on this page\n\n  $('a[href]').each(function () {\n    var link = $(this).attr('href');\n\n    if (link.startsWith('/') && !link.startsWith('/hue')) {\n      link = window.HUE_BASE_URL + '/hue' + link;\n    }\n\n    $(this).attr('href', link);\n  });\n  page.base(window.HUE_BASE_URL + '/hue');\n\n  var getUrlParameter = function getUrlParameter(name) {\n    return getParameter(name) || '';\n  };\n\n  self.lastContext = null;\n  var pageMapping = [{\n    url: '/403',\n    app: '403'\n  }, {\n    url: '/500',\n    app: '500'\n  }, {\n    url: '/about/',\n    app: 'admin_wizard'\n  }, {\n    url: '/about/admin_wizard',\n    app: 'admin_wizard'\n  }, {\n    url: '/accounts/logout',\n    app: function app() {\n      location.href = window.HUE_BASE_URL + '/accounts/logout';\n    }\n  }, {\n    url: '/dashboard/admin/collections',\n    app: function app(ctx) {\n      page('/home/?type=search-dashboard');\n    }\n  }, {\n    url: '/dashboard/*',\n    app: 'dashboard'\n  }, {\n    url: '/desktop/api/desktop/api2/doc/export*',\n    app: function app() {\n      var documents = getUrlParameter('documents');\n      location.href = window.HUE_BASE_URL + '/desktop/api2/doc/export?documents=' + documents;\n    }\n  }, {\n    url: '/desktop/dump_config',\n    app: 'dump_config'\n  }, {\n    url: '/desktop/debug/threads',\n    app: function app() {\n      self.loadApp('threads');\n      self.getActiveAppViewModel(function (viewModel) {\n        viewModel.fetchThreads();\n      });\n    }\n  }, {\n    url: '/gist',\n    app: function app() {\n      var uuid = getUrlParameter('uuid');\n      location.href = '/desktop/api2/gist/open?uuid=' + uuid;\n    }\n  }, {\n    url: '/desktop/metrics',\n    app: function app() {\n      self.loadApp('metrics');\n      self.getActiveAppViewModel(function (viewModel) {\n        viewModel.fetchMetrics();\n      });\n    }\n  }, {\n    url: '/desktop/connectors',\n    app: function app() {\n      self.loadApp('connectors');\n    }\n  }, {\n    url: '/desktop/analytics',\n    app: function app() {\n      self.loadApp('analytics');\n      self.getActiveAppViewModel(function (viewModel) {\n        viewModel.fetchAnalytics();\n      });\n    }\n  }, {\n    url: '/desktop/download_logs',\n    app: function app() {\n      location.href = window.HUE_BASE_URL + '/desktop/download_logs';\n    }\n  }, {\n    url: '/editor',\n    app: function app() {\n      // Defer to allow window.location param update\n      _.defer(function () {\n        if (typeof self.embeddable_cache['editor'] === 'undefined') {\n          if (getUrlParameter('editor') !== '') {\n            self.extraEmbeddableURLParams('&editor=' + getUrlParameter('editor'));\n          } else if (getUrlParameter('type') !== '' && getUrlParameter('type') !== 'notebook') {\n            self.extraEmbeddableURLParams('&type=' + getUrlParameter('type'));\n          }\n\n          self.loadApp('editor');\n        } else {\n          self.loadApp('editor');\n\n          if (getUrlParameter('editor') !== '') {\n            self.getActiveAppViewModel(function (viewModel) {\n              self.isLoadingEmbeddable(true);\n              viewModel.openNotebook(getUrlParameter('editor'))[window.ENABLE_NOTEBOOK_2 ? 'finally' : 'always'](function () {\n                self.isLoadingEmbeddable(false);\n              });\n            });\n          } else if (getUrlParameter('type') !== '') {\n            self.changeEditorType(getUrlParameter('type'));\n          }\n        }\n      });\n    }\n  }, {\n    url: '/notebook/editor',\n    app: function app(ctx) {\n      page('/editor?' + ctx.querystring);\n    }\n  }, {\n    url: '/filebrowser/view=*',\n    app: 'filebrowser'\n  }, {\n    url: '/filebrowser/download=*',\n    app: function app(ctx) {\n      location.href = window.HUE_BASE_URL + '/filebrowser/download=' + ctx.params[0];\n    }\n  }, {\n    url: '/filebrowser/*',\n    app: function app() {\n      page('/filebrowser/view=' + DROPZONE_HOME_DIR);\n    }\n  }, {\n    url: '/hbase/',\n    app: 'hbase'\n  }, {\n    url: '/help',\n    app: 'help'\n  }, {\n    url: '/home2*',\n    app: function app(ctx) {\n      page(ctx.path.replace(/home2/gi, 'home'));\n    }\n  }, {\n    url: '/home*',\n    app: 'home'\n  }, {\n    url: '/catalog',\n    app: 'catalog'\n  }, {\n    url: '/kafka/',\n    app: 'kafka'\n  }, {\n    url: '/indexer/topics/*',\n    app: 'kafka'\n  }, {\n    url: '/indexer/indexes',\n    app: 'indexes'\n  }, {\n    url: '/indexer/indexes/*',\n    app: 'indexes'\n  }, {\n    url: '/indexer/',\n    app: 'indexes'\n  }, {\n    url: '/indexer/importer/',\n    app: 'importer'\n  }, {\n    url: '/indexer/importer/prefill/*',\n    app: function app(ctx) {\n      self.loadApp('importer');\n      self.getActiveAppViewModel(function (viewModel) {\n        var _params = ctx.path.match(/\\/indexer\\/importer\\/prefill\\/?([^/]+)\\/?([^/]+)\\/?([^/]+)?/);\n\n        if (!_params) {\n          console.warn('Could not match ' + ctx.path);\n        }\n\n        waitForVariable(viewModel.createWizard, function () {\n          waitForVariable(viewModel.createWizard.prefill, function () {\n            viewModel.createWizard.prefill.source_type(_params && _params[1] ? _params[1] : '');\n            viewModel.createWizard.prefill.target_type(_params && _params[2] ? _params[2] : '');\n            viewModel.createWizard.prefill.target_path(_params && _params[3] ? _params[3] : '');\n          });\n        });\n      });\n    }\n  }, {\n    url: '/jobbrowser/jobs/job_*',\n    app: function app(ctx) {\n      page.redirect('/jobbrowser#!id=application_' + _.trimEnd(ctx.params[0], '/').split('/')[0]);\n    }\n  }, {\n    url: '/jobbrowser/jobs/application_*',\n    app: function app(ctx) {\n      page.redirect('/jobbrowser#!id=application_' + _.trimEnd(ctx.params[0], '/').split('/')[0]);\n    }\n  }, {\n    url: '/jobbrowser*',\n    app: 'jobbrowser'\n  }, {\n    url: '/logs',\n    app: 'logs'\n  }, {\n    url: '/metastore',\n    app: function app() {\n      page('/metastore/tables');\n    }\n  }, {\n    url: '/metastore/*',\n    app: 'metastore'\n  }, {\n    url: '/notebook',\n    app: function app(ctx) {\n      self.loadApp('notebook');\n      var notebookId = getSearchParameter('?' + ctx.querystring, 'notebook');\n\n      if (notebookId !== '') {\n        self.getActiveAppViewModel(function (viewModel) {\n          self.isLoadingEmbeddable(true);\n          viewModel.openNotebook(notebookId)[window.ENABLE_NOTEBOOK_2 ? 'finally' : 'always'](function () {\n            self.isLoadingEmbeddable(false);\n          });\n        });\n      } else {\n        self.getActiveAppViewModel(function (viewModel) {\n          viewModel.newNotebook('notebook');\n        });\n      }\n    }\n  }, {\n    url: '/notebook/notebook',\n    app: function app(ctx) {\n      page('/notebook?' + ctx.querystring);\n    }\n  }, {\n    url: '/notebook/notebooks',\n    app: function app(ctx) {\n      page('/home/?' + ctx.querystring);\n    }\n  }, {\n    url: '/oozie/editor/bundle/list',\n    app: function app(ctx) {\n      page('/home/?type=oozie-bundle');\n    }\n  }, {\n    url: '/oozie/editor/bundle/*',\n    app: 'oozie_bundle'\n  }, {\n    url: '/oozie/editor/coordinator/list',\n    app: function app(ctx) {\n      page('/home/?type=oozie-coordinator');\n    }\n  }, {\n    url: '/oozie/editor/coordinator/*',\n    app: 'oozie_coordinator'\n  }, {\n    url: '/oozie/editor/workflow/list',\n    app: function app(ctx) {\n      page('/home/?type=oozie-workflow');\n    }\n  }, {\n    url: '/oozie/editor/workflow/*',\n    app: 'oozie_workflow'\n  }, {\n    url: '/oozie/list_oozie_info',\n    app: 'oozie_info'\n  }, {\n    url: '/oozie/list_oozie_sla',\n    app: function app() {\n      page.redirect('/jobbrowser/#!slas');\n    }\n  }, {\n    url: '/pig',\n    app: function app() {\n      self.loadApp('editor');\n      self.changeEditorType('pig');\n    }\n  }, {\n    url: '/search/*',\n    app: 'dashboard'\n  }, {\n    url: '/security/hdfs',\n    app: function app(ctx) {\n      if (self.lastContext == null || ctx.path !== self.lastContext.path) {\n        self.loadApp('security_hdfs');\n      }\n\n      self.lastContext = ctx;\n    }\n  }, {\n    url: '/security/hive',\n    app: function app(ctx) {\n      if (self.lastContext == null || ctx.path !== self.lastContext.path) {\n        self.loadApp('security_hive');\n      }\n\n      self.lastContext = ctx;\n    }\n  }, {\n    url: '/security/hive2',\n    app: function app(ctx) {\n      if (self.lastContext == null || ctx.path !== self.lastContext.path) {\n        self.loadApp('security_hive2');\n      }\n\n      self.lastContext = ctx;\n    }\n  }, {\n    url: '/security/solr',\n    app: function app(ctx) {\n      if (self.lastContext == null || ctx.path !== self.lastContext.path) {\n        self.loadApp('security_solr');\n      }\n\n      self.lastContext = ctx;\n    }\n  }, {\n    url: '/security',\n    app: function app() {\n      page('/security/hive');\n    }\n  }, {\n    url: '/sqoop',\n    app: 'sqoop'\n  }, {\n    url: '/jobsub',\n    app: 'jobsub'\n  }, {\n    url: '/useradmin/configurations/',\n    app: 'useradmin_configurations'\n  }, {\n    url: '/useradmin/organizations/',\n    app: 'useradmin_organizations'\n  }, {\n    url: '/useradmin/groups/',\n    app: 'useradmin_groups'\n  }, {\n    url: '/useradmin/groups/new',\n    app: 'useradmin_newgroup'\n  }, {\n    url: '/useradmin/groups/edit/:group',\n    app: 'useradmin_editgroup'\n  }, {\n    url: '/useradmin/permissions/',\n    app: 'useradmin_permissions'\n  }, {\n    url: '/useradmin/permissions/edit/*',\n    app: 'useradmin_editpermission'\n  }, {\n    url: '/useradmin/users/',\n    app: 'useradmin_users'\n  }, {\n    url: '/useradmin/users/add_ldap_users',\n    app: 'useradmin_addldapusers'\n  }, {\n    url: '/useradmin/users/add_ldap_groups',\n    app: 'useradmin_addldapgroups'\n  }, {\n    url: '/useradmin/users/edit/:user',\n    app: 'useradmin_edituser'\n  }, {\n    url: '/useradmin/users/new',\n    app: 'useradmin_newuser'\n  }, {\n    url: '/useradmin',\n    app: 'useradmin_users'\n  }];\n  window.OTHER_APPS.forEach(function (otherApp) {\n    pageMapping.push({\n      url: '/' + otherApp + '*',\n      app: function app(ctx) {\n        self.currentContextParams(ctx.params);\n        self.currentQueryString(ctx.querystring);\n        self.loadApp(otherApp, true);\n      }\n    });\n  });\n  pageMapping.forEach(function (mapping) {\n    page(mapping.url, _.isFunction(mapping.app) ? mapping.app : function (ctx) {\n      self.currentContextParams(ctx.params);\n      self.currentQueryString(ctx.querystring);\n      self.loadApp(mapping.app);\n    });\n  });\n\n  var configUpdated = function configUpdated(clusterConfig) {\n    page('/', function () {\n      page(clusterConfig['main_button_action'].page);\n    });\n    page('*', function (ctx) {\n      console.error('Route not found', ctx);\n      self.loadApp('404');\n    });\n    page();\n  };\n\n  huePubSub.publish(GET_KNOWN_CONFIG_TOPIC, configUpdated);\n  huePubSub.subscribe(CONFIG_REFRESHED_TOPIC, configUpdated);\n  huePubSub.subscribe('open.link', function (href) {\n    if (href) {\n      var prefix = '/hue';\n\n      if (href.startsWith('/')) {\n        if (window.HUE_BASE_URL.length && href.startsWith(window.HUE_BASE_URL)) {\n          page(href);\n        } else if (href.startsWith(prefix)) {\n          page(window.HUE_BASE_URL + href);\n        } else {\n          page(window.HUE_BASE_URL + prefix + href);\n        }\n      } else if (href.indexOf('#') == 0) {\n        // Only place that seem to use this is hbase onclick row\n        window.location.hash = href;\n      } else {\n        page(href);\n      }\n    } else {\n      console.warn('Received an open.link without href.');\n    }\n  });\n};\n\nexport default OnePageViewModel;","// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/* parser generated by jison 0.4.17 */\n\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nimport SqlParseSupport from \"./sqlParseSupport\";\n\nvar globalSearchParser = function () {\n  var o = function o(k, v, _o, l) {\n    for (_o = _o || {}, l = k.length; l--; _o[k[l]] = v) {\n      ;\n    }\n\n    return _o;\n  },\n      $V0 = [6, 15, 16, 17, 20],\n      $V1 = [2, 27],\n      $V2 = [1, 3],\n      $V3 = [1, 13],\n      $V4 = [1, 16],\n      $V5 = [1, 14],\n      $V6 = [1, 18],\n      $V7 = [2, 28],\n      $V8 = [6, 9],\n      $V9 = [2, 17],\n      $Va = [6, 9, 16],\n      $Vb = [1, 27],\n      $Vc = [1, 26],\n      $Vd = [1, 33],\n      $Ve = [1, 34],\n      $Vf = [1, 35],\n      $Vg = [1, 41],\n      $Vh = [2, 14];\n\n  var parser = {\n    trace: function trace() {},\n    yy: {},\n    symbols_: {\n      \"error\": 2,\n      \"GlobalSearchAutocomplete\": 3,\n      \"OptionalWhitespace\": 4,\n      \"SearchParts\": 5,\n      \"EOF\": 6,\n      \"SearchParts_EDIT\": 7,\n      \"SearchPart\": 8,\n      \"WS\": 9,\n      \"SearchPart_EDIT\": 10,\n      \"Facet\": 11,\n      \"FreeText\": 12,\n      \"Facet_EDIT\": 13,\n      \"FreeText_EDIT\": 14,\n      \"FACET\": 15,\n      \"CURSOR\": 16,\n      \"TEXT\": 17,\n      \"QuotedValue\": 18,\n      \"QuotedValue_EDIT\": 19,\n      \"QUOTE\": 20,\n      \"VALUE\": 21,\n      \"PARTIAL_VALUE\": 22,\n      \"$accept\": 0,\n      \"$end\": 1\n    },\n    terminals_: {\n      2: \"error\",\n      6: \"EOF\",\n      9: \"WS\",\n      15: \"FACET\",\n      16: \"CURSOR\",\n      17: \"TEXT\",\n      20: \"QUOTE\",\n      21: \"VALUE\",\n      22: \"PARTIAL_VALUE\"\n    },\n    productions_: [0, [3, 4], [3, 3], [3, 2], [5, 1], [5, 3], [7, 1], [7, 3], [7, 3], [7, 5], [8, 1], [8, 1], [10, 1], [10, 1], [11, 3], [13, 3], [13, 4], [12, 1], [12, 1], [14, 1], [14, 2], [14, 3], [14, 2], [14, 1], [18, 3], [18, 2], [19, 2], [4, 0], [4, 1]],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate\n    /* action[1] */\n    , $$\n    /* vstack */\n    , _$\n    /* lstack */\n    ) {\n      /* this == yyval */\n      var $0 = $$.length - 1;\n\n      switch (yystate) {\n        case 1:\n          return $$[$0 - 2];\n          break;\n\n        case 2:\n          if (!$$[$0 - 1].facets) {\n            $$[$0 - 1].facets = {};\n          }\n\n          if (!$$[$0 - 1].text) {\n            $$[$0 - 1].text = [];\n          }\n\n          return $$[$0 - 1];\n          break;\n\n        case 3:\n          return {\n            facets: {},\n            text: []\n          };\n          break;\n\n        case 5:\n          parser.mergeFacets($$[$0 - 2], $$[$0]);\n          parser.mergeText($$[$0 - 2], $$[$0]);\n          break;\n\n        case 7:\n          parser.mergeFacets($$[$0 - 2], $$[$0]);\n          parser.mergeText($$[$0 - 2], $$[$0]);\n          this.$ = $$[$0];\n          this.$.text = $$[$0 - 2].text;\n          this.$.facets = $$[$0 - 2].facets;\n          break;\n\n        case 8:\n          this.$ = $$[$0 - 2];\n          parser.mergeFacets(this.$, $$[$0]);\n          parser.mergeText(this.$, $$[$0]);\n          break;\n\n        case 9:\n          parser.mergeFacets($$[$0 - 4], $$[$0 - 2]);\n          parser.mergeFacets($$[$0 - 4], $$[$0]);\n          parser.mergeText($$[$0 - 4], $$[$0 - 2]);\n          parser.mergeText($$[$0 - 4], $$[$0]);\n          this.$ = $$[$0 - 2];\n          this.$.text = $$[$0 - 4].text;\n          this.$.facets = $$[$0 - 4].facets;\n          break;\n\n        case 10:\n          this.$ = {\n            text: [],\n            facets: $$[$0].facets\n          };\n          break;\n\n        case 11:\n          this.$ = {\n            text: [$$[$0]],\n            facets: {}\n          };\n          break;\n\n        case 14:\n          var facet = {};\n          var facetName = $$[$0 - 2].substring(0, $$[$0 - 2].length - 1).toLowerCase();\n          facet[facetName] = {};\n          facet[facetName][$$[$0].toLowerCase()] = true;\n          this.$ = {\n            facets: facet\n          };\n          break;\n\n        case 15:\n          this.$ = {\n            suggestFacetValues: $$[$0 - 2].substring(0, $$[$0 - 2].length - 1).toLowerCase()\n          };\n          break;\n\n        case 16:\n          var facet = {};\n          var facetName = $$[$0 - 3].substring(0, $$[$0 - 3].length - 1).toLowerCase();\n          facet[facetName] = {};\n          facet[facetName][$$[$0 - 1].toLowerCase()] = true;\n          this.$ = {\n            suggestFacetValues: facetName,\n            facets: facet\n          };\n          break;\n\n        case 19:\n          this.$ = {\n            suggestFacets: true,\n            suggestResults: true\n          };\n          break;\n\n        case 20:\n          this.$ = {\n            suggestFacets: true,\n            suggestResults: true,\n            text: [$$[$0]]\n          };\n          break;\n\n        case 21:\n          this.$ = {\n            suggestFacets: true,\n            suggestResults: true,\n            text: [$$[$0 - 2] + $$[$0]]\n          };\n          break;\n\n        case 22:\n          this.$ = {\n            suggestFacets: true,\n            suggestResults: true,\n            text: [$$[$0 - 1]]\n          };\n          break;\n\n        case 24:\n          this.$ = $$[$0 - 1];\n          break;\n\n        case 25:\n          this.$ = '';\n          break;\n\n        case 26:\n          this.$ = $$[$0];\n          break;\n      }\n    },\n    table: [o($V0, $V1, {\n      3: 1,\n      4: 2,\n      9: $V2\n    }), {\n      1: [3]\n    }, {\n      5: 4,\n      6: [1, 6],\n      7: 5,\n      8: 7,\n      10: 8,\n      11: 9,\n      12: 10,\n      13: 11,\n      14: 12,\n      15: $V3,\n      16: $V4,\n      17: $V5,\n      18: 15,\n      19: 17,\n      20: $V6\n    }, o($V0, $V7), {\n      4: 19,\n      6: $V1,\n      9: [1, 20]\n    }, {\n      6: [1, 21]\n    }, {\n      1: [2, 3]\n    }, o($V8, [2, 4]), {\n      6: [2, 6],\n      9: [1, 22]\n    }, o($V8, [2, 10]), o($V8, [2, 11]), o($V8, [2, 12]), o($V8, [2, 13]), o([16, 17, 20], $V1, {\n      4: 23,\n      9: $V2\n    }), o($V8, $V9, {\n      16: [1, 24]\n    }), o($Va, [2, 18]), o($V8, [2, 19], {\n      17: [1, 25]\n    }), o($V8, [2, 23]), {\n      20: $Vb,\n      21: $Vc,\n      22: [1, 28]\n    }, {\n      6: [1, 29]\n    }, {\n      6: $V7,\n      8: 30,\n      10: 31,\n      11: 9,\n      12: 10,\n      13: 11,\n      14: 12,\n      15: $V3,\n      16: $V4,\n      17: $V5,\n      18: 15,\n      19: 17,\n      20: $V6\n    }, {\n      1: [2, 2]\n    }, {\n      5: 32,\n      8: 7,\n      11: 9,\n      12: 10,\n      15: $Vd,\n      17: $Ve,\n      18: 15,\n      20: $Vf\n    }, {\n      12: 36,\n      16: [1, 37],\n      17: $Ve,\n      18: 15,\n      20: $Vf\n    }, o($V8, [2, 22], {\n      17: [1, 38]\n    }), o($V8, [2, 20]), {\n      20: [1, 39]\n    }, o($Va, [2, 25]), o($V8, [2, 26]), {\n      1: [2, 1]\n    }, o($V8, [2, 5]), {\n      6: [2, 7],\n      9: [1, 40]\n    }, {\n      6: [2, 8],\n      9: $Vg\n    }, o([17, 20], $V1, {\n      4: 42,\n      9: $V2\n    }), o($Va, $V9), {\n      20: $Vb,\n      21: $Vc\n    }, o($V8, $Vh, {\n      16: [1, 43]\n    }), o($V8, [2, 15]), o($V8, [2, 21]), o($Va, [2, 24]), {\n      5: 44,\n      8: 7,\n      11: 9,\n      12: 10,\n      15: $Vd,\n      17: $Ve,\n      18: 15,\n      20: $Vf\n    }, {\n      8: 30,\n      11: 9,\n      12: 10,\n      15: $Vd,\n      17: $Ve,\n      18: 15,\n      20: $Vf\n    }, {\n      12: 45,\n      17: $Ve,\n      18: 15,\n      20: $Vf\n    }, o($V8, [2, 16]), {\n      6: [2, 9],\n      9: $Vg\n    }, o($V8, $Vh)],\n    defaultActions: {\n      6: [2, 3],\n      21: [2, 2],\n      29: [2, 1]\n    },\n    parseError: function parseError(str, hash) {\n      if (hash.recoverable) {\n        this.trace(str);\n      } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n      }\n    },\n    parse: function parse(input) {\n      var self = this,\n          stack = [0],\n          tstack = [],\n          vstack = [null],\n          lstack = [],\n          table = this.table,\n          yytext = '',\n          yylineno = 0,\n          yyleng = 0,\n          recovering = 0,\n          TERROR = 2,\n          EOF = 1;\n      var args = lstack.slice.call(arguments, 1);\n      var lexer = Object.create(this.lexer);\n      var sharedState = {\n        yy: {}\n      };\n\n      for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n          sharedState.yy[k] = this.yy[k];\n        }\n      }\n\n      lexer.setInput(input, sharedState.yy);\n      sharedState.yy.lexer = lexer;\n      sharedState.yy.parser = this;\n\n      if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n      }\n\n      var yyloc = lexer.yylloc;\n      lstack.push(yyloc);\n      var ranges = lexer.options && lexer.options.ranges;\n\n      if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n      } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n      }\n\n      function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n      }\n\n      _token_stack: var lex = function lex() {\n        var token;\n        token = lexer.lex() || EOF;\n\n        if (typeof token !== 'number') {\n          token = self.symbols_[token] || token;\n        }\n\n        return token;\n      };\n\n      var symbol,\n          preErrorSymbol,\n          state,\n          action,\n          a,\n          r,\n          yyval = {},\n          p,\n          len,\n          newState,\n          expected;\n\n      while (true) {\n        state = stack[stack.length - 1];\n\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state];\n        } else {\n          if (symbol === null || typeof symbol == 'undefined') {\n            symbol = lex();\n          }\n\n          action = table[state] && table[state][symbol];\n        }\n\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n          var errStr = '';\n          expected = [];\n\n          for (p in table[state]) {\n            if (this.terminals_[p] && p > TERROR) {\n              expected.push('\\'' + this.terminals_[p] + '\\'');\n            }\n          }\n\n          if (lexer.showPosition) {\n            errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n          } else {\n            errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n          }\n\n          this.parseError(errStr, {\n            text: lexer.match,\n            token: this.terminals_[symbol] || symbol,\n            line: lexer.yylineno,\n            loc: lexer.yylloc,\n            ruleId: stack.slice(stack.length - 2, stack.length).join('_'),\n            expected: expected\n          });\n        }\n\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n\n        switch (action[0]) {\n          case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n\n            if (!preErrorSymbol) {\n              yyleng = lexer.yyleng;\n              yytext = lexer.yytext;\n              yylineno = lexer.yylineno;\n              yyloc = lexer.yylloc;\n\n              if (recovering > 0) {\n                recovering--;\n              }\n            } else {\n              symbol = preErrorSymbol;\n              preErrorSymbol = null;\n            }\n\n            break;\n\n          case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            };\n\n            if (ranges) {\n              yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];\n            }\n\n            r = this.performAction.apply(yyval, [yytext, yyleng, yylineno, sharedState.yy, action[1], vstack, lstack].concat(args));\n\n            if (typeof r !== 'undefined') {\n              return r;\n            }\n\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2);\n              vstack = vstack.slice(0, -1 * len);\n              lstack = lstack.slice(0, -1 * len);\n            }\n\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n\n          case 3:\n            return true;\n        }\n      }\n\n      return true;\n    }\n  };\n  SqlParseSupport.initGlobalSearchParser(parser);\n  /* generated by jison-lex 0.3.4 */\n\n  var lexer = function () {\n    var lexer = {\n      EOF: 1,\n      parseError: function parseError(str, hash) {\n        if (this.yy.parser) {\n          this.yy.parser.parseError(str, hash);\n        } else {\n          throw new Error(str);\n        }\n      },\n      // resets the lexer, sets new input\n      setInput: function setInput(input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        };\n\n        if (this.options.ranges) {\n          this.yylloc.range = [0, 0];\n        }\n\n        this.offset = 0;\n        return this;\n      },\n      // consumes and returns one char from the input\n      input: function input() {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n\n        if (lines) {\n          this.yylineno++;\n          this.yylloc.last_line++;\n        } else {\n          this.yylloc.last_column++;\n        }\n\n        if (this.options.ranges) {\n          this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n      },\n      // unshifts one char (or a string) into the input\n      unput: function unput(ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len); //this.yyleng -= len;\n\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n          this.yylineno -= lines.length - 1;\n        }\n\n        var r = this.yylloc.range;\n        this.yylloc = {\n          first_line: this.yylloc.first_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n\n        this.yyleng = this.yytext.length;\n        return this;\n      },\n      // When called from action, caches matched text and appends it on next action\n      more: function more() {\n        this._more = true;\n        return this;\n      },\n      // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n      reject: function reject() {\n        if (this.options.backtrack_lexer) {\n          this._backtrack = true;\n        } else {\n          return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n            text: \"\",\n            token: null,\n            line: this.yylineno\n          });\n        }\n\n        return this;\n      },\n      // retain first n characters of the match\n      less: function less(n) {\n        this.unput(this.match.slice(n));\n      },\n      // displays already matched input, i.e. for error messages\n      pastInput: function pastInput() {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, \"\");\n      },\n      // displays upcoming input, i.e. for error messages\n      upcomingInput: function upcomingInput() {\n        var next = this.match;\n\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length);\n        }\n\n        return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n      },\n      // displays the character position where the lexing error occurred, i.e. for error messages\n      showPosition: function showPosition() {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n      },\n      // test the lexed token: return FALSE when not a match, otherwise return token\n      test_match: function test_match(match, indexed_rule) {\n        var token, lines, backup;\n\n        if (this.options.backtrack_lexer) {\n          // save context\n          backup = {\n            yylineno: this.yylineno,\n            yylloc: {\n              first_line: this.yylloc.first_line,\n              last_line: this.last_line,\n              first_column: this.yylloc.first_column,\n              last_column: this.yylloc.last_column\n            },\n            yytext: this.yytext,\n            match: this.match,\n            matches: this.matches,\n            matched: this.matched,\n            yyleng: this.yyleng,\n            offset: this.offset,\n            _more: this._more,\n            _input: this._input,\n            yy: this.yy,\n            conditionStack: this.conditionStack.slice(0),\n            done: this.done\n          };\n\n          if (this.options.ranges) {\n            backup.yylloc.range = this.yylloc.range.slice(0);\n          }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n\n        if (lines) {\n          this.yylineno += lines.length;\n        }\n\n        this.yylloc = {\n          first_line: this.yylloc.last_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.last_column,\n          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n\n        if (this.options.ranges) {\n          this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n\n        if (this.done && this._input) {\n          this.done = false;\n        }\n\n        if (token) {\n          return token;\n        } else if (this._backtrack) {\n          // recover context\n          for (var k in backup) {\n            this[k] = backup[k];\n          }\n\n          return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n\n        return false;\n      },\n      // return next match in input\n      next: function next() {\n        if (this.done) {\n          return this.EOF;\n        }\n\n        if (!this._input) {\n          this.done = true;\n        }\n\n        var token, match, tempMatch, index;\n\n        if (!this._more) {\n          this.yytext = '';\n          this.match = '';\n        }\n\n        var rules = this._currentRules();\n\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]]);\n\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch;\n            index = i;\n\n            if (this.options.backtrack_lexer) {\n              token = this.test_match(tempMatch, rules[i]);\n\n              if (token !== false) {\n                return token;\n              } else if (this._backtrack) {\n                match = false;\n                continue; // rule action called reject() implying a rule MISmatch.\n              } else {\n                // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                return false;\n              }\n            } else if (!this.options.flex) {\n              break;\n            }\n          }\n        }\n\n        if (match) {\n          token = this.test_match(match, rules[index]);\n\n          if (token !== false) {\n            return token;\n          } // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n\n\n          return false;\n        }\n\n        if (this._input === \"\") {\n          return this.EOF;\n        } else {\n          return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n            text: \"\",\n            token: null,\n            line: this.yylineno\n          });\n        }\n      },\n      // return next match that has a token\n      lex: function lex() {\n        var r = this.next();\n\n        if (r) {\n          return r;\n        } else {\n          return this.lex();\n        }\n      },\n      // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n      begin: function begin(condition) {\n        this.conditionStack.push(condition);\n      },\n      // pop the previously active lexer condition state off the condition stack\n      popState: function popState() {\n        var n = this.conditionStack.length - 1;\n\n        if (n > 0) {\n          return this.conditionStack.pop();\n        } else {\n          return this.conditionStack[0];\n        }\n      },\n      // produce the lexer rule set which is active for the currently active lexer condition state\n      _currentRules: function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n          return this.conditions[\"INITIAL\"].rules;\n        }\n      },\n      // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n      topState: function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n\n        if (n >= 0) {\n          return this.conditionStack[n];\n        } else {\n          return \"INITIAL\";\n        }\n      },\n      // alias for begin(condition)\n      pushState: function pushState(condition) {\n        this.begin(condition);\n      },\n      // return the number of states currently on the stack\n      stateStackSize: function stateStackSize() {\n        return this.conditionStack.length;\n      },\n      options: {},\n      performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n        var YYSTATE = YY_START;\n\n        switch ($avoiding_name_collisions) {\n          case 0:\n            return 9;\n            break;\n\n          case 1:\n            parser.yy.cursorFound = yy_.yylloc;\n            return 16;\n            break;\n\n          case 2:\n            return 15;\n            break;\n\n          case 3:\n            this.begin('singleQuote');\n            return 20;\n            break;\n\n          case 4:\n            if (parser.handleQuotedValueWithCursor(this, yy_.yytext, yy_.yylloc, '\\'')) {\n              return 22;\n            }\n\n            return 21;\n            break;\n\n          case 5:\n            this.popState();\n            return 20;\n            break;\n\n          case 6:\n            this.begin('doubleQuote');\n            return 20;\n            break;\n\n          case 7:\n            if (parser.handleQuotedValueWithCursor(this, yy_.yytext, yy_.yylloc, '\"')) {\n              return 22;\n            }\n\n            return 21;\n            break;\n\n          case 8:\n            this.popState();\n            return 20;\n            break;\n\n          case 9:\n            return 17;\n            break;\n\n          case 10:\n            return 6;\n            break;\n        }\n      },\n      rules: [/^(?:\\s+)/, /^(?:\\u2020)/, /^(?:[a-zA-Z]+[:])/, /^(?:')/, /^(?:(?:\\\\[']|[^'])+)/, /^(?:')/, /^(?:\")/, /^(?:(?:\\\\[\"]|[^\"])+)/, /^(?:\")/, /^(?:[^\"'\\s\\u2020]+)/, /^(?:$)/],\n      conditions: {\n        \"singleQuote\": {\n          \"rules\": [4, 5],\n          \"inclusive\": false\n        },\n        \"doubleQuote\": {\n          \"rules\": [7, 8],\n          \"inclusive\": false\n        },\n        \"INITIAL\": {\n          \"rules\": [0, 1, 2, 3, 6, 9, 10],\n          \"inclusive\": true\n        }\n      }\n    };\n    return lexer;\n  }();\n\n  parser.lexer = lexer;\n\n  function Parser() {\n    this.yy = {};\n  }\n\n  Parser.prototype = parser;\n  parser.Parser = Parser;\n  return new Parser();\n}();\n\nexport default globalSearchParser;","// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/* parser generated by jison 0.4.17 */\n\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar hplsqlStatementsParser = function () {\n  var o = function o(k, v, _o, l) {\n    for (_o = _o || {}, l = k.length; l--; _o[k[l]] = v) {\n      ;\n    }\n\n    return _o;\n  },\n      $V0 = [1, 7],\n      $V1 = [1, 6],\n      $V2 = [1, 12],\n      $V3 = [5, 9],\n      $V4 = [1, 13],\n      $V5 = [5, 8, 9];\n\n  var parser = {\n    trace: function trace() {},\n    yy: {},\n    symbols_: {\n      \"error\": 2,\n      \"HplsqlStatementsParser\": 3,\n      \"Statements\": 4,\n      \"EOF\": 5,\n      \"OneOrMoreSeparators\": 6,\n      \"StatementParts\": 7,\n      \"PART_OF_STATEMENT\": 8,\n      \"/\": 9,\n      \"$accept\": 0,\n      \"$end\": 1\n    },\n    terminals_: {\n      2: \"error\",\n      5: \"EOF\",\n      8: \"PART_OF_STATEMENT\",\n      9: \"/\"\n    },\n    productions_: [0, [3, 2], [3, 3], [3, 4], [3, 3], [3, 2], [3, 1], [4, 1], [4, 3], [7, 1], [7, 2], [6, 1], [6, 2]],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate\n    /* action[1] */\n    , $$\n    /* vstack */\n    , _$\n    /* lstack */\n    ) {\n      /* this == yyval */\n      var $0 = $$.length - 1;\n\n      switch (yystate) {\n        case 1:\n          parser.removeTrailingWhiteSpace($$[$0 - 1]);\n          return $$[$0 - 1];\n          break;\n\n        case 2:\n          parser.handleLeadingStatements($$[$0 - 2], $$[$0 - 1]);\n          parser.removeTrailingWhiteSpace($$[$0 - 1]);\n          return $$[$0 - 1];\n          break;\n\n        case 3:\n          parser.handleLeadingStatements($$[$0 - 3], $$[$0 - 2]);\n          parser.handleTrailingStatements($$[$0 - 2], $$[$0 - 1]);\n          parser.removeTrailingWhiteSpace($$[$0 - 2]);\n          return $$[$0 - 2];\n          break;\n\n        case 4:\n          parser.handleTrailingStatements($$[$0 - 2], $$[$0 - 1]);\n          parser.removeTrailingWhiteSpace($$[$0 - 2]);\n          return $$[$0 - 2];\n          break;\n\n        case 5:\n          var result = [];\n          parser.handleLeadingStatements($$[$0 - 1], result);\n          return result;\n          break;\n\n        case 6:\n          var result = [];\n          parser.addEntry(result, 'statement', $$[$0], _$[$0]);\n          return result;\n          break;\n\n        case 7:\n          this.$ = [];\n          parser.addEntry(this.$, 'statement', $$[$0], _$[$0]);\n          break;\n\n        case 8:\n          parser.handleTrailingStatements($$[$0 - 2], $$[$0 - 1]);\n          parser.addEntry($$[$0 - 2], 'statement', $$[$0], _$[$0]);\n          break;\n\n        case 10:\n          this.$ = $$[$0 - 1] + $$[$0];\n          ;\n          break;\n\n        case 11:\n          this.$ = [_$[$0]];\n          break;\n\n        case 12:\n          $$[$0 - 1].push(_$[$0]);\n          break;\n      }\n    },\n    table: [{\n      3: 1,\n      4: 2,\n      5: [1, 4],\n      6: 3,\n      7: 5,\n      8: $V0,\n      9: $V1\n    }, {\n      1: [3]\n    }, {\n      5: [1, 8],\n      6: 9,\n      9: $V1\n    }, {\n      4: 10,\n      5: [1, 11],\n      7: 5,\n      8: $V0,\n      9: $V2\n    }, {\n      1: [2, 6]\n    }, o($V3, [2, 7], {\n      8: $V4\n    }), o($V5, [2, 11]), o($V5, [2, 9]), {\n      1: [2, 1]\n    }, {\n      5: [1, 14],\n      7: 15,\n      8: $V0,\n      9: $V2\n    }, {\n      5: [1, 16],\n      6: 17,\n      9: $V1\n    }, {\n      1: [2, 5]\n    }, o($V5, [2, 12]), o($V5, [2, 10]), {\n      1: [2, 4]\n    }, o($V3, [2, 8], {\n      8: $V4\n    }), {\n      1: [2, 2]\n    }, {\n      5: [1, 18],\n      7: 15,\n      8: $V0,\n      9: $V2\n    }, {\n      1: [2, 3]\n    }],\n    defaultActions: {\n      4: [2, 6],\n      8: [2, 1],\n      11: [2, 5],\n      14: [2, 4],\n      16: [2, 2],\n      18: [2, 3]\n    },\n    parseError: function parseError(str, hash) {\n      if (hash.recoverable) {\n        this.trace(str);\n      } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n      }\n    },\n\n    /**\n     * @param {string} input\n     *\n     * @return {SqlStatementsParserResult}\n     */\n    parse: function parse(input) {\n      var self = this,\n          stack = [0],\n          tstack = [],\n          vstack = [null],\n          lstack = [],\n          table = this.table,\n          yytext = '',\n          yylineno = 0,\n          yyleng = 0,\n          recovering = 0,\n          TERROR = 2,\n          EOF = 1;\n      var args = lstack.slice.call(arguments, 1);\n      var lexer = Object.create(this.lexer);\n      var sharedState = {\n        yy: {}\n      };\n\n      for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n          sharedState.yy[k] = this.yy[k];\n        }\n      }\n\n      lexer.setInput(input, sharedState.yy);\n      sharedState.yy.lexer = lexer;\n      sharedState.yy.parser = this;\n\n      if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n      }\n\n      var yyloc = lexer.yylloc;\n      lstack.push(yyloc);\n      var ranges = lexer.options && lexer.options.ranges;\n\n      if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n      } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n      }\n\n      function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n      }\n\n      _token_stack: var lex = function lex() {\n        var token;\n        token = lexer.lex() || EOF;\n\n        if (typeof token !== 'number') {\n          token = self.symbols_[token] || token;\n        }\n\n        return token;\n      };\n\n      var symbol,\n          preErrorSymbol,\n          state,\n          action,\n          a,\n          r,\n          yyval = {},\n          p,\n          len,\n          newState,\n          expected;\n\n      while (true) {\n        state = stack[stack.length - 1];\n\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state];\n        } else {\n          if (symbol === null || typeof symbol == 'undefined') {\n            symbol = lex();\n          }\n\n          action = table[state] && table[state][symbol];\n        }\n\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n          var errStr = '';\n          expected = [];\n\n          for (p in table[state]) {\n            if (this.terminals_[p] && p > TERROR) {\n              expected.push('\\'' + this.terminals_[p] + '\\'');\n            }\n          }\n\n          if (lexer.showPosition) {\n            errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n          } else {\n            errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n          }\n\n          this.parseError(errStr, {\n            text: lexer.match,\n            token: this.terminals_[symbol] || symbol,\n            line: lexer.yylineno,\n            loc: lexer.yylloc,\n            ruleId: stack.slice(stack.length - 2, stack.length).join('_'),\n            expected: expected\n          });\n        }\n\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n\n        switch (action[0]) {\n          case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n\n            if (!preErrorSymbol) {\n              yyleng = lexer.yyleng;\n              yytext = lexer.yytext;\n              yylineno = lexer.yylineno;\n              yyloc = lexer.yylloc;\n\n              if (recovering > 0) {\n                recovering--;\n              }\n            } else {\n              symbol = preErrorSymbol;\n              preErrorSymbol = null;\n            }\n\n            break;\n\n          case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            };\n\n            if (ranges) {\n              yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];\n            }\n\n            r = this.performAction.apply(yyval, [yytext, yyleng, yylineno, sharedState.yy, action[1], vstack, lstack].concat(args));\n\n            if (typeof r !== 'undefined') {\n              return r;\n            }\n\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2);\n              vstack = vstack.slice(0, -1 * len);\n              lstack = lstack.slice(0, -1 * len);\n            }\n\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n\n          case 3:\n            return true;\n        }\n      }\n\n      return true;\n    }\n  };\n\n  parser.addEntry = function (statements, type, statement, location) {\n    if (parser.yy.firstToken) {\n      if (parser.yy.useDatabase) {\n        statements.push({\n          type: type,\n          statement: statement,\n          location: location,\n          firstToken: parser.yy.firstToken,\n          database: parser.yy.useDatabase\n        });\n        delete parser.yy.useDatabase;\n      } else {\n        statements.push({\n          type: type,\n          statement: statement,\n          location: location,\n          firstToken: parser.yy.firstToken\n        });\n      }\n\n      delete parser.yy.firstToken;\n    } else {\n      statements.push({\n        type: type,\n        statement: statement,\n        location: location\n      });\n    }\n  };\n\n  parser.handleLeadingStatements = function (emptyStatements, result) {\n    for (var i = emptyStatements.length - 1; i >= 0; i--) {\n      result.unshift({\n        type: 'statement',\n        statement: ';',\n        location: emptyStatements[i]\n      });\n    }\n  };\n\n  parser.handleTrailingStatements = function (result, emptyStatements) {\n    var lastStatement = result[result.length - 1];\n    lastStatement.statement += ';';\n    lastStatement.location = {\n      first_line: lastStatement.location.first_line,\n      first_column: lastStatement.location.first_column,\n      last_line: emptyStatements[0].last_line,\n      last_column: emptyStatements[0].last_column\n    };\n\n    if (emptyStatements.length > 1) {\n      for (var i = 1; i < emptyStatements.length; i++) {\n        result.push({\n          type: 'statement',\n          statement: ';',\n          location: emptyStatements[i]\n        });\n      }\n    }\n  };\n\n  parser.removeTrailingWhiteSpace = function (result) {\n    if (result.length > 1) {\n      var lastStatement = result[result.length - 1];\n\n      if (/^\\s+$/.test(lastStatement.statement)) {\n        result.pop();\n      }\n    }\n  };\n  /* generated by jison-lex 0.3.4 */\n\n\n  var lexer = function () {\n    var lexer = {\n      EOF: 1,\n      parseError: function parseError(str, hash) {\n        if (this.yy.parser) {\n          this.yy.parser.parseError(str, hash);\n        } else {\n          throw new Error(str);\n        }\n      },\n      // resets the lexer, sets new input\n      setInput: function setInput(input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        };\n\n        if (this.options.ranges) {\n          this.yylloc.range = [0, 0];\n        }\n\n        this.offset = 0;\n        return this;\n      },\n      // consumes and returns one char from the input\n      input: function input() {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n\n        if (lines) {\n          this.yylineno++;\n          this.yylloc.last_line++;\n        } else {\n          this.yylloc.last_column++;\n        }\n\n        if (this.options.ranges) {\n          this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n      },\n      // unshifts one char (or a string) into the input\n      unput: function unput(ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len); //this.yyleng -= len;\n\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n          this.yylineno -= lines.length - 1;\n        }\n\n        var r = this.yylloc.range;\n        this.yylloc = {\n          first_line: this.yylloc.first_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n\n        this.yyleng = this.yytext.length;\n        return this;\n      },\n      // When called from action, caches matched text and appends it on next action\n      more: function more() {\n        this._more = true;\n        return this;\n      },\n      // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n      reject: function reject() {\n        if (this.options.backtrack_lexer) {\n          this._backtrack = true;\n        } else {\n          return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n            text: \"\",\n            token: null,\n            line: this.yylineno\n          });\n        }\n\n        return this;\n      },\n      // retain first n characters of the match\n      less: function less(n) {\n        this.unput(this.match.slice(n));\n      },\n      // displays already matched input, i.e. for error messages\n      pastInput: function pastInput() {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, \"\");\n      },\n      // displays upcoming input, i.e. for error messages\n      upcomingInput: function upcomingInput() {\n        var next = this.match;\n\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length);\n        }\n\n        return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n      },\n      // displays the character position where the lexing error occurred, i.e. for error messages\n      showPosition: function showPosition() {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n      },\n      // test the lexed token: return FALSE when not a match, otherwise return token\n      test_match: function test_match(match, indexed_rule) {\n        var token, lines, backup;\n\n        if (this.options.backtrack_lexer) {\n          // save context\n          backup = {\n            yylineno: this.yylineno,\n            yylloc: {\n              first_line: this.yylloc.first_line,\n              last_line: this.last_line,\n              first_column: this.yylloc.first_column,\n              last_column: this.yylloc.last_column\n            },\n            yytext: this.yytext,\n            match: this.match,\n            matches: this.matches,\n            matched: this.matched,\n            yyleng: this.yyleng,\n            offset: this.offset,\n            _more: this._more,\n            _input: this._input,\n            yy: this.yy,\n            conditionStack: this.conditionStack.slice(0),\n            done: this.done\n          };\n\n          if (this.options.ranges) {\n            backup.yylloc.range = this.yylloc.range.slice(0);\n          }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n\n        if (lines) {\n          this.yylineno += lines.length;\n        }\n\n        this.yylloc = {\n          first_line: this.yylloc.last_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.last_column,\n          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n\n        if (this.options.ranges) {\n          this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n\n        if (this.done && this._input) {\n          this.done = false;\n        }\n\n        if (token) {\n          return token;\n        } else if (this._backtrack) {\n          // recover context\n          for (var k in backup) {\n            this[k] = backup[k];\n          }\n\n          return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n\n        return false;\n      },\n      // return next match in input\n      next: function next() {\n        if (this.done) {\n          return this.EOF;\n        }\n\n        if (!this._input) {\n          this.done = true;\n        }\n\n        var token, match, tempMatch, index;\n\n        if (!this._more) {\n          this.yytext = '';\n          this.match = '';\n        }\n\n        var rules = this._currentRules();\n\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]]);\n\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch;\n            index = i;\n\n            if (this.options.backtrack_lexer) {\n              token = this.test_match(tempMatch, rules[i]);\n\n              if (token !== false) {\n                return token;\n              } else if (this._backtrack) {\n                match = false;\n                continue; // rule action called reject() implying a rule MISmatch.\n              } else {\n                // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                return false;\n              }\n            } else if (!this.options.flex) {\n              break;\n            }\n          }\n        }\n\n        if (match) {\n          token = this.test_match(match, rules[index]);\n\n          if (token !== false) {\n            return token;\n          } // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n\n\n          return false;\n        }\n\n        if (this._input === \"\") {\n          return this.EOF;\n        } else {\n          return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n            text: \"\",\n            token: null,\n            line: this.yylineno\n          });\n        }\n      },\n      // return next match that has a token\n      lex: function lex() {\n        var r = this.next();\n\n        if (r) {\n          return r;\n        } else {\n          return this.lex();\n        }\n      },\n      // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n      begin: function begin(condition) {\n        this.conditionStack.push(condition);\n      },\n      // pop the previously active lexer condition state off the condition stack\n      popState: function popState() {\n        var n = this.conditionStack.length - 1;\n\n        if (n > 0) {\n          return this.conditionStack.pop();\n        } else {\n          return this.conditionStack[0];\n        }\n      },\n      // produce the lexer rule set which is active for the currently active lexer condition state\n      _currentRules: function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n          return this.conditions[\"INITIAL\"].rules;\n        }\n      },\n      // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n      topState: function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n\n        if (n >= 0) {\n          return this.conditionStack[n];\n        } else {\n          return \"INITIAL\";\n        }\n      },\n      // alias for begin(condition)\n      pushState: function pushState(condition) {\n        this.begin(condition);\n      },\n      // return the number of states currently on the stack\n      stateStackSize: function stateStackSize() {\n        return this.conditionStack.length;\n      },\n      options: {\n        \"flex\": true\n      },\n      performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n        var YYSTATE = YY_START;\n\n        switch ($avoiding_name_collisions) {\n          case 0:\n            this.begin(\"multiLineComment\");\n            return 8;\n            break;\n\n          case 1:\n            return 8;\n            break;\n\n          case 2:\n            return 8;\n            break;\n\n          case 3:\n            this.popState();\n            return 8;\n            break;\n\n          case 4:\n            this.popState();\n            return 8;\n            break;\n\n          case 5:\n            this.begin(\"inLineComment\");\n            return 8;\n            break;\n\n          case 6:\n            return 8;\n            break;\n\n          case 7:\n            this.popState();\n            return 5;\n            break;\n\n          case 8:\n            this.popState();\n            return 8;\n            break;\n\n          case 9:\n            this.begin(\"doubleQuote\");\n            return 8;\n            break;\n\n          case 10:\n            return 8;\n            break;\n\n          case 11:\n            this.popState();\n            return 5;\n            break;\n\n          case 12:\n            this.popState();\n            return 8;\n            break;\n\n          case 13:\n            this.begin(\"singleQuote\");\n            return 8;\n            break;\n\n          case 14:\n            return 8;\n            break;\n\n          case 15:\n            this.popState();\n            return 5;\n            break;\n\n          case 16:\n            this.popState();\n            return 8;\n            break;\n\n          case 17:\n            this.begin(\"backTick\");\n            return 8;\n            break;\n\n          case 18:\n            if (parser.yy.usePreceding) {\n              parser.yy.useDatabase = yy_.yytext;\n              parser.yy.usePreceding = false;\n            }\n\n            return 8;\n            break;\n\n          case 19:\n            this.popState();\n            return 5;\n            break;\n\n          case 20:\n            this.popState();\n            return 8;\n            break;\n\n          case 21:\n            if (!parser.yy.firstToken) {\n              var firstWordMatch = yy_.yytext.match(/[a-zA-Z_]+/);\n\n              if (firstWordMatch) {\n                parser.yy.firstToken = firstWordMatch[0];\n              }\n\n              var useDatabaseMatch = yy_.yytext.match(/USE\\s+(\\S+)/i);\n\n              if (useDatabaseMatch) {\n                parser.yy.useDatabase = useDatabaseMatch[1];\n              } else {\n                // For backticked\n                parser.yy.usePreceding = /USE/i.test(yy_.yytext);\n              }\n            } else if (parser.yy.usePreceding) {\n              parser.yy.useDatabase = yy_.yytext;\n              parser.yy.usePreceding = false;\n            }\n\n            return 8;\n            break;\n\n          case 22:\n            return 8;\n            break;\n\n          case 23:\n            return 8;\n            break;\n\n          case 24:\n            return 9;\n            break;\n\n          case 25:\n            return 5;\n            break;\n\n          case 26:\n            /* To prevent console logging of unknown chars */\n            break;\n\n          case 27:\n            console.log(yy_.yytext);\n            break;\n        }\n      },\n      rules: [/^(?:\\/\\*)/, /^(?:[^*]+)/, /^(?:[*][^/])/, /^(?:$)/, /^(?:\\*\\/)/, /^(?:--)/, /^(?:[^\\n]+)/, /^(?:$)/, /^(?:[\\n])/, /^(?:\")/, /^(?:(?:\\\\\\\\|\\\\[\"]|[^\"])+)/, /^(?:$)/, /^(?:\")/, /^(?:')/, /^(?:(?:\\\\\\\\|\\\\[']|[^'])+)/, /^(?:$)/, /^(?:')/, /^(?:`)/, /^(?:[^`]+)/, /^(?:$)/, /^(?:`)/, /^(?:[^\"\\/;'`-]+)/, /^(?:[-][^-]?)/, /^(?:;)/, /^(?:\\/)/, /^(?:$)/, /^(?:.)/, /^(?:.)/],\n      conditions: {\n        \"multiLineComment\": {\n          \"rules\": [1, 2, 3, 4],\n          \"inclusive\": false\n        },\n        \"inLineComment\": {\n          \"rules\": [6, 7, 8],\n          \"inclusive\": false\n        },\n        \"singleQuote\": {\n          \"rules\": [14, 15, 16],\n          \"inclusive\": false\n        },\n        \"doubleQuote\": {\n          \"rules\": [10, 11, 12],\n          \"inclusive\": false\n        },\n        \"backTick\": {\n          \"rules\": [18, 19, 20],\n          \"inclusive\": false\n        },\n        \"INITIAL\": {\n          \"rules\": [0, 5, 9, 13, 17, 21, 22, 23, 24, 25, 26, 27],\n          \"inclusive\": true\n        }\n      }\n    };\n    return lexer;\n  }();\n\n  parser.lexer = lexer;\n\n  function Parser() {\n    this.yy = {};\n  }\n\n  Parser.prototype = parser;\n  parser.Parser = Parser;\n  return new Parser();\n}();\n\nexport default hplsqlStatementsParser;","// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @typedef {Object} ParsedLocation\n * @property {number} first_line\n * @property {number} first_column\n * @property {number} last_line\n * @property {number} last_column\n */\n\n/**\n * @typedef {Object} ParsedSqlStatement\n * @property {string} firstToken - The first non comment token of the parsed statement, for instance 'select'\n * @property {string} statement\n * @property {ParsedLocation} location\n * @property {string} type - Always 'statement'\n */\n\n/**\n * @typedef {ParsedSqlStatement[]} SqlStatementsParserResult\n */","// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/* parser generated by jison 0.4.17 */\n\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar solrFormulaParser = function () {\n  var o = function o(k, v, _o, l) {\n    for (_o = _o || {}, l = k.length; l--; _o[k[l]] = v) {\n      ;\n    }\n\n    return _o;\n  },\n      $V0 = [1, 6],\n      $V1 = [1, 8],\n      $V2 = [1, 9],\n      $V3 = [1, 10],\n      $V4 = [1, 11],\n      $V5 = [1, 13],\n      $V6 = [1, 14],\n      $V7 = [1, 15],\n      $V8 = [1, 16],\n      $V9 = [1, 18],\n      $Va = [1, 19],\n      $Vb = [1, 20],\n      $Vc = [1, 21],\n      $Vd = [1, 23],\n      $Ve = [1, 24],\n      $Vf = [1, 25],\n      $Vg = [1, 26],\n      $Vh = [1, 27],\n      $Vi = [1, 28],\n      $Vj = [2, 5, 10, 17, 18, 19, 20, 22],\n      $Vk = [2, 4],\n      $Vl = [1, 32],\n      $Vm = [2, 6],\n      $Vn = [5, 10, 17, 18, 19, 20, 22],\n      $Vo = [2, 8],\n      $Vp = [2, 9],\n      $Vq = [1, 53],\n      $Vr = [1, 54],\n      $Vs = [1, 55],\n      $Vt = [1, 56],\n      $Vu = [1, 57],\n      $Vv = [17, 18, 19, 20],\n      $Vw = [1, 68],\n      $Vx = [1, 67],\n      $Vy = [5, 10, 17, 18, 22],\n      $Vz = [2, 15],\n      $VA = [2, 5, 10, 17, 18, 22],\n      $VB = [2, 11],\n      $VC = [2, 12],\n      $VD = [2, 13],\n      $VE = [2, 14],\n      $VF = [1, 76],\n      $VG = [1, 77],\n      $VH = [10, 22],\n      $VI = [2, 41],\n      $VJ = [2, 10],\n      $VK = [1, 74],\n      $VL = [1, 75],\n      $VM = [1, 97],\n      $VN = [2, 10, 22],\n      $VO = [2, 42];\n\n  var parser = {\n    trace: function trace() {},\n    yy: {},\n    symbols_: {\n      \"error\": 2,\n      \"SolrFormulaAutocomplete\": 3,\n      \"SolrFormula\": 4,\n      \"EOF\": 5,\n      \"SolrFormula_EDIT\": 6,\n      \"CURSOR\": 7,\n      \"NonParenthesizedSolrFormula\": 8,\n      \"(\": 9,\n      \")\": 10,\n      \"NonParenthesizedSolrFormula_EDIT\": 11,\n      \"RightParenthesisOrError\": 12,\n      \"NUMBER\": 13,\n      \"IDENTIFIER\": 14,\n      \"FUNCTION\": 15,\n      \"ArgumentList\": 16,\n      \"+\": 17,\n      \"-\": 18,\n      \"*\": 19,\n      \"/\": 20,\n      \"ArgumentList_EDIT\": 21,\n      \",\": 22,\n      \"$accept\": 0,\n      \"$end\": 1\n    },\n    terminals_: {\n      2: \"error\",\n      5: \"EOF\",\n      7: \"CURSOR\",\n      9: \"(\",\n      10: \")\",\n      13: \"NUMBER\",\n      14: \"IDENTIFIER\",\n      15: \"FUNCTION\",\n      17: \"+\",\n      18: \"-\",\n      19: \"*\",\n      20: \"/\",\n      22: \",\"\n    },\n    productions_: [0, [3, 2], [3, 2], [3, 2], [4, 1], [4, 3], [6, 1], [6, 3], [8, 1], [8, 1], [8, 4], [8, 3], [8, 3], [8, 3], [8, 3], [8, 2], [11, 2], [11, 2], [11, 2], [11, 2], [11, 4], [11, 4], [11, 5], [11, 3], [11, 3], [11, 3], [11, 3], [11, 3], [11, 3], [11, 3], [11, 3], [11, 3], [11, 3], [11, 3], [11, 3], [11, 3], [11, 3], [11, 3], [11, 3], [11, 2], [11, 2], [16, 1], [16, 3], [21, 1], [21, 3], [21, 3], [21, 5], [12, 1], [12, 1]],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate\n    /* action[1] */\n    , $$\n    /* vstack */\n    , _$\n    /* lstack */\n    ) {\n      /* this == yyval */\n      var $0 = $$.length - 1;\n\n      switch (yystate) {\n        case 1:\n          return {\n            parsedValue: $$[$0 - 1]\n          };\n          break;\n\n        case 2:\n          return $$[$0 - 1];\n          break;\n\n        case 3:\n          return {\n            suggestAggregateFunctions: true\n          };\n          break;\n\n        case 5:\n          this.$ = $$[$0 - 2] + $$[$0 - 1] + $$[$0];\n          break;\n\n        case 7:\n        case 21:\n          this.$ = $$[$0 - 1];\n          break;\n\n        case 10:\n          this.$ = $$[$0 - 3] + $$[$0 - 2] + $$[$0 - 1] + $$[$0];\n          break;\n\n        case 11:\n          this.$ = 'sum(' + $$[$0 - 2] + ',' + $$[$0] + ')';\n          break;\n\n        case 12:\n          this.$ = 'sub(' + $$[$0 - 2] + ',' + $$[$0] + ')';\n          break;\n\n        case 13:\n          this.$ = 'mul(' + $$[$0 - 2] + ',' + $$[$0] + ')';\n          break;\n\n        case 14:\n          this.$ = 'div(' + $$[$0 - 2] + ',' + $$[$0] + ')';\n          break;\n\n        case 15:\n          this.$ = 'sub(0,' + $$[$0] + ')';\n          break;\n\n        case 16:\n        case 17:\n        case 22:\n          this.$ = {\n            suggestOperators: true\n          };\n          break;\n\n        case 18:\n        case 19:\n        case 20:\n        case 23:\n        case 24:\n        case 27:\n        case 28:\n        case 31:\n        case 32:\n        case 35:\n        case 36:\n        case 39:\n          this.$ = {\n            suggestAggregateFunctions: true,\n            suggestFunctions: true,\n            suggestFields: true\n          };\n          break;\n\n        case 25:\n        case 29:\n        case 33:\n        case 37:\n        case 46:\n          this.$ = $$[$0 - 2];\n          break;\n\n        case 26:\n        case 30:\n        case 34:\n        case 38:\n        case 40:\n        case 44:\n          this.$ = $$[$0];\n          break;\n      }\n    },\n    table: [{\n      3: 1,\n      4: 2,\n      6: 3,\n      7: [1, 4],\n      8: 5,\n      9: $V0,\n      11: 7,\n      13: $V1,\n      14: $V2,\n      15: $V3,\n      18: $V4\n    }, {\n      1: [3]\n    }, {\n      5: [1, 12],\n      17: $V5,\n      18: $V6,\n      19: $V7,\n      20: $V8\n    }, {\n      5: [1, 17],\n      17: $V9,\n      18: $Va,\n      19: $Vb,\n      20: $Vc\n    }, {\n      5: [1, 22],\n      13: $Vd,\n      14: $Ve,\n      17: $Vf,\n      18: $Vg,\n      19: $Vh,\n      20: $Vi\n    }, o($Vj, $Vk), {\n      4: 31,\n      6: 33,\n      7: $Vl,\n      8: 29,\n      9: $V0,\n      11: 30,\n      13: $V1,\n      14: $V2,\n      15: $V3,\n      18: $V4\n    }, o($Vj, $Vm), o($Vn, $Vo, {\n      7: [1, 34]\n    }), o($Vn, $Vp, {\n      7: [1, 35]\n    }), {\n      9: [1, 36]\n    }, {\n      4: 37,\n      6: 39,\n      7: [1, 38],\n      8: 5,\n      9: $V0,\n      11: 7,\n      13: $V1,\n      14: $V2,\n      15: $V3,\n      18: $V4\n    }, {\n      1: [2, 1]\n    }, {\n      4: 40,\n      6: 42,\n      7: [1, 41],\n      8: 5,\n      9: $V0,\n      11: 7,\n      13: $V1,\n      14: $V2,\n      15: $V3,\n      18: $V4\n    }, {\n      4: 43,\n      6: 45,\n      7: [1, 44],\n      8: 5,\n      9: $V0,\n      11: 7,\n      13: $V1,\n      14: $V2,\n      15: $V3,\n      18: $V4\n    }, {\n      4: 46,\n      6: 48,\n      7: [1, 47],\n      8: 5,\n      9: $V0,\n      11: 7,\n      13: $V1,\n      14: $V2,\n      15: $V3,\n      18: $V4\n    }, {\n      4: 49,\n      6: 51,\n      7: [1, 50],\n      8: 5,\n      9: $V0,\n      11: 7,\n      13: $V1,\n      14: $V2,\n      15: $V3,\n      18: $V4\n    }, {\n      1: [2, 2]\n    }, {\n      4: 52,\n      8: 5,\n      9: $Vq,\n      13: $Vr,\n      14: $Vs,\n      15: $Vt,\n      18: $Vu\n    }, {\n      4: 58,\n      8: 5,\n      9: $Vq,\n      13: $Vr,\n      14: $Vs,\n      15: $Vt,\n      18: $Vu\n    }, {\n      4: 59,\n      8: 5,\n      9: $Vq,\n      13: $Vr,\n      14: $Vs,\n      15: $Vt,\n      18: $Vu\n    }, {\n      4: 60,\n      8: 5,\n      9: $Vq,\n      13: $Vr,\n      14: $Vs,\n      15: $Vt,\n      18: $Vu\n    }, {\n      1: [2, 3]\n    }, o($Vj, [2, 18]), o($Vj, [2, 19]), {\n      4: 61,\n      8: 5,\n      9: $Vq,\n      13: $Vr,\n      14: $Vs,\n      15: $Vt,\n      18: $Vu\n    }, {\n      4: 62,\n      8: 5,\n      9: $Vq,\n      13: $Vr,\n      14: $Vs,\n      15: $Vt,\n      18: $Vu\n    }, {\n      4: 63,\n      8: 5,\n      9: $Vq,\n      13: $Vr,\n      14: $Vs,\n      15: $Vt,\n      18: $Vu\n    }, {\n      4: 64,\n      8: 5,\n      9: $Vq,\n      13: $Vr,\n      14: $Vs,\n      15: $Vt,\n      18: $Vu\n    }, o($Vv, $Vk, {\n      10: [1, 65]\n    }), o($Vv, $Vm, {\n      12: 66,\n      2: $Vw,\n      10: $Vx\n    }), {\n      17: $V5,\n      18: $V6,\n      19: $V7,\n      20: $V8\n    }, {\n      13: $Vd,\n      14: $Ve,\n      17: $Vf,\n      18: $Vg,\n      19: $Vh,\n      20: $Vi\n    }, {\n      17: $V9,\n      18: $Va,\n      19: $Vb,\n      20: $Vc\n    }, o($Vj, [2, 16]), o($Vj, [2, 17]), {\n      4: 72,\n      6: 73,\n      7: [1, 70],\n      8: 5,\n      9: $V0,\n      11: 7,\n      13: $V1,\n      14: $V2,\n      15: $V3,\n      16: 69,\n      18: $V4,\n      21: 71\n    }, o($Vy, $Vz, {\n      19: $V7,\n      20: $V8\n    }), o($VA, [2, 39], {\n      13: $Vd,\n      14: $Ve,\n      19: $Vh,\n      20: $Vi\n    }), o($VA, [2, 40], {\n      19: $Vb,\n      20: $Vc\n    }), o($Vy, $VB, {\n      19: $V7,\n      20: $V8\n    }), o($VA, [2, 23], {\n      13: $Vd,\n      14: $Ve,\n      19: $Vh,\n      20: $Vi\n    }), o($VA, [2, 26], {\n      19: $Vb,\n      20: $Vc\n    }), o($Vy, $VC, {\n      19: $V7,\n      20: $V8\n    }), o($VA, [2, 27], {\n      13: $Vd,\n      14: $Ve,\n      19: $Vh,\n      20: $Vi\n    }), o($VA, [2, 30], {\n      19: $Vb,\n      20: $Vc\n    }), o($Vn, $VD), o($Vj, [2, 31], {\n      13: $Vd,\n      14: $Ve\n    }), o($Vj, [2, 34]), o($Vn, $VE), o($Vj, [2, 35], {\n      13: $Vd,\n      14: $Ve\n    }), o($Vj, [2, 38]), o($VA, [2, 25], {\n      19: $VF,\n      20: $VG\n    }), {\n      4: 78,\n      8: 29,\n      9: $Vq,\n      13: $Vr,\n      14: $Vs,\n      15: $Vt,\n      18: $Vu\n    }, o($Vj, $Vo), o($Vj, $Vp), {\n      9: [1, 79]\n    }, {\n      4: 80,\n      8: 5,\n      9: $Vq,\n      13: $Vr,\n      14: $Vs,\n      15: $Vt,\n      18: $Vu\n    }, o($VA, [2, 29], {\n      19: $VF,\n      20: $VG\n    }), o($Vj, [2, 33]), o($Vj, [2, 37]), o($VA, [2, 24], {\n      19: $VF,\n      20: $VG\n    }), o($VA, [2, 28], {\n      19: $VF,\n      20: $VG\n    }), o($Vj, [2, 32]), o($Vj, [2, 36]), o($Vj, [2, 5]), o($Vj, [2, 7]), o($Vj, [2, 47]), o($Vj, [2, 48]), {\n      10: [1, 81],\n      22: [1, 82]\n    }, {\n      2: $Vw,\n      10: $Vx,\n      12: 83,\n      13: $Vd,\n      14: $Ve,\n      17: $Vf,\n      18: $Vg,\n      19: $Vh,\n      20: $Vi\n    }, {\n      2: $Vw,\n      10: $Vx,\n      12: 84\n    }, o($VH, $VI, {\n      17: $V5,\n      18: $V6,\n      19: $V7,\n      20: $V8\n    }), o($VJ, [2, 43], {\n      17: $V9,\n      18: $Va,\n      19: $Vb,\n      20: $Vc,\n      22: [1, 85]\n    }), {\n      4: 86,\n      8: 5,\n      9: $Vq,\n      13: $Vr,\n      14: $Vs,\n      15: $Vt,\n      18: $Vu\n    }, {\n      4: 87,\n      8: 5,\n      9: $Vq,\n      13: $Vr,\n      14: $Vs,\n      15: $Vt,\n      18: $Vu\n    }, {\n      4: 88,\n      8: 5,\n      9: $Vq,\n      13: $Vr,\n      14: $Vs,\n      15: $Vt,\n      18: $Vu\n    }, {\n      4: 89,\n      8: 5,\n      9: $Vq,\n      13: $Vr,\n      14: $Vs,\n      15: $Vt,\n      18: $Vu\n    }, {\n      17: $VK,\n      18: $VL,\n      19: $VF,\n      20: $VG\n    }, {\n      4: 91,\n      8: 5,\n      9: $Vq,\n      13: $Vr,\n      14: $Vs,\n      15: $Vt,\n      16: 90,\n      18: $Vu\n    }, o($VA, $Vz, {\n      19: $VF,\n      20: $VG\n    }), o($Vn, $VJ, {\n      7: [1, 92]\n    }), {\n      4: 93,\n      6: 94,\n      7: $Vl,\n      8: 5,\n      9: $V0,\n      11: 7,\n      13: $V1,\n      14: $V2,\n      15: $V3,\n      18: $V4\n    }, o($Vj, [2, 20]), o($Vj, [2, 21]), {\n      4: 91,\n      8: 5,\n      9: $Vq,\n      13: $Vr,\n      14: $Vs,\n      15: $Vt,\n      16: 95,\n      18: $Vu\n    }, o($VA, $VB, {\n      19: $VF,\n      20: $VG\n    }), o($VA, $VC, {\n      19: $VF,\n      20: $VG\n    }), o($Vj, $VD), o($Vj, $VE), {\n      10: [1, 96],\n      22: $VM\n    }, o($VN, $VI, {\n      17: $VK,\n      18: $VL,\n      19: $VF,\n      20: $VG\n    }), o($Vj, [2, 22]), o($VH, $VO, {\n      17: $V5,\n      18: $V6,\n      19: $V7,\n      20: $V8\n    }), o($VJ, [2, 44], {\n      17: $V9,\n      18: $Va,\n      19: $Vb,\n      20: $Vc,\n      22: [1, 98]\n    }), o($VJ, [2, 45], {\n      22: $VM\n    }), o($Vj, $VJ), {\n      4: 99,\n      8: 5,\n      9: $Vq,\n      13: $Vr,\n      14: $Vs,\n      15: $Vt,\n      18: $Vu\n    }, {\n      4: 91,\n      8: 5,\n      9: $Vq,\n      13: $Vr,\n      14: $Vs,\n      15: $Vt,\n      16: 100,\n      18: $Vu\n    }, o($VN, $VO, {\n      17: $VK,\n      18: $VL,\n      19: $VF,\n      20: $VG\n    }), o($VJ, [2, 46], {\n      22: $VM\n    })],\n    defaultActions: {\n      12: [2, 1],\n      17: [2, 2],\n      22: [2, 3]\n    },\n    parseError: function parseError(str, hash) {\n      if (hash.recoverable) {\n        this.trace(str);\n      } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n      }\n    },\n    parse: function parse(input) {\n      var self = this,\n          stack = [0],\n          tstack = [],\n          // token stack\n      vstack = [null],\n          // semantic value stack\n      lstack = [],\n          // location stack\n      table = this.table,\n          yytext = '',\n          yylineno = 0,\n          yyleng = 0,\n          recovering = 0,\n          TERROR = 2,\n          EOF = 1;\n      var args = lstack.slice.call(arguments, 1); //this.reductionCount = this.shiftCount = 0;\n\n      var lexer = Object.create(this.lexer);\n      var sharedState = {\n        yy: {}\n      }; // copy state\n\n      for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n          sharedState.yy[k] = this.yy[k];\n        }\n      }\n\n      lexer.setInput(input, sharedState.yy);\n      sharedState.yy.lexer = lexer;\n      sharedState.yy.parser = this;\n\n      if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n      }\n\n      var yyloc = lexer.yylloc;\n      lstack.push(yyloc);\n      var ranges = lexer.options && lexer.options.ranges;\n\n      if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n      } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n      }\n\n      function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n      }\n\n      _token_stack: var lex = function lex() {\n        var token;\n        token = lexer.lex() || EOF; // if token isn't its numeric value, convert\n\n        if (typeof token !== 'number') {\n          token = self.symbols_[token] || token;\n        }\n\n        return token;\n      };\n\n      var symbol,\n          preErrorSymbol,\n          state,\n          action,\n          a,\n          r,\n          yyval = {},\n          p,\n          len,\n          newState,\n          expected;\n\n      while (true) {\n        // retreive state number from top of stack\n        state = stack[stack.length - 1]; // use default actions if available\n\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state];\n        } else {\n          if (symbol === null || typeof symbol == 'undefined') {\n            symbol = lex();\n          } // read action for current state and first input\n\n\n          action = table[state] && table[state][symbol];\n        }\n\n        _handle_error: // handle parse error\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n          // Return the rule stack depth where the nearest error rule can be found.\n          // Return FALSE when no error recovery rule was found.\n          var locateNearestErrorRecoveryRule = function locateNearestErrorRecoveryRule(state) {\n            var stack_probe = stack.length - 1;\n            var depth = 0; // try to recover from error\n\n            for (;;) {\n              // check for error recovery rule in this state\n              if (TERROR.toString() in table[state]) {\n                return depth;\n              }\n\n              if (state === 0 || stack_probe < 2) {\n                return false; // No suitable error recovery rule available.\n              }\n\n              stack_probe -= 2; // popStack(1): [symbol, action]\n\n              state = stack[stack_probe];\n              ++depth;\n            }\n          };\n\n          var error_rule_depth;\n          var errStr = '';\n\n          if (!recovering) {\n            // first see if there's any chance at hitting an error recovery rule:\n            error_rule_depth = locateNearestErrorRecoveryRule(state); // Report error\n\n            expected = [];\n\n            for (p in table[state]) {\n              if (this.terminals_[p] && p > TERROR) {\n                expected.push(\"'\" + this.terminals_[p] + \"'\");\n              }\n            }\n\n            if (lexer.showPosition) {\n              errStr = 'Parse error on line ' + (yylineno + 1) + \":\\n\" + lexer.showPosition() + \"\\nExpecting \" + expected.join(', ') + \", got '\" + (this.terminals_[symbol] || symbol) + \"'\";\n            } else {\n              errStr = 'Parse error on line ' + (yylineno + 1) + \": Unexpected \" + (symbol == EOF ? \"end of input\" : \"'\" + (this.terminals_[symbol] || symbol) + \"'\");\n            }\n\n            this.parseError(errStr, {\n              text: lexer.match,\n              token: this.terminals_[symbol] || symbol,\n              line: lexer.yylineno,\n              loc: lexer.yylloc,\n              ruleId: stack.slice(stack.length - 2, stack.length).join('_'),\n              expected: expected,\n              recoverable: error_rule_depth !== false\n            });\n          } else if (preErrorSymbol !== EOF) {\n            error_rule_depth = locateNearestErrorRecoveryRule(state);\n          } // just recovered from another error\n\n\n          if (recovering == 3) {\n            if (symbol === EOF || preErrorSymbol === EOF) {\n              throw new Error(errStr || 'Parsing halted while starting to recover from another error.');\n            } // discard current lookahead and grab another\n\n\n            yyleng = lexer.yyleng;\n            yytext = lexer.yytext;\n            yylineno = lexer.yylineno;\n            yyloc = lexer.yylloc;\n            symbol = lex();\n          } // try to recover from error\n\n\n          if (error_rule_depth === false) {\n            throw new Error(errStr || 'Parsing halted. No suitable error recovery rule available.');\n          }\n\n          popStack(error_rule_depth);\n          preErrorSymbol = symbol == TERROR ? null : symbol; // save the lookahead token\n\n          symbol = TERROR; // insert generic error symbol as new lookahead\n\n          state = stack[stack.length - 1];\n          action = table[state] && table[state][TERROR];\n          recovering = 3; // allow 3 real symbols to be shifted before reporting a new error\n        } // this shouldn't happen, unless resolve defaults are off\n\n\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n\n        switch (action[0]) {\n          case 1:\n            // shift\n            //this.shiftCount++;\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]); // push state\n\n            symbol = null;\n\n            if (!preErrorSymbol) {\n              // normal execution/no error\n              yyleng = lexer.yyleng;\n              yytext = lexer.yytext;\n              yylineno = lexer.yylineno;\n              yyloc = lexer.yylloc;\n\n              if (recovering > 0) {\n                recovering--;\n              }\n            } else {\n              // error just occurred, resume old lookahead f/ before error\n              symbol = preErrorSymbol;\n              preErrorSymbol = null;\n            }\n\n            break;\n\n          case 2:\n            // reduce\n            //this.reductionCount++;\n            len = this.productions_[action[1]][1]; // perform semantic action\n\n            yyval.$ = vstack[vstack.length - len]; // default to $$ = $1\n            // default location, uses first token for firsts, last for lasts\n\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            };\n\n            if (ranges) {\n              yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];\n            }\n\n            r = this.performAction.apply(yyval, [yytext, yyleng, yylineno, sharedState.yy, action[1], vstack, lstack].concat(args));\n\n            if (typeof r !== 'undefined') {\n              return r;\n            } // pop off stack\n\n\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2);\n              vstack = vstack.slice(0, -1 * len);\n              lstack = lstack.slice(0, -1 * len);\n            }\n\n            stack.push(this.productions_[action[1]][0]); // push nonterminal (reduce)\n\n            vstack.push(yyval.$);\n            lstack.push(yyval._$); // goto new state = table[STATE][NONTERMINAL]\n\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n\n          case 3:\n            // accept\n            return true;\n        }\n      }\n\n      return true;\n    }\n  };\n\n  parser.yy.parseError = function () {\n    return false;\n  };\n\n  parser.identifyPartials = function (beforeCursor, afterCursor) {\n    var beforeMatch = beforeCursor.match(/[^()-*+/,\\s]*$/);\n    var afterMatch = afterCursor.match(/^[^()-*+/,\\s]*/);\n    return {\n      left: beforeMatch ? beforeMatch[0].length : 0,\n      right: afterMatch ? afterMatch[0].length : 0\n    };\n  };\n\n  var adjustLocationForCursor = function adjustLocationForCursor(location) {\n    // columns are 0-based and lines not, so add 1 to cols\n    var newLocation = {\n      first_line: location.first_line,\n      last_line: location.last_line,\n      first_column: location.first_column + 1,\n      last_column: location.last_column + 1\n    };\n\n    if (parser.yy.cursorFound) {\n      if (parser.yy.cursorFound.first_line === newLocation.first_line && parser.yy.cursorFound.last_column <= newLocation.first_column) {\n        var additionalSpace = parser.yy.partialLengths.left + parser.yy.partialLengths.right;\n        additionalSpace -= parser.yy.partialCursor ? 1 : 3; // For some reason the normal cursor eats 3 positions.\n\n        newLocation.first_column = newLocation.first_column + additionalSpace;\n        newLocation.last_column = newLocation.last_column + additionalSpace;\n      }\n    }\n\n    return newLocation;\n  };\n\n  parser.addFunctionLocation = function (location, name) {\n    parser.yy.locations.push({\n      type: 'function',\n      name: name,\n      location: adjustLocationForCursor(location)\n    });\n  };\n\n  parser.addFieldLocation = function (location, name) {\n    parser.yy.locations.push({\n      type: 'field',\n      name: name,\n      location: adjustLocationForCursor(location)\n    });\n  };\n\n  parser.parseSolrFormula = function (formula, debug) {\n    parser.yy.cursorFound = false;\n    parser.yy.locations = [];\n    formula = formula.replace(/\\r\\n|\\n\\r/gm, '\\n');\n    var result;\n\n    try {\n      result = parser.parse(formula);\n    } catch (err) {\n      if (debug) {\n        console.log(beforeCursor + \"\\u2020\" + afterCursor);\n        console.log(err);\n        console.error(err.stack);\n      }\n    }\n\n    return result || false;\n  };\n\n  parser.autocompleteSolrFormula = function (beforeCursor, afterCursor, debug) {\n    parser.yy.cursorFound = false;\n    parser.yy.locations = [];\n    beforeCursor = beforeCursor.replace(/\\r\\n|\\n\\r/gm, '\\n');\n    afterCursor = afterCursor.replace(/\\r\\n|\\n\\r/gm, '\\n');\n    parser.yy.partialLengths = parser.identifyPartials(beforeCursor, afterCursor);\n\n    if (parser.yy.partialLengths.left > 0) {\n      beforeCursor = beforeCursor.substring(0, beforeCursor.length - parser.yy.partialLengths.left);\n    }\n\n    if (parser.yy.partialLengths.right > 0) {\n      afterCursor = afterCursor.substring(parser.yy.partialLengths.right);\n    }\n\n    var result;\n\n    try {\n      result = parser.parse(beforeCursor + \"\\u2020\" + afterCursor);\n    } catch (err) {\n      // Workaround for too many missing parentheses (it's the only error we handle in the parser)\n      if (err && err.toString().indexOf('Parsing halted while starting to recover from another error') !== -1) {\n        var leftCount = (beforeCursor.match(/\\(/g) || []).length;\n        var rightCount = (beforeCursor.match(/\\)/g) || []).length;\n        var parenthesisPad = '';\n\n        while (rightCount < leftCount) {\n          parenthesisPad += ')';\n          rightCount++;\n        }\n\n        try {\n          result = parser.parse(beforeCursor + \"\\u2020\" + parenthesisPad);\n        } catch (err) {\n          return {};\n        }\n      } else {\n        if (debug) {\n          console.log(beforeCursor + \"\\u2020\" + afterCursor);\n          console.log(err);\n          console.error(err.stack);\n        }\n\n        return {};\n      }\n    }\n\n    result.locations = parser.yy.locations;\n    return result;\n  };\n  /* generated by jison-lex 0.3.4 */\n\n\n  var lexer = function () {\n    var lexer = {\n      EOF: 1,\n      parseError: function parseError(str, hash) {\n        if (this.yy.parser) {\n          this.yy.parser.parseError(str, hash);\n        } else {\n          throw new Error(str);\n        }\n      },\n      // resets the lexer, sets new input\n      setInput: function setInput(input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        };\n\n        if (this.options.ranges) {\n          this.yylloc.range = [0, 0];\n        }\n\n        this.offset = 0;\n        return this;\n      },\n      // consumes and returns one char from the input\n      input: function input() {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n\n        if (lines) {\n          this.yylineno++;\n          this.yylloc.last_line++;\n        } else {\n          this.yylloc.last_column++;\n        }\n\n        if (this.options.ranges) {\n          this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n      },\n      // unshifts one char (or a string) into the input\n      unput: function unput(ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len); //this.yyleng -= len;\n\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n          this.yylineno -= lines.length - 1;\n        }\n\n        var r = this.yylloc.range;\n        this.yylloc = {\n          first_line: this.yylloc.first_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n\n        this.yyleng = this.yytext.length;\n        return this;\n      },\n      // When called from action, caches matched text and appends it on next action\n      more: function more() {\n        this._more = true;\n        return this;\n      },\n      // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n      reject: function reject() {\n        if (this.options.backtrack_lexer) {\n          this._backtrack = true;\n        } else {\n          return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n            text: \"\",\n            token: null,\n            line: this.yylineno\n          });\n        }\n\n        return this;\n      },\n      // retain first n characters of the match\n      less: function less(n) {\n        this.unput(this.match.slice(n));\n      },\n      // displays already matched input, i.e. for error messages\n      pastInput: function pastInput() {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, \"\");\n      },\n      // displays upcoming input, i.e. for error messages\n      upcomingInput: function upcomingInput() {\n        var next = this.match;\n\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length);\n        }\n\n        return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n      },\n      // displays the character position where the lexing error occurred, i.e. for error messages\n      showPosition: function showPosition() {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n      },\n      // test the lexed token: return FALSE when not a match, otherwise return token\n      test_match: function test_match(match, indexed_rule) {\n        var token, lines, backup;\n\n        if (this.options.backtrack_lexer) {\n          // save context\n          backup = {\n            yylineno: this.yylineno,\n            yylloc: {\n              first_line: this.yylloc.first_line,\n              last_line: this.last_line,\n              first_column: this.yylloc.first_column,\n              last_column: this.yylloc.last_column\n            },\n            yytext: this.yytext,\n            match: this.match,\n            matches: this.matches,\n            matched: this.matched,\n            yyleng: this.yyleng,\n            offset: this.offset,\n            _more: this._more,\n            _input: this._input,\n            yy: this.yy,\n            conditionStack: this.conditionStack.slice(0),\n            done: this.done\n          };\n\n          if (this.options.ranges) {\n            backup.yylloc.range = this.yylloc.range.slice(0);\n          }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n\n        if (lines) {\n          this.yylineno += lines.length;\n        }\n\n        this.yylloc = {\n          first_line: this.yylloc.last_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.last_column,\n          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n\n        if (this.options.ranges) {\n          this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n\n        if (this.done && this._input) {\n          this.done = false;\n        }\n\n        if (token) {\n          return token;\n        } else if (this._backtrack) {\n          // recover context\n          for (var k in backup) {\n            this[k] = backup[k];\n          }\n\n          return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n\n        return false;\n      },\n      // return next match in input\n      next: function next() {\n        if (this.done) {\n          return this.EOF;\n        }\n\n        if (!this._input) {\n          this.done = true;\n        }\n\n        var token, match, tempMatch, index;\n\n        if (!this._more) {\n          this.yytext = '';\n          this.match = '';\n        }\n\n        var rules = this._currentRules();\n\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]]);\n\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch;\n            index = i;\n\n            if (this.options.backtrack_lexer) {\n              token = this.test_match(tempMatch, rules[i]);\n\n              if (token !== false) {\n                return token;\n              } else if (this._backtrack) {\n                match = false;\n                continue; // rule action called reject() implying a rule MISmatch.\n              } else {\n                // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                return false;\n              }\n            } else if (!this.options.flex) {\n              break;\n            }\n          }\n        }\n\n        if (match) {\n          token = this.test_match(match, rules[index]);\n\n          if (token !== false) {\n            return token;\n          } // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n\n\n          return false;\n        }\n\n        if (this._input === \"\") {\n          return this.EOF;\n        } else {\n          return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n            text: \"\",\n            token: null,\n            line: this.yylineno\n          });\n        }\n      },\n      // return next match that has a token\n      lex: function lex() {\n        var r = this.next();\n\n        if (r) {\n          return r;\n        } else {\n          return this.lex();\n        }\n      },\n      // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n      begin: function begin(condition) {\n        this.conditionStack.push(condition);\n      },\n      // pop the previously active lexer condition state off the condition stack\n      popState: function popState() {\n        var n = this.conditionStack.length - 1;\n\n        if (n > 0) {\n          return this.conditionStack.pop();\n        } else {\n          return this.conditionStack[0];\n        }\n      },\n      // produce the lexer rule set which is active for the currently active lexer condition state\n      _currentRules: function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n          return this.conditions[\"INITIAL\"].rules;\n        }\n      },\n      // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n      topState: function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n\n        if (n >= 0) {\n          return this.conditionStack[n];\n        } else {\n          return \"INITIAL\";\n        }\n      },\n      // alias for begin(condition)\n      pushState: function pushState(condition) {\n        this.begin(condition);\n      },\n      // return the number of states currently on the stack\n      stateStackSize: function stateStackSize() {\n        return this.conditionStack.length;\n      },\n      options: {\n        \"case-insensitive\": true\n      },\n      performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n        var YYSTATE = YY_START;\n\n        switch ($avoiding_name_collisions) {\n          case 0:\n            /* skip whitespace */\n            break;\n\n          case 1:\n            /* skip comments */\n            break;\n\n          case 2:\n            /* skip comments */\n            break;\n\n          case 3:\n            parser.yy.cursorFound = yy_.yylloc;\n            return 7;\n            break;\n\n          case 4:\n            return 13;\n            break;\n\n          case 5:\n            return 18;\n            break;\n\n          case 6:\n            return 17;\n            break;\n\n          case 7:\n            return 19;\n            break;\n\n          case 8:\n            return 20;\n            break;\n\n          case 9:\n            yy.lexer.unput('(');\n            parser.addFunctionLocation({\n              first_line: yy_.yylloc.first_line,\n              first_column: yy_.yylloc.first_column,\n              last_line: yy_.yylloc.first_line,\n              last_column: yy_.yylloc.first_column + yy_.yytext.trim().length\n            }, yy_.yytext.trim());\n            return 15;\n            break;\n\n          case 10:\n            return 22;\n            break;\n\n          case 11:\n            return 9;\n            break;\n\n          case 12:\n            return 10;\n            break;\n\n          case 13:\n            return 5;\n            break;\n\n          case 14:\n            parser.addFieldLocation(yy_.yylloc, yy_.yytext);\n            return 14;\n            break;\n        }\n      },\n      rules: [/^(?:\\s)/i, /^(?:--.*)/i, /^(?:[\\/][*][^*]*[*]+([^\\/*][^*]*[*]+)*[\\/])/i, /^(?:\\u2020)/i, /^(?:[0-9]+(?:[,.][0-9]+)?)/i, /^(?:-)/i, /^(?:\\+)/i, /^(?:\\*)/i, /^(?:\\/)/i, /^(?:[a-z]+\\s*\\()/i, /^(?:,)/i, /^(?:\\()/i, /^(?:\\))/i, /^(?:$)/i, /^(?:[^\\s\\u2020()]+)/i],\n      conditions: {\n        \"INITIAL\": {\n          \"rules\": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14],\n          \"inclusive\": true\n        }\n      }\n    };\n    return lexer;\n  }();\n\n  parser.lexer = lexer;\n\n  function Parser() {\n    this.yy = {};\n  }\n\n  Parser.prototype = parser;\n  parser.Parser = Parser;\n  return new Parser();\n}();\n\nexport default solrFormulaParser;","// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/* parser generated by jison 0.4.17 */\n\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar solrQueryParser = function () {\n  var o = function o(k, v, _o, l) {\n    for (_o = _o || {}, l = k.length; l--; _o[k[l]] = v) {\n      ;\n    }\n\n    return _o;\n  },\n      $V0 = [1, 6],\n      $V1 = [1, 8],\n      $V2 = [1, 9],\n      $V3 = [1, 14],\n      $V4 = [1, 15],\n      $V5 = [1, 16],\n      $V6 = [1, 17],\n      $V7 = [1, 18],\n      $V8 = [1, 24],\n      $V9 = [1, 25],\n      $Va = [2, 5, 7, 10, 21, 22, 23, 24],\n      $Vb = [2, 4],\n      $Vc = [2, 5, 10, 21, 22, 23, 24],\n      $Vd = [2, 6],\n      $Ve = [2, 9],\n      $Vf = [7, 9, 13, 14],\n      $Vg = [1, 45],\n      $Vh = [2, 11],\n      $Vi = [1, 54],\n      $Vj = [1, 56];\n\n  var parser = {\n    trace: function trace() {},\n    yy: {},\n    symbols_: {\n      \"error\": 2,\n      \"SolrQueryAutocomplete\": 3,\n      \"SolrQuery\": 4,\n      \"EOF\": 5,\n      \"SolrQuery_EDIT\": 6,\n      \"CURSOR\": 7,\n      \"NonParenthesizedSolrQuery\": 8,\n      \"(\": 9,\n      \")\": 10,\n      \"NonParenthesizedSolrQuery_EDIT\": 11,\n      \"RightParenthesisOrError\": 12,\n      \"NUMBER\": 13,\n      \"TERM\": 14,\n      \"KeywordMatch\": 15,\n      \"BooleanOperator\": 16,\n      \"KeywordMatch_EDIT\": 17,\n      \":\": 18,\n      \"QuotedValue\": 19,\n      \"QuotedValue_EDIT\": 20,\n      \"AND\": 21,\n      \"OR\": 22,\n      \"&&\": 23,\n      \"||\": 24,\n      \"SINGLE_QUOTE\": 25,\n      \"VALUE\": 26,\n      \"DOUBLE_QUOTE\": 27,\n      \"PARTIAL_VALUE\": 28,\n      \"$accept\": 0,\n      \"$end\": 1\n    },\n    terminals_: {\n      2: \"error\",\n      5: \"EOF\",\n      7: \"CURSOR\",\n      9: \"(\",\n      10: \")\",\n      13: \"NUMBER\",\n      14: \"TERM\",\n      18: \":\",\n      21: \"AND\",\n      22: \"OR\",\n      23: \"&&\",\n      24: \"||\",\n      25: \"SINGLE_QUOTE\",\n      26: \"VALUE\",\n      27: \"DOUBLE_QUOTE\",\n      28: \"PARTIAL_VALUE\"\n    },\n    productions_: [0, [3, 2], [3, 2], [3, 2], [4, 1], [4, 3], [6, 1], [6, 3], [8, 1], [8, 1], [8, 1], [8, 3], [11, 1], [11, 2], [11, 3], [11, 2], [11, 3], [11, 3], [11, 3], [11, 3], [15, 3], [15, 3], [17, 3], [17, 3], [16, 1], [16, 1], [16, 1], [16, 1], [19, 3], [19, 3], [20, 2], [20, 2], [12, 1], [12, 1]],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate\n    /* action[1] */\n    , $$\n    /* vstack */\n    , _$\n    /* lstack */\n    ) {\n      /* this == yyval */\n      var $0 = $$.length - 1;\n\n      switch (yystate) {\n        case 1:\n          return {};\n          break;\n\n        case 2:\n          return $$[$0 - 1];\n          break;\n\n        case 3:\n          return {\n            suggestFields: {\n              appendColon: true\n            }\n          };\n          break;\n\n        case 5:\n        case 7:\n        case 28:\n        case 29:\n          this.$ = $$[$0 - 1];\n          break;\n\n        case 10:\n          this.$ = {\n            hasKeywordMatch: true\n          };\n          break;\n\n        case 13:\n          if ($$[$0 - 1].hasKeywordMatch) {\n            this.$ = {\n              suggestKeywords: ['AND', 'OR']\n            };\n          } else {\n            this.$ = {\n              suggestKeywords: ['AND', 'OR', ':'],\n              suggestValues: {\n                field: $$[$0 - 1],\n                prependColon: true\n              }\n            };\n          }\n\n          break;\n\n        case 14:\n          if ($$[$0 - 2].hasKeywordMatch) {\n            this.$ = {\n              suggestKeywords: ['AND', 'OR']\n            };\n          } else {\n            this.$ = {\n              suggestKeywords: ['AND', 'OR', ':'],\n              suggestValues: {\n                field: $$[$0 - 2],\n                prependColon: true\n              }\n            };\n          }\n\n          break;\n\n        case 15:\n        case 16:\n        case 17:\n          this.$ = {\n            suggestFields: {\n              appendColon: true\n            }\n          };\n          break;\n\n        case 18:\n        case 30:\n        case 31:\n          this.$ = $$[$0];\n          break;\n\n        case 19:\n          this.$ = $$[$0 - 2];\n          break;\n\n        case 22:\n          this.$ = {\n            suggestValues: {\n              field: $$[$0 - 2]\n            }\n          };\n          break;\n\n        case 23:\n          this.$ = {\n            suggestValues: {\n              field: $$[$0 - 2],\n              quotePresent: true,\n              partial: $$[$0]\n            }\n          };\n          break;\n      }\n    },\n    table: [{\n      3: 1,\n      4: 2,\n      6: 3,\n      7: [1, 4],\n      8: 5,\n      9: $V0,\n      11: 7,\n      13: $V1,\n      14: $V2,\n      15: 10,\n      17: 11\n    }, {\n      1: [3]\n    }, {\n      5: [1, 12],\n      7: $V3,\n      16: 13,\n      21: $V4,\n      22: $V5,\n      23: $V6,\n      24: $V7\n    }, {\n      5: [1, 19],\n      16: 20,\n      21: $V4,\n      22: $V5,\n      23: $V6,\n      24: $V7\n    }, {\n      4: 22,\n      5: [1, 21],\n      8: 5,\n      9: $V8,\n      13: $V1,\n      14: $V9,\n      15: 10,\n      16: 23,\n      21: $V4,\n      22: $V5,\n      23: $V6,\n      24: $V7\n    }, o($Va, $Vb), {\n      4: 28,\n      6: 30,\n      7: [1, 29],\n      8: 26,\n      9: $V0,\n      11: 27,\n      13: $V1,\n      14: $V2,\n      15: 10,\n      17: 11\n    }, o($Vc, $Vd), o($Va, [2, 8]), o([5, 7, 10, 21, 22, 23, 24], $Ve, {\n      18: [1, 31]\n    }), o($Va, [2, 10]), o($Vc, [2, 12]), {\n      1: [2, 1]\n    }, {\n      4: 32,\n      6: 34,\n      7: [1, 33],\n      8: 5,\n      9: $V0,\n      11: 7,\n      13: $V1,\n      14: $V2,\n      15: 10,\n      17: 11\n    }, o($Vc, [2, 13], {\n      8: 5,\n      15: 10,\n      4: 35,\n      9: $V8,\n      13: $V1,\n      14: $V9\n    }), o($Vf, [2, 24]), o($Vf, [2, 25]), o($Vf, [2, 26]), o($Vf, [2, 27]), {\n      1: [2, 2]\n    }, {\n      4: 36,\n      8: 5,\n      9: $V8,\n      13: $V1,\n      14: $V9,\n      15: 10\n    }, {\n      1: [2, 3]\n    }, o($Vc, [2, 15], {\n      16: 37\n    }), {\n      4: 38,\n      8: 5,\n      9: $V8,\n      13: $V1,\n      14: $V9,\n      15: 10\n    }, {\n      4: 39,\n      8: 26,\n      9: $V8,\n      13: $V1,\n      14: $V9,\n      15: 10\n    }, o($Vc, $Ve, {\n      18: [1, 40]\n    }), o([7, 21, 22, 23, 24], $Vb, {\n      10: [1, 41]\n    }), o([21, 22, 23, 24], $Vd, {\n      12: 42,\n      2: [1, 44],\n      10: [1, 43]\n    }), {\n      7: $V3,\n      16: 13,\n      21: $V4,\n      22: $V5,\n      23: $V6,\n      24: $V7\n    }, {\n      4: 22,\n      8: 5,\n      9: $V8,\n      13: $V1,\n      14: $V9,\n      15: 10,\n      16: 23,\n      21: $V4,\n      22: $V5,\n      23: $V6,\n      24: $V7\n    }, {\n      16: 20,\n      21: $V4,\n      22: $V5,\n      23: $V6,\n      24: $V7\n    }, {\n      7: [1, 47],\n      14: $Vg,\n      19: 46,\n      20: 48,\n      25: [1, 49],\n      27: [1, 50]\n    }, o([5, 10, 21, 22, 23, 24], $Vh, {\n      16: 13,\n      7: $V3\n    }), o($Vc, [2, 16], {\n      8: 5,\n      15: 10,\n      4: 22,\n      16: 23,\n      9: $V8,\n      13: $V1,\n      14: $V9\n    }), o($Vc, [2, 18], {\n      16: 20\n    }), o($Vc, [2, 14], {\n      16: 37\n    }), o($Vc, [2, 19], {\n      16: 37\n    }), {\n      4: 51,\n      8: 5,\n      9: $V8,\n      13: $V1,\n      14: $V9,\n      15: 10\n    }, o($Vc, [2, 17], {\n      16: 37\n    }), {\n      16: 37,\n      21: $V4,\n      22: $V5,\n      23: $V6,\n      24: $V7\n    }, {\n      14: $Vg,\n      19: 46,\n      25: [1, 52],\n      27: [1, 53]\n    }, o($Va, [2, 5]), o($Vc, [2, 7]), o($Vc, [2, 32]), o($Vc, [2, 33]), o($Va, [2, 20]), o($Va, [2, 21]), o($Vc, [2, 22]), o($Vc, [2, 23]), {\n      26: $Vi,\n      28: [1, 55]\n    }, {\n      26: $Vj,\n      28: [1, 57]\n    }, o($Vc, $Vh, {\n      16: 37\n    }), {\n      26: $Vi\n    }, {\n      26: $Vj\n    }, {\n      25: [1, 58]\n    }, o($Vc, [2, 30]), {\n      27: [1, 59]\n    }, o($Vc, [2, 31]), o($Va, [2, 28]), o($Va, [2, 29])],\n    defaultActions: {\n      12: [2, 1],\n      19: [2, 2],\n      21: [2, 3]\n    },\n    parseError: function parseError(str, hash) {\n      if (hash.recoverable) {\n        this.trace(str);\n      } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n      }\n    },\n    parse: function parse(input) {\n      var self = this,\n          stack = [0],\n          tstack = [],\n          // token stack\n      vstack = [null],\n          // semantic value stack\n      lstack = [],\n          // location stack\n      table = this.table,\n          yytext = '',\n          yylineno = 0,\n          yyleng = 0,\n          recovering = 0,\n          TERROR = 2,\n          EOF = 1;\n      var args = lstack.slice.call(arguments, 1); //this.reductionCount = this.shiftCount = 0;\n\n      var lexer = Object.create(this.lexer);\n      var sharedState = {\n        yy: {}\n      }; // copy state\n\n      for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n          sharedState.yy[k] = this.yy[k];\n        }\n      }\n\n      lexer.setInput(input, sharedState.yy);\n      sharedState.yy.lexer = lexer;\n      sharedState.yy.parser = this;\n\n      if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n      }\n\n      var yyloc = lexer.yylloc;\n      lstack.push(yyloc);\n      var ranges = lexer.options && lexer.options.ranges;\n\n      if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n      } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n      }\n\n      function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n      }\n\n      _token_stack: var lex = function lex() {\n        var token;\n        token = lexer.lex() || EOF; // if token isn't its numeric value, convert\n\n        if (typeof token !== 'number') {\n          token = self.symbols_[token] || token;\n        }\n\n        return token;\n      };\n\n      var symbol,\n          preErrorSymbol,\n          state,\n          action,\n          a,\n          r,\n          yyval = {},\n          p,\n          len,\n          newState,\n          expected;\n\n      while (true) {\n        // retreive state number from top of stack\n        state = stack[stack.length - 1]; // use default actions if available\n\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state];\n        } else {\n          if (symbol === null || typeof symbol == 'undefined') {\n            symbol = lex();\n          } // read action for current state and first input\n\n\n          action = table[state] && table[state][symbol];\n        }\n\n        _handle_error: // handle parse error\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n          // Return the rule stack depth where the nearest error rule can be found.\n          // Return FALSE when no error recovery rule was found.\n          var locateNearestErrorRecoveryRule = function locateNearestErrorRecoveryRule(state) {\n            var stack_probe = stack.length - 1;\n            var depth = 0; // try to recover from error\n\n            for (;;) {\n              // check for error recovery rule in this state\n              if (TERROR.toString() in table[state]) {\n                return depth;\n              }\n\n              if (state === 0 || stack_probe < 2) {\n                return false; // No suitable error recovery rule available.\n              }\n\n              stack_probe -= 2; // popStack(1): [symbol, action]\n\n              state = stack[stack_probe];\n              ++depth;\n            }\n          };\n\n          var error_rule_depth;\n          var errStr = '';\n\n          if (!recovering) {\n            // first see if there's any chance at hitting an error recovery rule:\n            error_rule_depth = locateNearestErrorRecoveryRule(state); // Report error\n\n            expected = [];\n\n            for (p in table[state]) {\n              if (this.terminals_[p] && p > TERROR) {\n                expected.push(\"'\" + this.terminals_[p] + \"'\");\n              }\n            }\n\n            if (lexer.showPosition) {\n              errStr = 'Parse error on line ' + (yylineno + 1) + \":\\n\" + lexer.showPosition() + \"\\nExpecting \" + expected.join(', ') + \", got '\" + (this.terminals_[symbol] || symbol) + \"'\";\n            } else {\n              errStr = 'Parse error on line ' + (yylineno + 1) + \": Unexpected \" + (symbol == EOF ? \"end of input\" : \"'\" + (this.terminals_[symbol] || symbol) + \"'\");\n            }\n\n            this.parseError(errStr, {\n              text: lexer.match,\n              token: this.terminals_[symbol] || symbol,\n              line: lexer.yylineno,\n              loc: lexer.yylloc,\n              ruleId: stack.slice(stack.length - 2, stack.length).join('_'),\n              expected: expected,\n              recoverable: error_rule_depth !== false\n            });\n          } else if (preErrorSymbol !== EOF) {\n            error_rule_depth = locateNearestErrorRecoveryRule(state);\n          } // just recovered from another error\n\n\n          if (recovering == 3) {\n            if (symbol === EOF || preErrorSymbol === EOF) {\n              throw new Error(errStr || 'Parsing halted while starting to recover from another error.');\n            } // discard current lookahead and grab another\n\n\n            yyleng = lexer.yyleng;\n            yytext = lexer.yytext;\n            yylineno = lexer.yylineno;\n            yyloc = lexer.yylloc;\n            symbol = lex();\n          } // try to recover from error\n\n\n          if (error_rule_depth === false) {\n            throw new Error(errStr || 'Parsing halted. No suitable error recovery rule available.');\n          }\n\n          popStack(error_rule_depth);\n          preErrorSymbol = symbol == TERROR ? null : symbol; // save the lookahead token\n\n          symbol = TERROR; // insert generic error symbol as new lookahead\n\n          state = stack[stack.length - 1];\n          action = table[state] && table[state][TERROR];\n          recovering = 3; // allow 3 real symbols to be shifted before reporting a new error\n        } // this shouldn't happen, unless resolve defaults are off\n\n\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n\n        switch (action[0]) {\n          case 1:\n            // shift\n            //this.shiftCount++;\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]); // push state\n\n            symbol = null;\n\n            if (!preErrorSymbol) {\n              // normal execution/no error\n              yyleng = lexer.yyleng;\n              yytext = lexer.yytext;\n              yylineno = lexer.yylineno;\n              yyloc = lexer.yylloc;\n\n              if (recovering > 0) {\n                recovering--;\n              }\n            } else {\n              // error just occurred, resume old lookahead f/ before error\n              symbol = preErrorSymbol;\n              preErrorSymbol = null;\n            }\n\n            break;\n\n          case 2:\n            // reduce\n            //this.reductionCount++;\n            len = this.productions_[action[1]][1]; // perform semantic action\n\n            yyval.$ = vstack[vstack.length - len]; // default to $$ = $1\n            // default location, uses first token for firsts, last for lasts\n\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            };\n\n            if (ranges) {\n              yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];\n            }\n\n            r = this.performAction.apply(yyval, [yytext, yyleng, yylineno, sharedState.yy, action[1], vstack, lstack].concat(args));\n\n            if (typeof r !== 'undefined') {\n              return r;\n            } // pop off stack\n\n\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2);\n              vstack = vstack.slice(0, -1 * len);\n              lstack = lstack.slice(0, -1 * len);\n            }\n\n            stack.push(this.productions_[action[1]][0]); // push nonterminal (reduce)\n\n            vstack.push(yyval.$);\n            lstack.push(yyval._$); // goto new state = table[STATE][NONTERMINAL]\n\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n\n          case 3:\n            // accept\n            return true;\n        }\n      }\n\n      return true;\n    }\n  };\n\n  parser.yy.parseError = function () {\n    return false;\n  };\n\n  parser.addFieldLocation = function (location, name) {\n    parser.yy.locations.push({\n      type: 'field',\n      name: name,\n      location: adjustLocationForCursor(location)\n    });\n  };\n\n  parser.identifyPartials = function (beforeCursor, afterCursor) {\n    var beforeMatch = beforeCursor.match(/[^()-*+/,:\"'\\s]*$/);\n    var afterMatch = afterCursor.match(/^[^()-*+/,:\"'\\s]*/);\n    return {\n      left: beforeMatch ? beforeMatch[0].length : 0,\n      right: afterMatch ? afterMatch[0].length : 0\n    };\n  };\n\n  parser.handleQuotedValueWithCursor = function (lexer, yytext, yylloc, quoteChar) {\n    if (yytext.indexOf(\"\\u2020\") !== -1) {\n      var cursorIndex = yytext.indexOf(\"\\u2020\");\n      parser.yy.cursorFound = {\n        first_line: yylloc.first_line,\n        last_line: yylloc.last_line,\n        first_column: yylloc.first_column + cursorIndex,\n        last_column: yylloc.first_column + cursorIndex + 1\n      };\n      var remainder = yytext.substring(cursorIndex + 1);\n      var remainingQuotes = (lexer.upcomingInput().match(new RegExp(quoteChar, 'g')) || []).length;\n\n      if (remainingQuotes > 0 && remainingQuotes & 1 != 0) {\n        parser.yy.missingEndQuote = false;\n        lexer.input();\n      } else {\n        parser.yy.missingEndQuote = true;\n        lexer.unput(remainder);\n      }\n\n      lexer.popState();\n      return true;\n    }\n\n    return false;\n  };\n\n  var adjustLocationForCursor = function adjustLocationForCursor(location) {\n    // columns are 0-based and lines not, so add 1 to cols\n    var newLocation = {\n      first_line: location.first_line,\n      last_line: location.last_line,\n      first_column: location.first_column + 1,\n      last_column: location.last_column + 1\n    };\n\n    if (parser.yy.cursorFound) {\n      if (parser.yy.cursorFound.first_line === newLocation.first_line && parser.yy.cursorFound.last_column <= newLocation.first_column) {\n        var additionalSpace = parser.yy.partialLengths.left + parser.yy.partialLengths.right;\n        additionalSpace -= parser.yy.partialCursor ? 1 : 3; // For some reason the normal cursor eats 3 positions.\n\n        newLocation.first_column = newLocation.first_column + additionalSpace;\n        newLocation.last_column = newLocation.last_column + additionalSpace;\n      }\n    }\n\n    return newLocation;\n  };\n\n  parser.autocompleteSolrQuery = function (beforeCursor, afterCursor, debug) {\n    parser.yy.cursorFound = false;\n    parser.yy.locations = [];\n    beforeCursor = beforeCursor.replace(/\\r\\n|\\n\\r/gm, '\\n');\n    afterCursor = afterCursor.replace(/\\r\\n|\\n\\r/gm, '\\n');\n    parser.yy.partialLengths = parser.identifyPartials(beforeCursor, afterCursor);\n    parser.yy.partialCursor = parser.yy.partialLengths.left > 0;\n\n    if (parser.yy.partialLengths.left > 0) {\n      beforeCursor = beforeCursor.substring(0, beforeCursor.length - parser.yy.partialLengths.left);\n    }\n\n    if (parser.yy.partialLengths.right > 0) {\n      afterCursor = afterCursor.substring(parser.yy.partialLengths.right);\n    }\n\n    var result;\n\n    try {\n      result = parser.parse(beforeCursor + \"\\u2020\" + afterCursor);\n    } catch (err) {\n      // Workaround for too many missing parentheses (it's the only error we handle in the parser)\n      if (err && err.toString().indexOf('Parsing halted while starting to recover from another error') !== -1) {\n        var leftCount = (beforeCursor.match(/\\(/g) || []).length;\n        var rightCount = (beforeCursor.match(/\\)/g) || []).length;\n        var parenthesisPad = '';\n\n        while (rightCount < leftCount) {\n          parenthesisPad += ')';\n          rightCount++;\n        }\n\n        try {\n          result = parser.parse(beforeCursor + \"\\u2020\" + parenthesisPad);\n        } catch (err) {\n          return {\n            locations: parser.yy.locations\n          };\n        }\n      } else {\n        if (debug) {\n          console.log(beforeCursor + \"\\u2020\" + afterCursor);\n          console.log(err);\n          console.error(err.stack);\n        }\n\n        return {\n          locations: parser.yy.locations\n        };\n      }\n    }\n\n    result.locations = parser.yy.locations;\n    return result;\n  };\n  /* generated by jison-lex 0.3.4 */\n\n\n  var lexer = function () {\n    var lexer = {\n      EOF: 1,\n      parseError: function parseError(str, hash) {\n        if (this.yy.parser) {\n          this.yy.parser.parseError(str, hash);\n        } else {\n          throw new Error(str);\n        }\n      },\n      // resets the lexer, sets new input\n      setInput: function setInput(input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        };\n\n        if (this.options.ranges) {\n          this.yylloc.range = [0, 0];\n        }\n\n        this.offset = 0;\n        return this;\n      },\n      // consumes and returns one char from the input\n      input: function input() {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n\n        if (lines) {\n          this.yylineno++;\n          this.yylloc.last_line++;\n        } else {\n          this.yylloc.last_column++;\n        }\n\n        if (this.options.ranges) {\n          this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n      },\n      // unshifts one char (or a string) into the input\n      unput: function unput(ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len); //this.yyleng -= len;\n\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n          this.yylineno -= lines.length - 1;\n        }\n\n        var r = this.yylloc.range;\n        this.yylloc = {\n          first_line: this.yylloc.first_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n\n        this.yyleng = this.yytext.length;\n        return this;\n      },\n      // When called from action, caches matched text and appends it on next action\n      more: function more() {\n        this._more = true;\n        return this;\n      },\n      // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n      reject: function reject() {\n        if (this.options.backtrack_lexer) {\n          this._backtrack = true;\n        } else {\n          return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n            text: \"\",\n            token: null,\n            line: this.yylineno\n          });\n        }\n\n        return this;\n      },\n      // retain first n characters of the match\n      less: function less(n) {\n        this.unput(this.match.slice(n));\n      },\n      // displays already matched input, i.e. for error messages\n      pastInput: function pastInput() {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, \"\");\n      },\n      // displays upcoming input, i.e. for error messages\n      upcomingInput: function upcomingInput() {\n        var next = this.match;\n\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length);\n        }\n\n        return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n      },\n      // displays the character position where the lexing error occurred, i.e. for error messages\n      showPosition: function showPosition() {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n      },\n      // test the lexed token: return FALSE when not a match, otherwise return token\n      test_match: function test_match(match, indexed_rule) {\n        var token, lines, backup;\n\n        if (this.options.backtrack_lexer) {\n          // save context\n          backup = {\n            yylineno: this.yylineno,\n            yylloc: {\n              first_line: this.yylloc.first_line,\n              last_line: this.last_line,\n              first_column: this.yylloc.first_column,\n              last_column: this.yylloc.last_column\n            },\n            yytext: this.yytext,\n            match: this.match,\n            matches: this.matches,\n            matched: this.matched,\n            yyleng: this.yyleng,\n            offset: this.offset,\n            _more: this._more,\n            _input: this._input,\n            yy: this.yy,\n            conditionStack: this.conditionStack.slice(0),\n            done: this.done\n          };\n\n          if (this.options.ranges) {\n            backup.yylloc.range = this.yylloc.range.slice(0);\n          }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n\n        if (lines) {\n          this.yylineno += lines.length;\n        }\n\n        this.yylloc = {\n          first_line: this.yylloc.last_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.last_column,\n          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n\n        if (this.options.ranges) {\n          this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n\n        if (this.done && this._input) {\n          this.done = false;\n        }\n\n        if (token) {\n          return token;\n        } else if (this._backtrack) {\n          // recover context\n          for (var k in backup) {\n            this[k] = backup[k];\n          }\n\n          return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n\n        return false;\n      },\n      // return next match in input\n      next: function next() {\n        if (this.done) {\n          return this.EOF;\n        }\n\n        if (!this._input) {\n          this.done = true;\n        }\n\n        var token, match, tempMatch, index;\n\n        if (!this._more) {\n          this.yytext = '';\n          this.match = '';\n        }\n\n        var rules = this._currentRules();\n\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]]);\n\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch;\n            index = i;\n\n            if (this.options.backtrack_lexer) {\n              token = this.test_match(tempMatch, rules[i]);\n\n              if (token !== false) {\n                return token;\n              } else if (this._backtrack) {\n                match = false;\n                continue; // rule action called reject() implying a rule MISmatch.\n              } else {\n                // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                return false;\n              }\n            } else if (!this.options.flex) {\n              break;\n            }\n          }\n        }\n\n        if (match) {\n          token = this.test_match(match, rules[index]);\n\n          if (token !== false) {\n            return token;\n          } // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n\n\n          return false;\n        }\n\n        if (this._input === \"\") {\n          return this.EOF;\n        } else {\n          return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n            text: \"\",\n            token: null,\n            line: this.yylineno\n          });\n        }\n      },\n      // return next match that has a token\n      lex: function lex() {\n        var r = this.next();\n\n        if (r) {\n          return r;\n        } else {\n          return this.lex();\n        }\n      },\n      // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n      begin: function begin(condition) {\n        this.conditionStack.push(condition);\n      },\n      // pop the previously active lexer condition state off the condition stack\n      popState: function popState() {\n        var n = this.conditionStack.length - 1;\n\n        if (n > 0) {\n          return this.conditionStack.pop();\n        } else {\n          return this.conditionStack[0];\n        }\n      },\n      // produce the lexer rule set which is active for the currently active lexer condition state\n      _currentRules: function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n          return this.conditions[\"INITIAL\"].rules;\n        }\n      },\n      // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n      topState: function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n\n        if (n >= 0) {\n          return this.conditionStack[n];\n        } else {\n          return \"INITIAL\";\n        }\n      },\n      // alias for begin(condition)\n      pushState: function pushState(condition) {\n        this.begin(condition);\n      },\n      // return the number of states currently on the stack\n      stateStackSize: function stateStackSize() {\n        return this.conditionStack.length;\n      },\n      options: {\n        \"case-insensitive\": true,\n        \"flex\": true\n      },\n      performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n        var YYSTATE = YY_START;\n\n        switch ($avoiding_name_collisions) {\n          case 0:\n            /* skip whitespace */\n            break;\n\n          case 1:\n            /* skip comments */\n            break;\n\n          case 2:\n            /* skip comments */\n            break;\n\n          case 3:\n            parser.yy.cursorFound = yy_.yylloc;\n            return 7;\n            break;\n\n          case 4:\n            return 21;\n            break;\n\n          case 5:\n            return 21;\n            break;\n\n          case 6:\n            return 22;\n            break;\n\n          case 7:\n            return 22;\n            break;\n\n          case 8:\n            return 'NOT';\n            break;\n\n          case 9:\n            return 'NOT';\n            break;\n\n          case 10:\n            return '+';\n            break;\n\n          case 11:\n            return '-';\n            break;\n\n          case 12:\n            return 18;\n            break;\n\n          case 13:\n            return '*';\n            break;\n\n          case 14:\n            return 9;\n            break;\n\n          case 15:\n            return 10;\n            break;\n\n          case 16:\n            return 13;\n            break;\n\n          case 17:\n            this.begin('squareBracketRange');\n            return '[';\n            break;\n\n          case 18:\n            if (parser.handleQuotedValueWithCursor(this, yy_.yytext, yy_.yylloc, ']')) {\n              return 28;\n            }\n\n            return 26;\n            break;\n\n          case 19:\n            this.popState();\n            return ']';\n            break;\n\n          case 20:\n            this.begin('curlyBracketRange');\n            return '{';\n            break;\n\n          case 21:\n            if (parser.handleQuotedValueWithCursor(this, yy_.yytext, yy_.yylloc, '}')) {\n              return 28;\n            }\n\n            return 26;\n            break;\n\n          case 22:\n            this.popState();\n            return '}';\n            break;\n\n          case 23:\n            this.begin('singleQuotedValue');\n            return 25;\n            break;\n\n          case 24:\n            if (parser.handleQuotedValueWithCursor(this, yy_.yytext, yy_.yylloc, '\\'')) {\n              yy_.yytext = yy_.yytext.replace(/[\\u2020].*/, '');\n              return 28;\n            }\n\n            return 26;\n            break;\n\n          case 25:\n            this.popState();\n            return 25;\n            break;\n\n          case 26:\n            this.begin('doubleQuotedValue');\n            return 27;\n            break;\n\n          case 27:\n            if (parser.handleQuotedValueWithCursor(this, yy_.yytext, yy_.yylloc, '\"')) {\n              yy_.yytext = yy_.yytext.replace(/[\\u2020].*/, '');\n              return 28;\n            }\n\n            return 26;\n            break;\n\n          case 28:\n            this.popState();\n            return 27;\n            break;\n\n          case 29:\n            return 14;\n            break;\n\n          case 30:\n            return 5;\n            break;\n\n          case 31:\n            console.log(yy_.yytext);\n            break;\n        }\n      },\n      rules: [/^(?:\\s)/i, /^(?:--.*)/i, /^(?:[\\/][*][^*]*[*]+([^\\/*][^*]*[*]+)*[\\/])/i, /^(?:\\u2020)/i, /^(?:AND)/i, /^(?:&&)/i, /^(?:OR)/i, /^(?:\\|\\|)/i, /^(?:NOT)/i, /^(?:!)/i, /^(?:\\+)/i, /^(?:-)/i, /^(?::)/i, /^(?:\\*)/i, /^(?:\\()/i, /^(?:\\))/i, /^(?:[0-9]+(?:[,.][0-9]+)?)/i, /^(?:\\[)/i, /^(?:(?:\\\\[\\]]|[^\\]])+)/i, /^(?:\\])/i, /^(?:\\{)/i, /^(?:(?:\\\\[\\}]|[^\\}])+)/i, /^(?:\\})/i, /^(?:')/i, /^(?:(?:\\\\[']|[^'])+)/i, /^(?:')/i, /^(?:\")/i, /^(?:(?:\\\\[\"]|[^\"])+)/i, /^(?:\")/i, /^(?:[^\\s\\u3000!():\"'^+\\-\\[\\]{}~*?\\/\\u2020]+)/i, /^(?:$)/i, /^(?:.)/i],\n      conditions: {\n        \"squareBracketRange\": {\n          \"rules\": [18],\n          \"inclusive\": false\n        },\n        \"curlyBracketRange\": {\n          \"rules\": [21, 22],\n          \"inclusive\": false\n        },\n        \"doubleQuotedValue\": {\n          \"rules\": [27, 28],\n          \"inclusive\": false\n        },\n        \"singleQuotedValue\": {\n          \"rules\": [19, 24, 25],\n          \"inclusive\": false\n        },\n        \"INITIAL\": {\n          \"rules\": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 20, 23, 26, 29, 30, 31],\n          \"inclusive\": true\n        }\n      }\n    };\n    return lexer;\n  }();\n\n  parser.lexer = lexer;\n\n  function Parser() {\n    this.yy = {};\n  }\n\n  Parser.prototype = parser;\n  parser.Parser = Parser;\n  return new Parser();\n}();\n\nexport default solrQueryParser;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/* eslint-disable */\n\n/**\n * AUTOCOMPLETE_MODULES and SYNTAX_MODULES are generated, do not edit manually, see tools/jison/generateParsers.js\n */\nvar AUTOCOMPLETE_MODULES = {\n  calcite: function calcite() {\n    return import(\n    /* webpackChunkName: \"calcite-parser\" */\n    \"./calcite/calciteAutocompleteParser\");\n  },\n  dasksql: function dasksql() {\n    return import(\n    /* webpackChunkName: \"dasksql-parser\" */\n    \"./dasksql/dasksqlAutocompleteParser\");\n  },\n  druid: function druid() {\n    return import(\n    /* webpackChunkName: \"druid-parser\" */\n    \"./druid/druidAutocompleteParser\");\n  },\n  elasticsearch: function elasticsearch() {\n    return import(\n    /* webpackChunkName: \"elasticsearch-parser\" */\n    \"./elasticsearch/elasticsearchAutocompleteParser\");\n  },\n  flink: function flink() {\n    return import(\n    /* webpackChunkName: \"flink-parser\" */\n    \"./flink/flinkAutocompleteParser\");\n  },\n  generic: function generic() {\n    return import(\n    /* webpackChunkName: \"generic-parser\" */\n    \"./generic/genericAutocompleteParser\");\n  },\n  hive: function hive() {\n    return import(\n    /* webpackChunkName: \"hive-parser\" */\n    \"./hive/hiveAutocompleteParser\");\n  },\n  impala: function impala() {\n    return import(\n    /* webpackChunkName: \"impala-parser\" */\n    \"./impala/impalaAutocompleteParser\");\n  },\n  ksql: function ksql() {\n    return import(\n    /* webpackChunkName: \"ksql-parser\" */\n    \"./ksql/ksqlAutocompleteParser\");\n  },\n  phoenix: function phoenix() {\n    return import(\n    /* webpackChunkName: \"phoenix-parser\" */\n    \"./phoenix/phoenixAutocompleteParser\");\n  },\n  presto: function presto() {\n    return import(\n    /* webpackChunkName: \"presto-parser\" */\n    \"./presto/prestoAutocompleteParser\");\n  }\n};\nvar SYNTAX_MODULES = {\n  calcite: function calcite() {\n    return import(\n    /* webpackChunkName: \"calcite-parser\" */\n    \"./calcite/calciteSyntaxParser\");\n  },\n  dasksql: function dasksql() {\n    return import(\n    /* webpackChunkName: \"dasksql-parser\" */\n    \"./dasksql/dasksqlSyntaxParser\");\n  },\n  druid: function druid() {\n    return import(\n    /* webpackChunkName: \"druid-parser\" */\n    \"./druid/druidSyntaxParser\");\n  },\n  elasticsearch: function elasticsearch() {\n    return import(\n    /* webpackChunkName: \"elasticsearch-parser\" */\n    \"./elasticsearch/elasticsearchSyntaxParser\");\n  },\n  flink: function flink() {\n    return import(\n    /* webpackChunkName: \"flink-parser\" */\n    \"./flink/flinkSyntaxParser\");\n  },\n  generic: function generic() {\n    return import(\n    /* webpackChunkName: \"generic-parser\" */\n    \"./generic/genericSyntaxParser\");\n  },\n  hive: function hive() {\n    return import(\n    /* webpackChunkName: \"hive-parser\" */\n    \"./hive/hiveSyntaxParser\");\n  },\n  impala: function impala() {\n    return import(\n    /* webpackChunkName: \"impala-parser\" */\n    \"./impala/impalaSyntaxParser\");\n  },\n  ksql: function ksql() {\n    return import(\n    /* webpackChunkName: \"ksql-parser\" */\n    \"./ksql/ksqlSyntaxParser\");\n  },\n  phoenix: function phoenix() {\n    return import(\n    /* webpackChunkName: \"phoenix-parser\" */\n    \"./phoenix/phoenixSyntaxParser\");\n  },\n  presto: function presto() {\n    return import(\n    /* webpackChunkName: \"presto-parser\" */\n    \"./presto/prestoSyntaxParser\");\n  }\n};\n/* eslint-enable */\n\nexport var SqlParserRepository = /*#__PURE__*/function () {\n  function SqlParserRepository() {\n    _classCallCheck(this, SqlParserRepository);\n\n    this.modulePromises = {};\n  }\n\n  _createClass(SqlParserRepository, [{\n    key: \"getParser\",\n    value: function () {\n      var _getParser = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(dialect, parserType) {\n        var modules, targetModule;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!this.modulePromises[dialect + parserType]) {\n                  modules = parserType === 'Autocomplete' ? AUTOCOMPLETE_MODULES : SYNTAX_MODULES;\n                  targetModule = modules[dialect] || modules.generic;\n                  this.modulePromises[dialect + parserType] = new Promise(function (resolve, reject) {\n                    targetModule().then(function (module) {\n                      return resolve(module[\"default\"]);\n                    })[\"catch\"](reject);\n                  });\n                }\n\n                return _context.abrupt(\"return\", this.modulePromises[dialect + parserType]);\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getParser(_x, _x2) {\n        return _getParser.apply(this, arguments);\n      }\n\n      return getParser;\n    }()\n  }, {\n    key: \"getAutocompleteParser\",\n    value: function () {\n      var _getAutocompleteParser = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(dialect) {\n        var autocompleteParser;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.getParser(dialect, 'Autocomplete');\n\n              case 2:\n                autocompleteParser = _context2.sent;\n                return _context2.abrupt(\"return\", autocompleteParser);\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getAutocompleteParser(_x3) {\n        return _getAutocompleteParser.apply(this, arguments);\n      }\n\n      return getAutocompleteParser;\n    }()\n  }, {\n    key: \"getSyntaxParser\",\n    value: function () {\n      var _getSyntaxParser = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(dialect) {\n        var syntaxParser;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.getParser(dialect, 'Syntax');\n\n              case 2:\n                syntaxParser = _context3.sent;\n                return _context3.abrupt(\"return\", syntaxParser);\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getSyntaxParser(_x4) {\n        return _getSyntaxParser.apply(this, arguments);\n      }\n\n      return getSyntaxParser;\n    }()\n  }]);\n\n  return SqlParserRepository;\n}();\nvar sqlParserRepository = new SqlParserRepository();\nexport default sqlParserRepository;","// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar initGlobalSearchParser = function initGlobalSearchParser(parser) {\n  parser.identifyPartials = function (beforeCursor, afterCursor) {\n    var beforeMatch = beforeCursor.match(/[0-9a-zA-Z_]*$/);\n    var afterMatch = afterCursor.match(/^[0-9a-zA-Z_]*(?:\\((?:[^)]*\\))?)?/);\n    return {\n      left: beforeMatch ? beforeMatch[0].length : 0,\n      right: afterMatch ? afterMatch[0].length : 0\n    };\n  };\n\n  parser.mergeFacets = function (a, b) {\n    if (!a.facets) {\n      a.facets = {};\n    }\n\n    if (!b.facets) {\n      return;\n    }\n\n    Object.keys(b.facets).forEach(function (key) {\n      if (a.facets[key]) {\n        Object.keys(b.facets[key]).forEach(function (val) {\n          a.facets[key][val.toLowerCase()] = true;\n        });\n      } else {\n        a.facets[key] = b.facets[key];\n      }\n    });\n  };\n\n  parser.mergeText = function (a, b) {\n    if (!a.text) {\n      a.text = [];\n    }\n\n    if (!b.text) {\n      return;\n    }\n\n    a.text = a.text.concat(b.text);\n  };\n\n  parser.handleQuotedValueWithCursor = function (lexer, yytext, yylloc, quoteChar) {\n    if (yytext.indexOf(\"\\u2020\") !== -1 || yytext.indexOf(\"\\u2021\") !== -1) {\n      var cursorIndex = yytext.indexOf(\"\\u2020\");\n      parser.yy.cursorFound = {\n        first_line: yylloc.first_line,\n        last_line: yylloc.last_line,\n        first_column: yylloc.first_column + cursorIndex,\n        last_column: yylloc.first_column + cursorIndex + 1\n      };\n      var remainder = yytext.substring(cursorIndex + 1);\n      var remainingQuotes = (lexer.upcomingInput().match(new RegExp(quoteChar, 'g')) || []).length;\n\n      if (remainingQuotes > 0 && (remainingQuotes & 1) !== 0) {\n        parser.yy.missingEndQuote = false;\n        lexer.input();\n      } else {\n        parser.yy.missingEndQuote = true;\n        lexer.unput(remainder);\n      }\n\n      lexer.popState();\n      return true;\n    }\n\n    return false;\n  };\n\n  parser.parseGlobalSearch = function (beforeCursor, afterCursor, debug) {\n    delete parser.yy.cursorFound;\n    var result;\n\n    try {\n      result = parser.parse(beforeCursor + \"\\u2020\" + afterCursor);\n    } catch (err) {\n      if (debug) {\n        console.warn(err);\n        console.warn(err.stack);\n        console.warn(parser.yy.error);\n      }\n\n      return {\n        facets: {},\n        text: []\n      };\n    }\n\n    return result;\n  };\n};\n\nexport default {\n  initGlobalSearchParser: initGlobalSearchParser\n};","// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/* parser generated by jison 0.4.17 */\n\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar sqlStatementsParser = function () {\n  var o = function o(k, v, _o, l) {\n    for (_o = _o || {}, l = k.length; l--; _o[k[l]] = v) {\n      ;\n    }\n\n    return _o;\n  },\n      $V0 = [1, 7],\n      $V1 = [1, 6],\n      $V2 = [1, 12],\n      $V3 = [5, 9],\n      $V4 = [1, 13],\n      $V5 = [5, 8, 9];\n\n  var parser = {\n    trace: function trace() {},\n    yy: {},\n    symbols_: {\n      \"error\": 2,\n      \"SqlStatementsParser\": 3,\n      \"Statements\": 4,\n      \"EOF\": 5,\n      \"OneOrMoreSeparators\": 6,\n      \"StatementParts\": 7,\n      \"PART_OF_STATEMENT\": 8,\n      \";\": 9,\n      \"$accept\": 0,\n      \"$end\": 1\n    },\n    terminals_: {\n      2: \"error\",\n      5: \"EOF\",\n      8: \"PART_OF_STATEMENT\",\n      9: \";\"\n    },\n    productions_: [0, [3, 2], [3, 3], [3, 4], [3, 3], [3, 2], [3, 1], [4, 1], [4, 3], [7, 1], [7, 2], [6, 1], [6, 2]],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate\n    /* action[1] */\n    , $$\n    /* vstack */\n    , _$\n    /* lstack */\n    ) {\n      /* this == yyval */\n      var $0 = $$.length - 1;\n\n      switch (yystate) {\n        case 1:\n          parser.removeTrailingWhiteSpace($$[$0 - 1]);\n          return $$[$0 - 1];\n          break;\n\n        case 2:\n          parser.handleLeadingStatements($$[$0 - 2], $$[$0 - 1]);\n          parser.removeTrailingWhiteSpace($$[$0 - 1]);\n          return $$[$0 - 1];\n          break;\n\n        case 3:\n          parser.handleLeadingStatements($$[$0 - 3], $$[$0 - 2]);\n          parser.handleTrailingStatements($$[$0 - 2], $$[$0 - 1]);\n          parser.removeTrailingWhiteSpace($$[$0 - 2]);\n          return $$[$0 - 2];\n          break;\n\n        case 4:\n          parser.handleTrailingStatements($$[$0 - 2], $$[$0 - 1]);\n          parser.removeTrailingWhiteSpace($$[$0 - 2]);\n          return $$[$0 - 2];\n          break;\n\n        case 5:\n          var result = [];\n          parser.handleLeadingStatements($$[$0 - 1], result);\n          return result;\n          break;\n\n        case 6:\n          var result = [];\n          parser.addEntry(result, 'statement', $$[$0], _$[$0]);\n          return result;\n          break;\n\n        case 7:\n          this.$ = [];\n          parser.addEntry(this.$, 'statement', $$[$0], _$[$0]);\n          break;\n\n        case 8:\n          parser.handleTrailingStatements($$[$0 - 2], $$[$0 - 1]);\n          parser.addEntry($$[$0 - 2], 'statement', $$[$0], _$[$0]);\n          break;\n\n        case 10:\n          this.$ = $$[$0 - 1] + $$[$0];\n          ;\n          break;\n\n        case 11:\n          this.$ = [_$[$0]];\n          break;\n\n        case 12:\n          $$[$0 - 1].push(_$[$0]);\n          break;\n      }\n    },\n    table: [{\n      3: 1,\n      4: 2,\n      5: [1, 4],\n      6: 3,\n      7: 5,\n      8: $V0,\n      9: $V1\n    }, {\n      1: [3]\n    }, {\n      5: [1, 8],\n      6: 9,\n      9: $V1\n    }, {\n      4: 10,\n      5: [1, 11],\n      7: 5,\n      8: $V0,\n      9: $V2\n    }, {\n      1: [2, 6]\n    }, o($V3, [2, 7], {\n      8: $V4\n    }), o($V5, [2, 11]), o($V5, [2, 9]), {\n      1: [2, 1]\n    }, {\n      5: [1, 14],\n      7: 15,\n      8: $V0,\n      9: $V2\n    }, {\n      5: [1, 16],\n      6: 17,\n      9: $V1\n    }, {\n      1: [2, 5]\n    }, o($V5, [2, 12]), o($V5, [2, 10]), {\n      1: [2, 4]\n    }, o($V3, [2, 8], {\n      8: $V4\n    }), {\n      1: [2, 2]\n    }, {\n      5: [1, 18],\n      7: 15,\n      8: $V0,\n      9: $V2\n    }, {\n      1: [2, 3]\n    }],\n    defaultActions: {\n      4: [2, 6],\n      8: [2, 1],\n      11: [2, 5],\n      14: [2, 4],\n      16: [2, 2],\n      18: [2, 3]\n    },\n    parseError: function parseError(str, hash) {\n      if (hash.recoverable) {\n        this.trace(str);\n      } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n      }\n    },\n\n    /**\n     * @param {string} input\n     *\n     * @return {SqlStatementsParserResult}\n     */\n    parse: function parse(input) {\n      var self = this,\n          stack = [0],\n          tstack = [],\n          vstack = [null],\n          lstack = [],\n          table = this.table,\n          yytext = '',\n          yylineno = 0,\n          yyleng = 0,\n          recovering = 0,\n          TERROR = 2,\n          EOF = 1;\n      var args = lstack.slice.call(arguments, 1);\n      var lexer = Object.create(this.lexer);\n      var sharedState = {\n        yy: {}\n      };\n\n      for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n          sharedState.yy[k] = this.yy[k];\n        }\n      }\n\n      lexer.setInput(input, sharedState.yy);\n      sharedState.yy.lexer = lexer;\n      sharedState.yy.parser = this;\n\n      if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n      }\n\n      var yyloc = lexer.yylloc;\n      lstack.push(yyloc);\n      var ranges = lexer.options && lexer.options.ranges;\n\n      if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n      } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n      }\n\n      function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n      }\n\n      _token_stack: var lex = function lex() {\n        var token;\n        token = lexer.lex() || EOF;\n\n        if (typeof token !== 'number') {\n          token = self.symbols_[token] || token;\n        }\n\n        return token;\n      };\n\n      var symbol,\n          preErrorSymbol,\n          state,\n          action,\n          a,\n          r,\n          yyval = {},\n          p,\n          len,\n          newState,\n          expected;\n\n      while (true) {\n        state = stack[stack.length - 1];\n\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state];\n        } else {\n          if (symbol === null || typeof symbol == 'undefined') {\n            symbol = lex();\n          }\n\n          action = table[state] && table[state][symbol];\n        }\n\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n          var errStr = '';\n          expected = [];\n\n          for (p in table[state]) {\n            if (this.terminals_[p] && p > TERROR) {\n              expected.push('\\'' + this.terminals_[p] + '\\'');\n            }\n          }\n\n          if (lexer.showPosition) {\n            errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n          } else {\n            errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n          }\n\n          this.parseError(errStr, {\n            text: lexer.match,\n            token: this.terminals_[symbol] || symbol,\n            line: lexer.yylineno,\n            loc: lexer.yylloc,\n            ruleId: stack.slice(stack.length - 2, stack.length).join('_'),\n            expected: expected\n          });\n        }\n\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n\n        switch (action[0]) {\n          case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n\n            if (!preErrorSymbol) {\n              yyleng = lexer.yyleng;\n              yytext = lexer.yytext;\n              yylineno = lexer.yylineno;\n              yyloc = lexer.yylloc;\n\n              if (recovering > 0) {\n                recovering--;\n              }\n            } else {\n              symbol = preErrorSymbol;\n              preErrorSymbol = null;\n            }\n\n            break;\n\n          case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            };\n\n            if (ranges) {\n              yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];\n            }\n\n            r = this.performAction.apply(yyval, [yytext, yyleng, yylineno, sharedState.yy, action[1], vstack, lstack].concat(args));\n\n            if (typeof r !== 'undefined') {\n              return r;\n            }\n\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2);\n              vstack = vstack.slice(0, -1 * len);\n              lstack = lstack.slice(0, -1 * len);\n            }\n\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n\n          case 3:\n            return true;\n        }\n      }\n\n      return true;\n    }\n  };\n\n  parser.addEntry = function (statements, type, statement, location) {\n    if (parser.yy.firstToken) {\n      if (parser.yy.useDatabase) {\n        statements.push({\n          type: type,\n          statement: statement,\n          location: location,\n          firstToken: parser.yy.firstToken,\n          database: parser.yy.useDatabase\n        });\n        delete parser.yy.useDatabase;\n      } else {\n        statements.push({\n          type: type,\n          statement: statement,\n          location: location,\n          firstToken: parser.yy.firstToken\n        });\n      }\n\n      delete parser.yy.firstToken;\n    } else {\n      statements.push({\n        type: type,\n        statement: statement,\n        location: location\n      });\n    }\n  };\n\n  parser.handleLeadingStatements = function (emptyStatements, result) {\n    for (var i = emptyStatements.length - 1; i >= 0; i--) {\n      result.unshift({\n        type: 'statement',\n        statement: ';',\n        location: emptyStatements[i]\n      });\n    }\n  };\n\n  parser.handleTrailingStatements = function (result, emptyStatements) {\n    var lastStatement = result[result.length - 1];\n    lastStatement.statement += ';';\n    lastStatement.location = {\n      first_line: lastStatement.location.first_line,\n      first_column: lastStatement.location.first_column,\n      last_line: emptyStatements[0].last_line,\n      last_column: emptyStatements[0].last_column\n    };\n\n    if (emptyStatements.length > 1) {\n      for (var i = 1; i < emptyStatements.length; i++) {\n        result.push({\n          type: 'statement',\n          statement: ';',\n          location: emptyStatements[i]\n        });\n      }\n    }\n  };\n\n  parser.removeTrailingWhiteSpace = function (result) {\n    if (result.length > 1) {\n      var lastStatement = result[result.length - 1];\n\n      if (/^\\s+$/.test(lastStatement.statement)) {\n        result.pop();\n      }\n    }\n  };\n  /* generated by jison-lex 0.3.4 */\n\n\n  var lexer = function () {\n    var lexer = {\n      EOF: 1,\n      parseError: function parseError(str, hash) {\n        if (this.yy.parser) {\n          this.yy.parser.parseError(str, hash);\n        } else {\n          throw new Error(str);\n        }\n      },\n      // resets the lexer, sets new input\n      setInput: function setInput(input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        };\n\n        if (this.options.ranges) {\n          this.yylloc.range = [0, 0];\n        }\n\n        this.offset = 0;\n        return this;\n      },\n      // consumes and returns one char from the input\n      input: function input() {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n\n        if (lines) {\n          this.yylineno++;\n          this.yylloc.last_line++;\n        } else {\n          this.yylloc.last_column++;\n        }\n\n        if (this.options.ranges) {\n          this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n      },\n      // unshifts one char (or a string) into the input\n      unput: function unput(ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len); //this.yyleng -= len;\n\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n          this.yylineno -= lines.length - 1;\n        }\n\n        var r = this.yylloc.range;\n        this.yylloc = {\n          first_line: this.yylloc.first_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n\n        this.yyleng = this.yytext.length;\n        return this;\n      },\n      // When called from action, caches matched text and appends it on next action\n      more: function more() {\n        this._more = true;\n        return this;\n      },\n      // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n      reject: function reject() {\n        if (this.options.backtrack_lexer) {\n          this._backtrack = true;\n        } else {\n          return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n            text: \"\",\n            token: null,\n            line: this.yylineno\n          });\n        }\n\n        return this;\n      },\n      // retain first n characters of the match\n      less: function less(n) {\n        this.unput(this.match.slice(n));\n      },\n      // displays already matched input, i.e. for error messages\n      pastInput: function pastInput() {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, \"\");\n      },\n      // displays upcoming input, i.e. for error messages\n      upcomingInput: function upcomingInput() {\n        var next = this.match;\n\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length);\n        }\n\n        return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n      },\n      // displays the character position where the lexing error occurred, i.e. for error messages\n      showPosition: function showPosition() {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n      },\n      // test the lexed token: return FALSE when not a match, otherwise return token\n      test_match: function test_match(match, indexed_rule) {\n        var token, lines, backup;\n\n        if (this.options.backtrack_lexer) {\n          // save context\n          backup = {\n            yylineno: this.yylineno,\n            yylloc: {\n              first_line: this.yylloc.first_line,\n              last_line: this.last_line,\n              first_column: this.yylloc.first_column,\n              last_column: this.yylloc.last_column\n            },\n            yytext: this.yytext,\n            match: this.match,\n            matches: this.matches,\n            matched: this.matched,\n            yyleng: this.yyleng,\n            offset: this.offset,\n            _more: this._more,\n            _input: this._input,\n            yy: this.yy,\n            conditionStack: this.conditionStack.slice(0),\n            done: this.done\n          };\n\n          if (this.options.ranges) {\n            backup.yylloc.range = this.yylloc.range.slice(0);\n          }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n\n        if (lines) {\n          this.yylineno += lines.length;\n        }\n\n        this.yylloc = {\n          first_line: this.yylloc.last_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.last_column,\n          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n\n        if (this.options.ranges) {\n          this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n\n        if (this.done && this._input) {\n          this.done = false;\n        }\n\n        if (token) {\n          return token;\n        } else if (this._backtrack) {\n          // recover context\n          for (var k in backup) {\n            this[k] = backup[k];\n          }\n\n          return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n\n        return false;\n      },\n      // return next match in input\n      next: function next() {\n        if (this.done) {\n          return this.EOF;\n        }\n\n        if (!this._input) {\n          this.done = true;\n        }\n\n        var token, match, tempMatch, index;\n\n        if (!this._more) {\n          this.yytext = '';\n          this.match = '';\n        }\n\n        var rules = this._currentRules();\n\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]]);\n\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch;\n            index = i;\n\n            if (this.options.backtrack_lexer) {\n              token = this.test_match(tempMatch, rules[i]);\n\n              if (token !== false) {\n                return token;\n              } else if (this._backtrack) {\n                match = false;\n                continue; // rule action called reject() implying a rule MISmatch.\n              } else {\n                // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                return false;\n              }\n            } else if (!this.options.flex) {\n              break;\n            }\n          }\n        }\n\n        if (match) {\n          token = this.test_match(match, rules[index]);\n\n          if (token !== false) {\n            return token;\n          } // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n\n\n          return false;\n        }\n\n        if (this._input === \"\") {\n          return this.EOF;\n        } else {\n          return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n            text: \"\",\n            token: null,\n            line: this.yylineno\n          });\n        }\n      },\n      // return next match that has a token\n      lex: function lex() {\n        var r = this.next();\n\n        if (r) {\n          return r;\n        } else {\n          return this.lex();\n        }\n      },\n      // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n      begin: function begin(condition) {\n        this.conditionStack.push(condition);\n      },\n      // pop the previously active lexer condition state off the condition stack\n      popState: function popState() {\n        var n = this.conditionStack.length - 1;\n\n        if (n > 0) {\n          return this.conditionStack.pop();\n        } else {\n          return this.conditionStack[0];\n        }\n      },\n      // produce the lexer rule set which is active for the currently active lexer condition state\n      _currentRules: function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n          return this.conditions[\"INITIAL\"].rules;\n        }\n      },\n      // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n      topState: function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n\n        if (n >= 0) {\n          return this.conditionStack[n];\n        } else {\n          return \"INITIAL\";\n        }\n      },\n      // alias for begin(condition)\n      pushState: function pushState(condition) {\n        this.begin(condition);\n      },\n      // return the number of states currently on the stack\n      stateStackSize: function stateStackSize() {\n        return this.conditionStack.length;\n      },\n      options: {\n        \"flex\": true\n      },\n      performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n        var YYSTATE = YY_START;\n\n        switch ($avoiding_name_collisions) {\n          case 0:\n            this.begin(\"multiLineComment\");\n            return 8;\n            break;\n\n          case 1:\n            return 8;\n            break;\n\n          case 2:\n            return 8;\n            break;\n\n          case 3:\n            this.popState();\n            return 8;\n            break;\n\n          case 4:\n            this.popState();\n            return 8;\n            break;\n\n          case 5:\n            this.begin(\"inLineComment\");\n            return 8;\n            break;\n\n          case 6:\n            return 8;\n            break;\n\n          case 7:\n            this.popState();\n            return 5;\n            break;\n\n          case 8:\n            this.popState();\n            return 8;\n            break;\n\n          case 9:\n            this.begin(\"doubleQuote\");\n            return 8;\n            break;\n\n          case 10:\n            return 8;\n            break;\n\n          case 11:\n            this.popState();\n            return 5;\n            break;\n\n          case 12:\n            this.popState();\n            return 8;\n            break;\n\n          case 13:\n            this.begin(\"singleQuote\");\n            return 8;\n            break;\n\n          case 14:\n            return 8;\n            break;\n\n          case 15:\n            this.popState();\n            return 5;\n            break;\n\n          case 16:\n            this.popState();\n            return 8;\n            break;\n\n          case 17:\n            this.begin(\"backTick\");\n            return 8;\n            break;\n\n          case 18:\n            if (parser.yy.usePreceding) {\n              parser.yy.useDatabase = yy_.yytext;\n              parser.yy.usePreceding = false;\n            }\n\n            return 8;\n            break;\n\n          case 19:\n            this.popState();\n            return 5;\n            break;\n\n          case 20:\n            this.popState();\n            return 8;\n            break;\n\n          case 21:\n            if (!parser.yy.firstToken) {\n              var firstWordMatch = yy_.yytext.match(/[a-zA-Z_]+/);\n\n              if (firstWordMatch) {\n                parser.yy.firstToken = firstWordMatch[0];\n              }\n\n              var useDatabaseMatch = yy_.yytext.match(/USE\\s+(\\S+)/i);\n\n              if (useDatabaseMatch) {\n                parser.yy.useDatabase = useDatabaseMatch[1];\n              } else {\n                // For backticked\n                parser.yy.usePreceding = /USE/i.test(yy_.yytext);\n              }\n            } else if (parser.yy.usePreceding) {\n              parser.yy.useDatabase = yy_.yytext;\n              parser.yy.usePreceding = false;\n            }\n\n            return 8;\n            break;\n\n          case 22:\n            return 8;\n            break;\n\n          case 23:\n            return 8;\n            break;\n\n          case 24:\n            return 9;\n            break;\n\n          case 25:\n            return 5;\n            break;\n\n          case 26:\n            /* To prevent console logging of unknown chars */\n            break;\n\n          case 27:\n            console.log(yy_.yytext);\n            break;\n        }\n      },\n      rules: [/^(?:\\/\\*)/, /^(?:[^*]+)/, /^(?:[*][^/])/, /^(?:$)/, /^(?:\\*\\/)/, /^(?:--)/, /^(?:[^\\n]+)/, /^(?:$)/, /^(?:[\\n])/, /^(?:\")/, /^(?:(?:\\\\\\\\|\\\\[\"]|[^\"])+)/, /^(?:$)/, /^(?:\")/, /^(?:')/, /^(?:(?:\\\\\\\\|\\\\[']|[^'])+)/, /^(?:$)/, /^(?:')/, /^(?:`)/, /^(?:[^`]+)/, /^(?:$)/, /^(?:`)/, /^(?:[^\"\\/;'`-]+)/, /^(?:[-][^;-]?)/, /^(?:[/][^;*]?)/, /^(?:;)/, /^(?:$)/, /^(?:.)/, /^(?:.)/],\n      conditions: {\n        \"multiLineComment\": {\n          \"rules\": [1, 2, 3, 4],\n          \"inclusive\": false\n        },\n        \"inLineComment\": {\n          \"rules\": [6, 7, 8],\n          \"inclusive\": false\n        },\n        \"singleQuote\": {\n          \"rules\": [14, 15, 16],\n          \"inclusive\": false\n        },\n        \"doubleQuote\": {\n          \"rules\": [10, 11, 12],\n          \"inclusive\": false\n        },\n        \"backTick\": {\n          \"rules\": [18, 19, 20],\n          \"inclusive\": false\n        },\n        \"INITIAL\": {\n          \"rules\": [0, 5, 9, 13, 17, 21, 22, 23, 24, 25, 26, 27],\n          \"inclusive\": true\n        }\n      }\n    };\n    return lexer;\n  }();\n\n  parser.lexer = lexer;\n\n  function Parser() {\n    this.yy = {};\n  }\n\n  Parser.prototype = parser;\n  parser.Parser = Parser;\n  return new Parser();\n}();\n\nexport default sqlStatementsParser;","// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport hplsqlStatementsParser from \"./hplsqlStatementsParser\";\nimport sqlStatementsParser from \"./sqlStatementsParser\";\nexport var getStatementsParser = function getStatementsParser(connector) {\n  if (connector.dialect === 'hive' && window.HPLSQL) {\n    return hplsqlStatementsParser;\n  } else {\n    return sqlStatementsParser;\n  }\n};","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport $ from 'jquery';\nimport * as ko from 'knockout';\nimport hueAnalytics from 'utils/hueAnalytics';\nimport huePubSub from 'utils/huePubSub';\nimport { ACTIVE_SNIPPET_CONNECTOR_CHANGED_EVENT } from \"./apps/editor/events\";\nimport { SHOW_LEFT_ASSIST_EVENT, SHOW_RIGHT_ASSIST_EVENT } from \"./ko/components/assist/events\";\nimport { getFromLocalStorage, setInLocalStorage } from 'utils/storageUtils';\nimport defer from 'utils/timing/defer';\n\nvar SidePanelViewModel = function SidePanelViewModel() {\n  _classCallCheck(this, SidePanelViewModel);\n\n  var self = this;\n  self.assistWithoutStorage = ko.observable(false);\n  self.leftAssistVisible = ko.observable(getFromLocalStorage('assist.left_assist_panel_visible', true));\n  self.leftAssistVisible.subscribe(function (val) {\n    if (!self.assistWithoutStorage()) {\n      setInLocalStorage('assist.left_assist_panel_visible', val);\n    }\n\n    hueAnalytics.convert('hue', 'leftAssistVisible/' + val);\n    window.setTimeout(function () {\n      huePubSub.publish('split.panel.resized');\n      $(window).trigger('resize');\n    }, 0);\n  });\n  self.rightAssistVisible = ko.observable(getFromLocalStorage('assist.right_assist_panel_visible', true));\n  self.rightAssistVisible.subscribe(function (val) {\n    if (!self.assistWithoutStorage()) {\n      setInLocalStorage('assist.right_assist_panel_visible', val);\n    }\n\n    hueAnalytics.convert('hue', 'rightAssistVisible/' + val);\n    window.setTimeout(function () {\n      huePubSub.publish('reposition.scroll.anchor.up');\n      huePubSub.publish('split.panel.resized');\n      $(window).trigger('resize');\n    }, 0);\n  });\n  self.rightAssistAvailable = ko.observable(false);\n  huePubSub.subscribe('assist.highlight.risk.suggestions', function () {\n    if (self.rightAssistAvailable() && !self.rightAssistVisible()) {\n      self.rightAssistVisible(true);\n    }\n  });\n\n  var onAppChange = function onAppChange(appName) {\n    self.rightAssistAvailable(appName === 'dashboard' || appName === 'editor' || appName === 'notebook');\n  };\n\n  huePubSub.subscribe('set.current.app.name', onAppChange);\n  huePubSub.publish('get.current.app.name', onAppChange);\n  huePubSub.subscribe(ACTIVE_SNIPPET_CONNECTOR_CHANGED_EVENT, function (connector) {\n    self.rightAssistAvailable(connector && (connector.is_sql || connector.dialect === 'pig'));\n  });\n  self.activeAppViewModel = ko.observable();\n  self.currentApp = ko.observable('');\n  self.templateApp = ko.pureComputed(function () {\n    if (['editor', 'notebook'].indexOf(self.currentApp()) > -1) {\n      return self.currentApp();\n    } else {\n      return '';\n    }\n  });\n  self.contextPanelVisible = ko.observable(false);\n  self.contextPanelVisible.subscribe(function () {\n    var $el = $('.snippet .ace-editor:visible');\n\n    if ($el.length === 0) {\n      $el = $('.content-panel:visible');\n    }\n\n    $('.context-panel').width($el.width()).css('left', $el.offset().left);\n  });\n  self.sessionsAvailable = ko.observable(false);\n  self.activeAppViewModel.subscribe(function (viewModel) {\n    self.sessionsAvailable(typeof viewModel.selectedNotebook !== 'undefined');\n  });\n  huePubSub.subscribe('context.panel.visible', function (visible) {\n    self.contextPanelVisible(visible);\n  });\n  huePubSub.subscribe('set.current.app.view.model', self.activeAppViewModel);\n  huePubSub.subscribe('app.dom.loaded', self.currentApp);\n  huePubSub.publish('get.current.app.view.model');\n  var previousVisibilityValues = {\n    left: undefined,\n    right: undefined\n  };\n\n  var hideAssists = function hideAssists(left, right, preventStorage) {\n    previousVisibilityValues.left = undefined;\n    previousVisibilityValues.right = undefined;\n    self.assistWithoutStorage(preventStorage);\n\n    if (left) {\n      previousVisibilityValues.left = self.leftAssistVisible();\n      self.leftAssistVisible(false);\n    }\n\n    if (right) {\n      previousVisibilityValues.right = self.rightAssistVisible();\n      self.rightAssistVisible(false);\n    }\n\n    defer(function () {\n      self.assistWithoutStorage(false);\n    });\n  };\n\n  huePubSub.subscribe('both.assists.hide', function (preventStorage) {\n    hideAssists(true, true, preventStorage);\n  });\n  huePubSub.subscribe('right.assist.hide', function (preventStorage) {\n    hideAssists(false, true, preventStorage);\n  });\n  huePubSub.subscribe('left.assist.hide', function (preventStorage) {\n    hideAssists(true, false, preventStorage);\n  });\n  huePubSub.subscribe('both.assists.revert', function (preventStorage) {\n    self.assistWithoutStorage(preventStorage);\n\n    if (typeof previousVisibilityValues.left !== 'undefined') {\n      self.leftAssistVisible(previousVisibilityValues.left);\n    }\n\n    if (typeof previousVisibilityValues.right !== 'undefined' && self.rightAssistAvailable()) {\n      self.rightAssistVisible(previousVisibilityValues.right);\n    }\n\n    window.setTimeout(function () {\n      self.assistWithoutStorage(false);\n    }, 0);\n  });\n  huePubSub.subscribe(SHOW_RIGHT_ASSIST_EVENT, function () {\n    if (!self.rightAssistVisible()) {\n      self.rightAssistVisible(true);\n    }\n  });\n  huePubSub.subscribe(SHOW_LEFT_ASSIST_EVENT, function () {\n    if (!self.leftAssistVisible()) {\n      self.leftAssistVisible(true);\n    }\n  });\n};\n\nexport default SidePanelViewModel;","function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport $ from 'jquery';\nimport * as ko from 'knockout';\nimport apiHelper from \"../api/apiHelper\";\nimport sqlAnalyzerRepository from 'catalog/analyzer/sqlAnalyzerRepository';\nimport dataCatalog from 'catalog/dataCatalog';\nimport HueColors from \"../utils/hueColors\";\nimport huePubSub from 'utils/huePubSub';\nimport I18n from \"../utils/i18n\";\nimport sqlUtils from 'sql/sqlUtils';\nimport { matchesType } from 'sql/reference/typeUtils';\nimport { DIALECT } from \"../apps/editor/snippet\";\nimport { cancelActiveRequest } from \"../api/apiUtils\";\nimport { findBrowserConnector, getRootFilePath } from 'config/hueConfig';\nimport equalIgnoreCase from 'utils/string/equalIgnoreCase';\nimport { findUdf, getArgumentDetailsForUdf, getUdfsWithReturnTypes, getReturnTypesForUdf } from \"./reference/sqlUdfRepository\";\nimport sqlReferenceRepository from \"./reference/sqlReferenceRepository\";\nvar normalizedColors = HueColors.getNormalizedColors();\nvar COLORS = {\n  POPULAR: normalizedColors['blue'][7],\n  KEYWORD: normalizedColors['blue'][4],\n  COLUMN: normalizedColors['green'][2],\n  TABLE: normalizedColors['pink'][3],\n  DATABASE: normalizedColors['teal'][5],\n  SAMPLE: normalizedColors['purple'][5],\n  IDENT_CTE_VAR: normalizedColors['orange'][3],\n  UDF: normalizedColors['purple-gray'][3],\n  HDFS: normalizedColors['red'][2]\n};\nvar META_I18n = {\n  aggregateFunction: I18n('aggregate'),\n  alias: I18n('alias'),\n  commonTableExpression: I18n('cte'),\n  database: I18n('database'),\n  dir: I18n('dir'),\n  filter: I18n('filter'),\n  groupBy: I18n('group by'),\n  join: I18n('join'),\n  joinCondition: I18n('condition'),\n  keyword: I18n('keyword'),\n  orderBy: I18n('order by'),\n  sample: I18n('sample'),\n  table: I18n('table'),\n  variable: I18n('variable'),\n  view: I18n('view'),\n  virtual: I18n('virtual')\n};\nvar CATEGORIES = {\n  ALL: {\n    id: 'all',\n    color: HueColors.BLUE,\n    label: I18n('All')\n  },\n  POPULAR: {\n    id: 'popular',\n    color: COLORS.POPULAR,\n    label: I18n('Popular')\n  },\n  POPULAR_AGGREGATE: {\n    id: 'popularAggregate',\n    weight: 1500,\n    color: COLORS.POPULAR,\n    label: I18n('Popular'),\n    detailsTemplate: 'agg-udf'\n  },\n  POPULAR_GROUP_BY: {\n    id: 'popularGroupBy',\n    weight: 1300,\n    color: COLORS.POPULAR,\n    label: I18n('Popular'),\n    detailsTemplate: 'group-by'\n  },\n  POPULAR_ORDER_BY: {\n    id: 'popularOrderBy',\n    weight: 1200,\n    color: COLORS.POPULAR,\n    label: I18n('Popular'),\n    detailsTemplate: 'order-by'\n  },\n  POPULAR_FILTER: {\n    id: 'popularFilter',\n    weight: 1400,\n    color: COLORS.POPULAR,\n    label: I18n('Popular'),\n    detailsTemplate: 'filter'\n  },\n  POPULAR_ACTIVE_JOIN: {\n    id: 'popularActiveJoin',\n    weight: 1500,\n    color: COLORS.POPULAR,\n    label: I18n('Popular'),\n    detailsTemplate: 'join'\n  },\n  POPULAR_JOIN_CONDITION: {\n    id: 'popularJoinCondition',\n    weight: 1500,\n    color: COLORS.POPULAR,\n    label: I18n('Popular'),\n    detailsTemplate: 'join-condition'\n  },\n  COLUMN: {\n    id: 'column',\n    weight: 1000,\n    color: COLORS.COLUMN,\n    label: I18n('Columns'),\n    detailsTemplate: 'column'\n  },\n  SAMPLE: {\n    id: 'sample',\n    weight: 900,\n    color: COLORS.SAMPLE,\n    label: I18n('Samples'),\n    detailsTemplate: 'value'\n  },\n  IDENTIFIER: {\n    id: 'identifier',\n    weight: 800,\n    color: COLORS.IDENT_CTE_VAR,\n    label: I18n('Identifiers'),\n    detailsTemplate: 'identifier'\n  },\n  CTE: {\n    id: 'cte',\n    weight: 700,\n    color: COLORS.IDENT_CTE_VAR,\n    label: I18n('CTEs'),\n    detailsTemplate: 'cte'\n  },\n  TABLE: {\n    id: 'table',\n    weight: 600,\n    color: COLORS.TABLE,\n    label: I18n('Tables'),\n    detailsTemplate: 'table'\n  },\n  DATABASE: {\n    id: 'database',\n    weight: 500,\n    color: COLORS.DATABASE,\n    label: I18n('Databases'),\n    detailsTemplate: 'database'\n  },\n  UDF: {\n    id: 'udf',\n    weight: 400,\n    color: COLORS.UDF,\n    label: I18n('UDFs'),\n    detailsTemplate: 'udf'\n  },\n  OPTION: {\n    id: 'option',\n    weight: 400,\n    color: COLORS.UDF,\n    label: I18n('Options'),\n    detailsTemplate: 'option'\n  },\n  HDFS: {\n    id: 'hdfs',\n    weight: 300,\n    color: COLORS.HDFS,\n    label: I18n('Files'),\n    detailsTemplate: 'hdfs'\n  },\n  VIRTUAL_COLUMN: {\n    id: 'virtualColumn',\n    weight: 200,\n    color: COLORS.COLUMN,\n    label: I18n('Columns'),\n    detailsTemplate: 'column'\n  },\n  COLREF_KEYWORD: {\n    id: 'colrefKeyword',\n    weight: 100,\n    color: COLORS.KEYWORD,\n    label: I18n('Keywords'),\n    detailsTemplate: 'keyword'\n  },\n  VARIABLE: {\n    id: 'variable',\n    weight: 50,\n    color: COLORS.IDENT_CTE_VAR,\n    label: I18n('Variables'),\n    detailsTemplate: 'variable'\n  },\n  KEYWORD: {\n    id: 'keyword',\n    weight: 0,\n    color: COLORS.KEYWORD,\n    label: I18n('Keywords'),\n    detailsTemplate: 'keyword'\n  },\n  POPULAR_JOIN: {\n    id: 'popularJoin',\n    weight: 1500,\n    color: COLORS.POPULAR,\n    label: I18n('Popular'),\n    detailsTemplate: 'join'\n  }\n};\nvar POPULAR_CATEGORIES = [CATEGORIES.POPULAR_AGGREGATE, CATEGORIES.POPULAR_GROUP_BY, CATEGORIES.POPULAR_ORDER_BY, CATEGORIES.POPULAR_FILTER, CATEGORIES.POPULAR_ACTIVE_JOIN, CATEGORIES.POPULAR_JOIN_CONDITION, CATEGORIES.POPULAR_JOIN];\n\nvar locateSubQuery = function locateSubQuery(subQueries, subQueryName) {\n  if (typeof subQueries === 'undefined') {\n    return null;\n  }\n\n  var foundSubQueries = subQueries.filter(function (knownSubQuery) {\n    return equalIgnoreCase(knownSubQuery.alias, subQueryName);\n  });\n\n  if (foundSubQueries.length > 0) {\n    return foundSubQueries[0];\n  }\n\n  return null;\n};\n\nvar AutocompleteResults = /*#__PURE__*/function () {\n  /**\n   *\n   * @param options\n   * @constructor\n   */\n  function AutocompleteResults(options) {\n    var _this = this;\n\n    _classCallCheck(this, AutocompleteResults);\n\n    this.snippet = options.snippet;\n\n    this.dialect = function () {\n      return _this.snippet.type();\n    };\n\n    this.editor = options.editor;\n    this.temporaryOnly = options.snippet.autocompleteSettings && options.snippet.autocompleteSettings.temporaryOnly;\n    this.sortOverride = null;\n    huePubSub.subscribe('editor.autocomplete.temporary.sort.override', function (sortOverride) {\n      _this.sortOverride = sortOverride;\n    });\n    this.entries = ko.observableArray();\n    this.lastKnownRequests = [];\n    this.cancellablePromises = [];\n    this.onCancelFunctions = [];\n    this.loadingKeywords = ko.observable(false);\n    this.loadingFunctions = ko.observable(false);\n    this.loadingDatabases = ko.observable(false);\n    this.loadingTables = ko.observable(false);\n    this.loadingColumns = ko.observable(false);\n    this.loadingValues = ko.observable(false);\n    this.loadingPaths = ko.observable(false);\n    this.loadingJoins = ko.observable(false);\n    this.loadingJoinConditions = ko.observable(false);\n    this.loadingAggregateFunctions = ko.observable(false);\n    this.loadingGroupBys = ko.observable(false);\n    this.loadingOrderBys = ko.observable(false);\n    this.loadingFilters = ko.observable(false);\n    this.loadingPopularTables = ko.observable(false);\n    this.loadingPopularColumns = ko.observable(false);\n    this.loading = ko.pureComputed(function () {\n      return _this.loadingKeywords() || _this.loadingFunctions() || _this.loadingDatabases() || _this.loadingTables() || _this.loadingColumns() || _this.loadingValues() || _this.loadingPaths() || _this.loadingJoins() || _this.loadingJoinConditions() || _this.loadingAggregateFunctions() || _this.loadingGroupBys() || _this.loadingOrderBys() || _this.loadingFilters() || _this.loadingPopularTables() || _this.loadingPopularColumns();\n    }).extend({\n      rateLimit: 200\n    });\n    this.filter = ko.observable();\n    this.availableCategories = ko.observableArray([CATEGORIES.ALL]);\n    this.availableCategories.subscribe(function (newCategories) {\n      if (newCategories.indexOf(_this.activeCategory()) === -1) {\n        _this.activeCategory(CATEGORIES.ALL);\n      }\n    });\n    this.activeCategory = ko.observable(CATEGORIES.ALL);\n\n    var updateCategories = function updateCategories(suggestions) {\n      var newCategories = {};\n      suggestions.forEach(function (suggestion) {\n        if (suggestion.popular() && !newCategories[CATEGORIES.POPULAR.label]) {\n          newCategories[CATEGORIES.POPULAR.label] = CATEGORIES.POPULAR;\n        } else if (suggestion.category === CATEGORIES.TABLE || suggestion.category === CATEGORIES.COLUMN || suggestion.category === CATEGORIES.UDF) {\n          if (!newCategories[suggestion.category.label]) {\n            newCategories[suggestion.category.label] = suggestion.category;\n          }\n        }\n      });\n      var result = [];\n      Object.keys(newCategories).forEach(function (key) {\n        result.push(newCategories[key]);\n      });\n      result.sort(function (a, b) {\n        return a.label.localeCompare(b.label);\n      });\n      result.unshift(CATEGORIES.ALL);\n\n      _this.availableCategories(result);\n    };\n\n    this.filtered = ko.pureComputed(function () {\n      var result = _this.entries();\n\n      if (_this.filter()) {\n        result = sqlUtils.autocompleteFilter(_this.filter(), result);\n        huePubSub.publish('hue.ace.autocompleter.match.updated');\n      }\n\n      updateCategories(result);\n\n      var activeCategory = _this.activeCategory();\n\n      var categoriesCount = {};\n      result = result.filter(function (suggestion) {\n        if (typeof categoriesCount[suggestion.category.id] === 'undefined') {\n          categoriesCount[suggestion.category.id] = 0;\n        } else {\n          categoriesCount[suggestion.category.id]++;\n        }\n\n        if (activeCategory !== CATEGORIES.POPULAR && categoriesCount[suggestion.category.id] >= 10 && POPULAR_CATEGORIES.indexOf(suggestion.category) !== -1) {\n          return false;\n        }\n\n        return activeCategory === CATEGORIES.ALL || activeCategory === suggestion.category || activeCategory === CATEGORIES.POPULAR && suggestion.popular();\n      });\n      sqlUtils.sortSuggestions(result, _this.filter(), _this.sortOverride);\n      _this.sortOverride = null;\n      return result;\n    }).extend({\n      rateLimit: 200\n    });\n  }\n\n  _createClass(AutocompleteResults, [{\n    key: \"cancelRequests\",\n    value: function cancelRequests() {\n      while (this.lastKnownRequests.length) {\n        cancelActiveRequest(this.lastKnownRequests.pop());\n      }\n\n      while (this.cancellablePromises.length) {\n        var promise = this.cancellablePromises.pop();\n\n        if (promise.cancel) {\n          promise.cancel();\n        }\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function () {\n      var _update = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(parseResult) {\n        var _this2 = this;\n\n        var promises, trackPromise, colRefPromise, databasesPromise, tablesPromise, columnsPromise;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                while (this.onCancelFunctions.length > 0) {\n                  this.onCancelFunctions.pop()();\n                }\n\n                this.activeDatabase = parseResult.useDatabase || this.snippet.database();\n                this.parseResult = parseResult;\n                this.entries([]);\n                this.loadingKeywords(false);\n                this.loadingFunctions(false);\n                this.loadingDatabases(false);\n                this.loadingTables(false);\n                this.loadingColumns(false);\n                this.loadingValues(false);\n                this.loadingPaths(false);\n                this.loadingJoins(false);\n                this.loadingJoinConditions(false);\n                this.loadingAggregateFunctions(false);\n                this.loadingGroupBys(false);\n                this.loadingOrderBys(false);\n                this.loadingFilters(false);\n                this.loadingPopularTables(false);\n                this.loadingPopularColumns(false);\n                this.filter('');\n\n                if (!this.parseResult.udfArgument) {\n                  _context.next = 23;\n                  break;\n                }\n\n                _context.next = 23;\n                return this.adjustForUdfArgument();\n\n              case 23:\n                promises = [];\n\n                trackPromise = function trackPromise(promise) {\n                  var wrapped = new Promise(function (resolve) {\n                    _this2.onCancelFunctions.push(resolve);\n\n                    promise.then(function (suggestions) {\n                      if (suggestions && suggestions.length) {\n                        _this2.entries(_this2.entries().concat(suggestions));\n                      }\n\n                      resolve();\n                    })[\"catch\"](resolve);\n                  });\n                  promises.push(wrapped);\n                  return promise;\n                };\n\n                colRefPromise = this.handleColumnReference();\n                databasesPromise = this.loadDatabases();\n                trackPromise(this.handleKeywords());\n                trackPromise(this.handleColRefKeywords(colRefPromise));\n                trackPromise(this.handleIdentifiers());\n                trackPromise(this.handleColumnAliases());\n                trackPromise(this.handleCommonTableExpressions());\n                trackPromise(this.handleOptions());\n                trackPromise(this.handleFunctions(colRefPromise));\n                trackPromise(this.handleDatabases(databasesPromise));\n                tablesPromise = trackPromise(this.handleTables(databasesPromise));\n                columnsPromise = trackPromise(this.handleColumns(colRefPromise, tablesPromise));\n                trackPromise(this.handleValues(colRefPromise));\n                trackPromise(this.handlePaths());\n\n                if (!this.temporaryOnly) {\n                  trackPromise(this.handleJoins());\n                  trackPromise(this.handleJoinConditions());\n                  trackPromise(this.handleAggregateFunctions());\n                  trackPromise(this.handleGroupBys(columnsPromise));\n                  trackPromise(this.handleOrderBys(columnsPromise));\n                  trackPromise(this.handleFilters());\n                  trackPromise(this.handlePopularTables(tablesPromise));\n                  trackPromise(this.handlePopularColumns(columnsPromise));\n                }\n\n                _context.next = 42;\n                return Promise.all(promises);\n\n              case 42:\n                huePubSub.publish('hue.ace.autocompleter.done');\n\n              case 43:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function update(_x) {\n        return _update.apply(this, arguments);\n      }\n\n      return update;\n    }()\n  }, {\n    key: \"adjustForUdfArgument\",\n    value: function () {\n      var _adjustForUdfArgument = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var foundArgumentDetails, keywords, _this$parseResult$sug;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return getArgumentDetailsForUdf(sqlReferenceRepository, this.snippet.connector(), this.parseResult.udfArgument.name, this.parseResult.udfArgument.position);\n\n              case 2:\n                _context2.t0 = _context2.sent;\n\n                if (_context2.t0) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                _context2.t0 = [{\n                  type: 'T'\n                }];\n\n              case 5:\n                foundArgumentDetails = _context2.t0;\n\n                if (foundArgumentDetails.length === 0 && this.parseResult.suggestColumns) {\n                  delete this.parseResult.suggestColumns;\n                  delete this.parseResult.suggestKeyValues;\n                  delete this.parseResult.suggestValues;\n                  delete this.parseResult.suggestFunctions;\n                  delete this.parseResult.suggestIdentifiers;\n                  delete this.parseResult.suggestKeywords;\n                } else if (foundArgumentDetails[0].type !== 'BOOLEAN') {\n                  if (this.parseResult.suggestFunctions && !this.parseResult.suggestFunctions.types) {\n                    this.parseResult.suggestFunctions.types = foundArgumentDetails.map(function (details) {\n                      return details.type;\n                    });\n                  }\n\n                  if (this.parseResult.suggestColumns && !this.parseResult.suggestColumns.types) {\n                    this.parseResult.suggestColumns.types = foundArgumentDetails.map(function (details) {\n                      return details.type;\n                    });\n                  }\n                }\n\n                if (foundArgumentDetails.length) {\n                  keywords = [];\n                  foundArgumentDetails.forEach(function (details) {\n                    if (details.keywords) {\n                      keywords.push.apply(keywords, _toConsumableArray(details.keywords));\n                    }\n                  });\n\n                  if (keywords.length) {\n                    if (!this.parseResult.suggestKeywords) {\n                      this.parseResult.suggestKeywords = [];\n                    }\n\n                    (_this$parseResult$sug = this.parseResult.suggestKeywords).push.apply(_this$parseResult$sug, _toConsumableArray(keywords.map(function (keyword) {\n                      if (_typeof(keyword) === 'object') {\n                        return keyword;\n                      }\n\n                      return {\n                        value: keyword,\n                        weight: 10000 // Bubble up units etc on top\n\n                      };\n                    })));\n                  }\n                }\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function adjustForUdfArgument() {\n        return _adjustForUdfArgument.apply(this, arguments);\n      }\n\n      return adjustForUdfArgument;\n    }()\n    /**\n     * For some suggestions the column type is needed, for instance with functions we should only suggest\n     * columns that matches the argument type, cos(|) etc.\n     *\n     * The promise will always resolve, and the default values is { type: 'T' }\n     *\n     * @returns {Promise} - promise\n     */\n\n  }, {\n    key: \"handleColumnReference\",\n    value: function () {\n      var _handleColumnReference = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n        var _this3 = this;\n\n        var foundVarRef, catalogEntry, sourceMeta;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (this.parseResult.colRef) {\n                  _context3.next = 2;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\", {\n                  type: 'T'\n                });\n\n              case 2:\n                foundVarRef = this.parseResult.colRef.identifierChain.some(function (identifier) {\n                  return typeof identifier.name !== 'undefined' && identifier.name.indexOf('${') === 0;\n                });\n\n                if (foundVarRef) {\n                  _context3.next = 17;\n                  break;\n                }\n\n                _context3.prev = 4;\n                _context3.next = 7;\n                return this.fetchFieldForIdentifierChain(this.parseResult.colRef.identifierChain);\n\n              case 7:\n                catalogEntry = _context3.sent;\n                _context3.next = 10;\n                return new Promise(function (resolve, reject) {\n                  _this3.onCancelFunctions.push(reject);\n\n                  var sourceMetaPromise = catalogEntry.getSourceMeta({\n                    silenceErrors: true,\n                    cancellable: true\n                  });\n\n                  _this3.cancellablePromises.push(sourceMetaPromise);\n\n                  sourceMetaPromise.then(resolve)[\"catch\"](reject);\n                });\n\n              case 10:\n                sourceMeta = _context3.sent;\n\n                if (!(typeof sourceMeta.type !== 'undefined')) {\n                  _context3.next = 13;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\", sourceMeta);\n\n              case 13:\n                _context3.next = 17;\n                break;\n\n              case 15:\n                _context3.prev = 15;\n                _context3.t0 = _context3[\"catch\"](4);\n\n              case 17:\n                return _context3.abrupt(\"return\", {\n                  type: 'T'\n                });\n\n              case 18:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[4, 15]]);\n      }));\n\n      function handleColumnReference() {\n        return _handleColumnReference.apply(this, arguments);\n      }\n\n      return handleColumnReference;\n    }()\n  }, {\n    key: \"loadDatabases\",\n    value: function () {\n      var _loadDatabases = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n        var _this4 = this;\n\n        var entry;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                _context4.next = 3;\n                return new Promise(function (resolve, reject) {\n                  _this4.onCancelFunctions.push(reject);\n\n                  dataCatalog.getEntry({\n                    namespace: _this4.snippet.namespace(),\n                    compute: _this4.snippet.compute(),\n                    connector: _this4.snippet.connector(),\n                    path: [],\n                    temporaryOnly: _this4.temporaryOnly\n                  }).then(resolve)[\"catch\"](reject);\n                });\n\n              case 3:\n                entry = _context4.sent;\n                _context4.next = 6;\n                return new Promise(function (resolve, reject) {\n                  _this4.onCancelFunctions.push(reject);\n\n                  var childrenPromise = entry.getChildren({\n                    silenceErrors: true,\n                    cancellable: true\n                  });\n\n                  _this4.cancellablePromises.push(childrenPromise);\n\n                  childrenPromise.then(resolve)[\"catch\"](reject);\n                });\n\n              case 6:\n                return _context4.abrupt(\"return\", _context4.sent);\n\n              case 9:\n                _context4.prev = 9;\n                _context4.t0 = _context4[\"catch\"](0);\n                return _context4.abrupt(\"return\", []);\n\n              case 12:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[0, 9]]);\n      }));\n\n      function loadDatabases() {\n        return _loadDatabases.apply(this, arguments);\n      }\n\n      return loadDatabases;\n    }()\n  }, {\n    key: \"handleKeywords\",\n    value: function () {\n      var _handleKeywords = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n        var _this5 = this;\n\n        var suggestKeywords;\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                suggestKeywords = this.parseResult.suggestKeywords;\n\n                if (suggestKeywords) {\n                  _context5.next = 3;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\", []);\n\n              case 3:\n                return _context5.abrupt(\"return\", suggestKeywords.map(function (keyword) {\n                  return {\n                    value: _this5.parseResult.lowerCase ? keyword.value.toLowerCase() : keyword.value,\n                    meta: META_I18n.keyword,\n                    category: CATEGORIES.KEYWORD,\n                    weightAdjust: keyword.weight,\n                    popular: ko.observable(false),\n                    details: null\n                  };\n                }));\n\n              case 4:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function handleKeywords() {\n        return _handleKeywords.apply(this, arguments);\n      }\n\n      return handleKeywords;\n    }()\n  }, {\n    key: \"handleColRefKeywords\",\n    value: function () {\n      var _handleColRefKeywords = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(colRefPromise) {\n        var _this6 = this;\n\n        var suggestColRefKeywords, colRef, colRefKeywordSuggestions;\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                suggestColRefKeywords = this.parseResult.suggestColRefKeywords;\n\n                if (suggestColRefKeywords) {\n                  _context6.next = 3;\n                  break;\n                }\n\n                return _context6.abrupt(\"return\", []);\n\n              case 3:\n                this.loadingKeywords(true); // Wait for the column reference type to be resolved to pick the right keywords\n\n                _context6.next = 6;\n                return colRefPromise;\n\n              case 6:\n                colRef = _context6.sent;\n                colRefKeywordSuggestions = [];\n                Object.keys(this.parseResult.suggestColRefKeywords).forEach(function (typeForKeywords) {\n                  if (matchesType(_this6.dialect(), [typeForKeywords], [colRef.type.toUpperCase()])) {\n                    _this6.parseResult.suggestColRefKeywords[typeForKeywords].forEach(function (keyword) {\n                      colRefKeywordSuggestions.push({\n                        value: _this6.parseResult.lowerCase ? keyword.toLowerCase() : keyword,\n                        meta: META_I18n.keyword,\n                        category: CATEGORIES.COLREF_KEYWORD,\n                        popular: ko.observable(false),\n                        details: {\n                          type: colRef.type\n                        }\n                      });\n                    });\n                  }\n                });\n                this.loadingKeywords(false);\n                return _context6.abrupt(\"return\", colRefKeywordSuggestions);\n\n              case 11:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function handleColRefKeywords(_x2) {\n        return _handleColRefKeywords.apply(this, arguments);\n      }\n\n      return handleColRefKeywords;\n    }()\n  }, {\n    key: \"handleIdentifiers\",\n    value: function () {\n      var _handleIdentifiers = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n        var suggestIdentifiers;\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                suggestIdentifiers = this.parseResult.suggestIdentifiers;\n\n                if (suggestIdentifiers) {\n                  _context7.next = 3;\n                  break;\n                }\n\n                return _context7.abrupt(\"return\", []);\n\n              case 3:\n                return _context7.abrupt(\"return\", suggestIdentifiers.map(function (identifier) {\n                  return {\n                    value: identifier.name,\n                    meta: identifier.type,\n                    category: CATEGORIES.IDENTIFIER,\n                    popular: ko.observable(false),\n                    details: null\n                  };\n                }));\n\n              case 4:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function handleIdentifiers() {\n        return _handleIdentifiers.apply(this, arguments);\n      }\n\n      return handleIdentifiers;\n    }()\n  }, {\n    key: \"handleColumnAliases\",\n    value: function () {\n      var _handleColumnAliases = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8() {\n        var suggestColumnAliases, columnAliasSuggestions, _iterator, _step, columnAlias, type, types, resolvedType;\n\n        return regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                suggestColumnAliases = this.parseResult.suggestColumnAliases;\n\n                if (suggestColumnAliases) {\n                  _context8.next = 3;\n                  break;\n                }\n\n                return _context8.abrupt(\"return\", []);\n\n              case 3:\n                columnAliasSuggestions = [];\n                _iterator = _createForOfIteratorHelper(suggestColumnAliases);\n                _context8.prev = 5;\n\n                _iterator.s();\n\n              case 7:\n                if ((_step = _iterator.n()).done) {\n                  _context8.next = 30;\n                  break;\n                }\n\n                columnAlias = _step.value;\n                type = columnAlias.types && columnAlias.types.length === 1 ? columnAlias.types[0] : 'T';\n\n                if (!(type === 'COLREF')) {\n                  _context8.next = 14;\n                  break;\n                }\n\n                columnAliasSuggestions.push({\n                  value: columnAlias.name,\n                  meta: META_I18n.alias,\n                  category: CATEGORIES.COLUMN,\n                  popular: ko.observable(false),\n                  details: columnAlias\n                });\n                _context8.next = 28;\n                break;\n\n              case 14:\n                if (!(type === 'UDFREF')) {\n                  _context8.next = 27;\n                  break;\n                }\n\n                _context8.prev = 15;\n                _context8.next = 18;\n                return getReturnTypesForUdf(sqlReferenceRepository, this.snippet.connector(), columnAlias.udfRef);\n\n              case 18:\n                types = _context8.sent;\n                resolvedType = types.length === 1 ? types[0] : 'T';\n                columnAliasSuggestions.push({\n                  value: columnAlias.name,\n                  meta: resolvedType,\n                  category: CATEGORIES.COLUMN,\n                  popular: ko.observable(false),\n                  details: columnAlias\n                });\n                _context8.next = 25;\n                break;\n\n              case 23:\n                _context8.prev = 23;\n                _context8.t0 = _context8[\"catch\"](15);\n\n              case 25:\n                _context8.next = 28;\n                break;\n\n              case 27:\n                columnAliasSuggestions.push({\n                  value: columnAlias.name,\n                  meta: type,\n                  category: CATEGORIES.COLUMN,\n                  popular: ko.observable(false),\n                  details: columnAlias\n                });\n\n              case 28:\n                _context8.next = 7;\n                break;\n\n              case 30:\n                _context8.next = 35;\n                break;\n\n              case 32:\n                _context8.prev = 32;\n                _context8.t1 = _context8[\"catch\"](5);\n\n                _iterator.e(_context8.t1);\n\n              case 35:\n                _context8.prev = 35;\n\n                _iterator.f();\n\n                return _context8.finish(35);\n\n              case 38:\n                return _context8.abrupt(\"return\", columnAliasSuggestions);\n\n              case 39:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this, [[5, 32, 35, 38], [15, 23]]);\n      }));\n\n      function handleColumnAliases() {\n        return _handleColumnAliases.apply(this, arguments);\n      }\n\n      return handleColumnAliases;\n    }()\n  }, {\n    key: \"handleCommonTableExpressions\",\n    value: function () {\n      var _handleCommonTableExpressions = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee9() {\n        var _this7 = this;\n\n        var suggestCommonTableExpressions, commonTableExpressionSuggestions;\n        return regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                suggestCommonTableExpressions = this.parseResult.suggestCommonTableExpressions;\n\n                if (suggestCommonTableExpressions) {\n                  _context9.next = 3;\n                  break;\n                }\n\n                return _context9.abrupt(\"return\", []);\n\n              case 3:\n                commonTableExpressionSuggestions = [];\n                suggestCommonTableExpressions.forEach(function (expression) {\n                  var prefix = expression.prependQuestionMark ? '? ' : '';\n\n                  if (expression.prependFrom) {\n                    prefix += _this7.parseResult.lowerCase ? 'from ' : 'FROM ';\n                  }\n\n                  commonTableExpressionSuggestions.push({\n                    value: prefix + expression.name,\n                    filterValue: expression.name,\n                    meta: META_I18n.commonTableExpression,\n                    category: CATEGORIES.CTE,\n                    popular: ko.observable(false),\n                    details: null\n                  });\n                });\n                return _context9.abrupt(\"return\", commonTableExpressionSuggestions);\n\n              case 6:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function handleCommonTableExpressions() {\n        return _handleCommonTableExpressions.apply(this, arguments);\n      }\n\n      return handleCommonTableExpressions;\n    }()\n  }, {\n    key: \"handleOptions\",\n    value: function () {\n      var _handleOptions = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee10() {\n        var setOptions;\n        return regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                if (this.parseResult.suggestSetOptions) {\n                  _context10.next = 2;\n                  break;\n                }\n\n                return _context10.abrupt(\"return\", []);\n\n              case 2:\n                _context10.prev = 2;\n                _context10.next = 5;\n                return sqlReferenceRepository.getSetOptions(this.snippet.connector().dialect || '');\n\n              case 5:\n                setOptions = _context10.sent;\n                return _context10.abrupt(\"return\", Object.keys(setOptions).map(function (name) {\n                  return {\n                    category: CATEGORIES.OPTION,\n                    value: name,\n                    meta: '',\n                    popular: ko.observable(false),\n                    weightAdjust: 0,\n                    details: setOptions[name]\n                  };\n                }));\n\n              case 9:\n                _context10.prev = 9;\n                _context10.t0 = _context10[\"catch\"](2);\n                return _context10.abrupt(\"return\", []);\n\n              case 12:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this, [[2, 9]]);\n      }));\n\n      function handleOptions() {\n        return _handleOptions.apply(this, arguments);\n      }\n\n      return handleOptions;\n    }()\n  }, {\n    key: \"handleFunctions\",\n    value: function () {\n      var _handleFunctions = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee12(colRefPromise) {\n        var _this8 = this;\n\n        var suggestFunctions, suggestions, getUdfsForTypes, types, colRef, _types, functionsToSuggest;\n\n        return regeneratorRuntime.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                suggestFunctions = this.parseResult.suggestFunctions;\n\n                if (suggestFunctions) {\n                  _context12.next = 3;\n                  break;\n                }\n\n                return _context12.abrupt(\"return\", []);\n\n              case 3:\n                this.loadingFunctions(true);\n                suggestions = [];\n\n                if (!(suggestFunctions.types && (suggestFunctions.types[0] === 'COLREF' || suggestFunctions.types[0] === 'UDFREF'))) {\n                  _context12.next = 28;\n                  break;\n                }\n\n                getUdfsForTypes = /*#__PURE__*/function () {\n                  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee11(types) {\n                    var functionsToSuggest, firstType, functionSuggestions;\n                    return regeneratorRuntime.wrap(function _callee11$(_context11) {\n                      while (1) {\n                        switch (_context11.prev = _context11.next) {\n                          case 0:\n                            _context11.prev = 0;\n                            _context11.next = 3;\n                            return getUdfsWithReturnTypes(sqlReferenceRepository, _this8.snippet.connector(), types, _this8.parseResult.suggestAggregateFunctions || false, _this8.parseResult.suggestAnalyticFunctions || false);\n\n                          case 3:\n                            functionsToSuggest = _context11.sent;\n                            firstType = types[0].toUpperCase();\n                            functionSuggestions = [];\n                            functionsToSuggest.map(function (udf) {\n                              return {\n                                category: CATEGORIES.UDF,\n                                value: udf.name + '()',\n                                meta: udf.returnTypes.join('|'),\n                                weightAdjust: firstType !== 'T' && udf.returnTypes.some(function (otherType) {\n                                  return otherType === firstType;\n                                }) ? 1 : 0,\n                                popular: ko.observable(false),\n                                details: udf\n                              };\n                            });\n                            return _context11.abrupt(\"return\", functionSuggestions);\n\n                          case 10:\n                            _context11.prev = 10;\n                            _context11.t0 = _context11[\"catch\"](0);\n                            return _context11.abrupt(\"return\", []);\n\n                          case 13:\n                          case \"end\":\n                            return _context11.stop();\n                        }\n                      }\n                    }, _callee11, null, [[0, 10]]);\n                  }));\n\n                  return function getUdfsForTypes(_x4) {\n                    return _ref.apply(this, arguments);\n                  };\n                }();\n\n                types = ['T'];\n                _context12.prev = 8;\n\n                if (!(suggestFunctions.types[0] === 'COLREF')) {\n                  _context12.next = 16;\n                  break;\n                }\n\n                _context12.next = 12;\n                return colRefPromise;\n\n              case 12:\n                colRef = _context12.sent;\n                types = [colRef.type.toUpperCase()];\n                _context12.next = 19;\n                break;\n\n              case 16:\n                _context12.next = 18;\n                return getReturnTypesForUdf(sqlReferenceRepository, this.snippet.connector(), suggestFunctions.udfRef);\n\n              case 18:\n                types = _context12.sent;\n\n              case 19:\n                _context12.next = 23;\n                break;\n\n              case 21:\n                _context12.prev = 21;\n                _context12.t0 = _context12[\"catch\"](8);\n\n              case 23:\n                _context12.next = 25;\n                return getUdfsForTypes(types);\n\n              case 25:\n                suggestions = _context12.sent;\n                _context12.next = 38;\n                break;\n\n              case 28:\n                _types = suggestFunctions.types || ['T'];\n                _context12.prev = 29;\n                _context12.next = 32;\n                return getUdfsWithReturnTypes(sqlReferenceRepository, this.snippet.connector(), _types, this.parseResult.suggestAggregateFunctions || false, this.parseResult.suggestAnalyticFunctions || false);\n\n              case 32:\n                functionsToSuggest = _context12.sent;\n                suggestions = functionsToSuggest.map(function (udf) {\n                  return {\n                    category: CATEGORIES.UDF,\n                    value: udf.name + '()',\n                    meta: udf.returnTypes.join('|'),\n                    weightAdjust: _types[0].toUpperCase() !== 'T' && udf.returnTypes.some(function (otherType) {\n                      return otherType === _types[0].toUpperCase();\n                    }) ? 1 : 0,\n                    popular: ko.observable(false),\n                    details: udf\n                  };\n                });\n                _context12.next = 38;\n                break;\n\n              case 36:\n                _context12.prev = 36;\n                _context12.t1 = _context12[\"catch\"](29);\n\n              case 38:\n                this.loadingFunctions(false);\n                return _context12.abrupt(\"return\", suggestions);\n\n              case 40:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this, [[8, 21], [29, 36]]);\n      }));\n\n      function handleFunctions(_x3) {\n        return _handleFunctions.apply(this, arguments);\n      }\n\n      return handleFunctions;\n    }()\n  }, {\n    key: \"handleDatabases\",\n    value: function () {\n      var _handleDatabases = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee13(databasesPromise) {\n        var suggestDatabases, databaseSuggestions, prefix, catalogEntries, _iterator2, _step2, dbEntry;\n\n        return regeneratorRuntime.wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                suggestDatabases = this.parseResult.suggestDatabases;\n\n                if (suggestDatabases) {\n                  _context13.next = 3;\n                  break;\n                }\n\n                return _context13.abrupt(\"return\", []);\n\n              case 3:\n                this.loadingDatabases(true);\n                databaseSuggestions = [];\n                _context13.prev = 5;\n                prefix = suggestDatabases.prependQuestionMark ? '? ' : '';\n\n                if (suggestDatabases.prependFrom) {\n                  prefix += this.parseResult.lowerCase ? 'from ' : 'FROM ';\n                }\n\n                _context13.next = 10;\n                return databasesPromise;\n\n              case 10:\n                catalogEntries = _context13.sent;\n                _iterator2 = _createForOfIteratorHelper(catalogEntries);\n                _context13.prev = 12;\n\n                _iterator2.s();\n\n              case 14:\n                if ((_step2 = _iterator2.n()).done) {\n                  _context13.next = 34;\n                  break;\n                }\n\n                dbEntry = _step2.value;\n\n                if (!(dbEntry.name !== '')) {\n                  _context13.next = 32;\n                  break;\n                }\n\n                _context13.t0 = databaseSuggestions;\n                _context13.t1 = prefix;\n                _context13.next = 21;\n                return sqlUtils.backTickIfNeeded(this.snippet.connector(), dbEntry.name, undefined, suggestDatabases.appendBacktick);\n\n              case 21:\n                _context13.t2 = _context13.sent;\n                _context13.t3 = _context13.t1 + _context13.t2;\n                _context13.t4 = suggestDatabases.appendDot ? '.' : '';\n                _context13.t5 = _context13.t3 + _context13.t4;\n                _context13.t6 = dbEntry.name;\n                _context13.t7 = META_I18n.database;\n                _context13.t8 = CATEGORIES.DATABASE;\n                _context13.t9 = ko.observable(false);\n                _context13.t10 = dbEntry;\n                _context13.t11 = {\n                  value: _context13.t5,\n                  filterValue: _context13.t6,\n                  meta: _context13.t7,\n                  category: _context13.t8,\n                  popular: _context13.t9,\n                  hasCatalogEntry: true,\n                  details: _context13.t10\n                };\n\n                _context13.t0.push.call(_context13.t0, _context13.t11);\n\n              case 32:\n                _context13.next = 14;\n                break;\n\n              case 34:\n                _context13.next = 39;\n                break;\n\n              case 36:\n                _context13.prev = 36;\n                _context13.t12 = _context13[\"catch\"](12);\n\n                _iterator2.e(_context13.t12);\n\n              case 39:\n                _context13.prev = 39;\n\n                _iterator2.f();\n\n                return _context13.finish(39);\n\n              case 42:\n                _context13.next = 46;\n                break;\n\n              case 44:\n                _context13.prev = 44;\n                _context13.t13 = _context13[\"catch\"](5);\n\n              case 46:\n                this.loadingDatabases(false);\n                return _context13.abrupt(\"return\", databaseSuggestions);\n\n              case 48:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, this, [[5, 44], [12, 36, 39, 42]]);\n      }));\n\n      function handleDatabases(_x5) {\n        return _handleDatabases.apply(this, arguments);\n      }\n\n      return handleDatabases;\n    }()\n  }, {\n    key: \"handleTables\",\n    value: function () {\n      var _handleTables = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee15(databasesPromise) {\n        var _this9 = this;\n\n        var suggestTables, getTableSuggestions, tableSuggestions, databases, foundDb;\n        return regeneratorRuntime.wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                suggestTables = this.parseResult.suggestTables;\n\n                if (suggestTables) {\n                  _context15.next = 3;\n                  break;\n                }\n\n                return _context15.abrupt(\"return\", []);\n\n              case 3:\n                this.loadingTables(true);\n\n                getTableSuggestions = /*#__PURE__*/function () {\n                  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee14() {\n                    var prefix, database, tableSuggestions, dbEntry, tableEntries, _iterator3, _step3, tableEntry;\n\n                    return regeneratorRuntime.wrap(function _callee14$(_context14) {\n                      while (1) {\n                        switch (_context14.prev = _context14.next) {\n                          case 0:\n                            prefix = suggestTables.prependQuestionMark ? '? ' : '';\n\n                            if (suggestTables.prependFrom) {\n                              prefix += _this9.parseResult.lowerCase ? 'from ' : 'FROM ';\n                            }\n\n                            database = suggestTables.identifierChain && suggestTables.identifierChain.length === 1 ? suggestTables.identifierChain[0].name : _this9.activeDatabase;\n                            tableSuggestions = [];\n                            _context14.prev = 4;\n                            _context14.next = 7;\n                            return new Promise(function (resolve, reject) {\n                              _this9.onCancelFunctions.push(reject);\n\n                              dataCatalog.getEntry({\n                                namespace: _this9.snippet.namespace(),\n                                compute: _this9.snippet.compute(),\n                                connector: _this9.snippet.connector(),\n                                path: [database],\n                                temporaryOnly: _this9.temporaryOnly\n                              }).then(resolve)[\"catch\"](reject);\n                            });\n\n                          case 7:\n                            dbEntry = _context14.sent;\n                            _context14.next = 10;\n                            return new Promise(function (resolve, reject) {\n                              _this9.onCancelFunctions.push(reject);\n\n                              var childrenPromise = dbEntry.getChildren({\n                                silenceErrors: true,\n                                cancellable: true\n                              });\n\n                              _this9.cancellablePromises.push(childrenPromise);\n\n                              childrenPromise.then(resolve)[\"catch\"](reject);\n                            });\n\n                          case 10:\n                            tableEntries = _context14.sent;\n                            _iterator3 = _createForOfIteratorHelper(tableEntries);\n                            _context14.prev = 12;\n\n                            _iterator3.s();\n\n                          case 14:\n                            if ((_step3 = _iterator3.n()).done) {\n                              _context14.next = 34;\n                              break;\n                            }\n\n                            tableEntry = _step3.value;\n\n                            if (!(suggestTables.onlyTables && !tableEntry.isTable() || suggestTables.onlyViews && !tableEntry.isView())) {\n                              _context14.next = 18;\n                              break;\n                            }\n\n                            return _context14.abrupt(\"continue\", 32);\n\n                          case 18:\n                            _context14.t0 = tableSuggestions;\n                            _context14.t1 = prefix;\n                            _context14.next = 22;\n                            return sqlUtils.backTickIfNeeded(_this9.snippet.connector(), tableEntry.name, undefined, suggestTables.appendBacktick);\n\n                          case 22:\n                            _context14.t2 = _context14.sent;\n                            _context14.t3 = _context14.t1 + _context14.t2;\n                            _context14.t4 = tableEntry.name;\n                            _context14.t5 = tableEntry.name;\n                            _context14.t6 = META_I18n[tableEntry.getType().toLowerCase()];\n                            _context14.t7 = CATEGORIES.TABLE;\n                            _context14.t8 = ko.observable(false);\n                            _context14.t9 = tableEntry;\n                            _context14.t10 = {\n                              value: _context14.t3,\n                              filterValue: _context14.t4,\n                              tableName: _context14.t5,\n                              meta: _context14.t6,\n                              category: _context14.t7,\n                              popular: _context14.t8,\n                              hasCatalogEntry: true,\n                              details: _context14.t9\n                            };\n\n                            _context14.t0.push.call(_context14.t0, _context14.t10);\n\n                          case 32:\n                            _context14.next = 14;\n                            break;\n\n                          case 34:\n                            _context14.next = 39;\n                            break;\n\n                          case 36:\n                            _context14.prev = 36;\n                            _context14.t11 = _context14[\"catch\"](12);\n\n                            _iterator3.e(_context14.t11);\n\n                          case 39:\n                            _context14.prev = 39;\n\n                            _iterator3.f();\n\n                            return _context14.finish(39);\n\n                          case 42:\n                            _context14.next = 46;\n                            break;\n\n                          case 44:\n                            _context14.prev = 44;\n                            _context14.t12 = _context14[\"catch\"](4);\n\n                          case 46:\n                            return _context14.abrupt(\"return\", tableSuggestions);\n\n                          case 47:\n                          case \"end\":\n                            return _context14.stop();\n                        }\n                      }\n                    }, _callee14, null, [[4, 44], [12, 36, 39, 42]]);\n                  }));\n\n                  return function getTableSuggestions() {\n                    return _ref2.apply(this, arguments);\n                  };\n                }();\n\n                tableSuggestions = [];\n\n                if (!(this.dialect() === DIALECT.impala && suggestTables.identifierChain && suggestTables.identifierChain.length === 1)) {\n                  _context15.next = 25;\n                  break;\n                }\n\n                _context15.prev = 7;\n                _context15.next = 10;\n                return databasesPromise;\n\n              case 10:\n                databases = _context15.sent;\n                foundDb = databases.find(function (dbEntry) {\n                  return equalIgnoreCase(dbEntry.name, suggestTables.identifierChain[0].name);\n                });\n\n                if (!foundDb) {\n                  _context15.next = 18;\n                  break;\n                }\n\n                _context15.next = 15;\n                return getTableSuggestions();\n\n              case 15:\n                tableSuggestions = _context15.sent;\n                _context15.next = 19;\n                break;\n\n              case 18:\n                this.parseResult.suggestColumns = {\n                  tables: [{\n                    identifierChain: suggestTables.identifierChain\n                  }]\n                };\n\n              case 19:\n                _context15.next = 23;\n                break;\n\n              case 21:\n                _context15.prev = 21;\n                _context15.t0 = _context15[\"catch\"](7);\n\n              case 23:\n                _context15.next = 32;\n                break;\n\n              case 25:\n                if (!(this.dialect() === DIALECT.impala && suggestTables.identifierChain && suggestTables.identifierChain.length > 1)) {\n                  _context15.next = 29;\n                  break;\n                }\n\n                this.parseResult.suggestColumns = {\n                  tables: [{\n                    identifierChain: suggestTables.identifierChain\n                  }]\n                };\n                _context15.next = 32;\n                break;\n\n              case 29:\n                _context15.next = 31;\n                return getTableSuggestions();\n\n              case 31:\n                tableSuggestions = _context15.sent;\n\n              case 32:\n                this.loadingTables(false);\n                return _context15.abrupt(\"return\", tableSuggestions);\n\n              case 34:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15, this, [[7, 21]]);\n      }));\n\n      function handleTables(_x6) {\n        return _handleTables.apply(this, arguments);\n      }\n\n      return handleTables;\n    }()\n  }, {\n    key: \"handleColumns\",\n    value: function () {\n      var _handleColumns = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee16(colRefPromise, tablesPromise) {\n        var _this10 = this;\n\n        var suggestColumns, columnSuggestions, columnPromises, types, colRef;\n        return regeneratorRuntime.wrap(function _callee16$(_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                _context16.prev = 0;\n                _context16.next = 3;\n                return tablesPromise;\n\n              case 3:\n                _context16.next = 7;\n                break;\n\n              case 5:\n                _context16.prev = 5;\n                _context16.t0 = _context16[\"catch\"](0);\n\n              case 7:\n                suggestColumns = this.parseResult.suggestColumns;\n\n                if (suggestColumns) {\n                  _context16.next = 10;\n                  break;\n                }\n\n                return _context16.abrupt(\"return\", []);\n\n              case 10:\n                this.loadingColumns(true);\n                columnSuggestions = []; // For multiple tables we need to merge and make sure identifiers are unique\n\n                columnPromises = [];\n                types = ['T'];\n                _context16.prev = 14;\n\n                if (!(suggestColumns.types && suggestColumns.types[0] === 'COLREF')) {\n                  _context16.next = 22;\n                  break;\n                }\n\n                _context16.next = 18;\n                return colRefPromise;\n\n              case 18:\n                colRef = _context16.sent;\n                types = [colRef.type.toUpperCase()];\n                _context16.next = 26;\n                break;\n\n              case 22:\n                if (!(suggestColumns.types && suggestColumns.types[0] === 'UDFREF')) {\n                  _context16.next = 26;\n                  break;\n                }\n\n                _context16.next = 25;\n                return getReturnTypesForUdf(sqlReferenceRepository, this.snippet.connector(), suggestColumns.udfRef);\n\n              case 25:\n                types = _context16.sent;\n\n              case 26:\n                _context16.next = 30;\n                break;\n\n              case 28:\n                _context16.prev = 28;\n                _context16.t1 = _context16[\"catch\"](14);\n\n              case 30:\n                suggestColumns.tables.forEach(function (table) {\n                  columnPromises.push(_this10.addColumns(table, types, columnSuggestions));\n                });\n                _context16.prev = 31;\n                _context16.next = 34;\n                return Promise.allSettled(columnPromises);\n\n              case 34:\n                _context16.next = 38;\n                break;\n\n              case 36:\n                _context16.prev = 36;\n                _context16.t2 = _context16[\"catch\"](31);\n\n              case 38:\n                AutocompleteResults.mergeColumns(columnSuggestions);\n\n                if (this.dialect() === DIALECT.hive && /[^.]$/.test(this.editor().getTextBeforeCursor())) {\n                  columnSuggestions.push({\n                    value: 'BLOCK__OFFSET__INSIDE__FILE',\n                    meta: META_I18n.virtual,\n                    category: CATEGORIES.VIRTUAL_COLUMN,\n                    popular: ko.observable(false),\n                    details: {\n                      name: 'BLOCK__OFFSET__INSIDE__FILE'\n                    }\n                  });\n                  columnSuggestions.push({\n                    value: 'INPUT__FILE__NAME',\n                    meta: META_I18n.virtual,\n                    category: CATEGORIES.VIRTUAL_COLUMN,\n                    popular: ko.observable(false),\n                    details: {\n                      name: 'INPUT__FILE__NAME'\n                    }\n                  });\n                }\n\n                this.loadingColumns(false);\n                return _context16.abrupt(\"return\", columnSuggestions);\n\n              case 42:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee16, this, [[0, 5], [14, 28], [31, 36]]);\n      }));\n\n      function handleColumns(_x7, _x8) {\n        return _handleColumns.apply(this, arguments);\n      }\n\n      return handleColumns;\n    }()\n  }, {\n    key: \"addCteColumns\",\n    value: function () {\n      var _addCteColumns = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee17(table, columnSuggestions) {\n        var cte, _iterator4, _step4, column, type, _this$parseResult$sug2, _this$parseResult$sug3;\n\n        return regeneratorRuntime.wrap(function _callee17$(_context17) {\n          while (1) {\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                cte = this.parseResult.commonTableExpressions.find(function (cte) {\n                  return equalIgnoreCase(cte.alias, table.identifierChain[0].cte);\n                });\n\n                if (cte) {\n                  _context17.next = 3;\n                  break;\n                }\n\n                return _context17.abrupt(\"return\");\n\n              case 3:\n                _iterator4 = _createForOfIteratorHelper(cte.columns);\n                _context17.prev = 4;\n\n                _iterator4.s();\n\n              case 6:\n                if ((_step4 = _iterator4.n()).done) {\n                  _context17.next = 39;\n                  break;\n                }\n\n                column = _step4.value;\n                type = typeof column.type !== 'undefined' && column.type !== 'COLREF' ? column.type : 'T';\n\n                if (!(typeof column.alias !== 'undefined')) {\n                  _context17.next = 24;\n                  break;\n                }\n\n                _context17.t0 = columnSuggestions;\n                _context17.next = 13;\n                return sqlUtils.backTickIfNeeded(this.snippet.connector(), column.alias, undefined, (_this$parseResult$sug2 = this.parseResult.suggestColumns) === null || _this$parseResult$sug2 === void 0 ? void 0 : _this$parseResult$sug2.appendBacktick);\n\n              case 13:\n                _context17.t1 = _context17.sent;\n                _context17.t2 = column.alias;\n                _context17.t3 = type;\n                _context17.t4 = CATEGORIES.COLUMN;\n                _context17.t5 = table;\n                _context17.t6 = ko.observable(false);\n                _context17.t7 = column;\n                _context17.t8 = {\n                  value: _context17.t1,\n                  filterValue: _context17.t2,\n                  meta: _context17.t3,\n                  category: _context17.t4,\n                  table: _context17.t5,\n                  popular: _context17.t6,\n                  details: _context17.t7\n                };\n\n                _context17.t0.push.call(_context17.t0, _context17.t8);\n\n                _context17.next = 37;\n                break;\n\n              case 24:\n                if (!(typeof column.identifierChain !== 'undefined' && column.identifierChain.length > 0 && typeof column.identifierChain[column.identifierChain.length - 1].name !== 'undefined')) {\n                  _context17.next = 37;\n                  break;\n                }\n\n                _context17.t9 = columnSuggestions;\n                _context17.next = 28;\n                return sqlUtils.backTickIfNeeded(this.snippet.connector(), column.identifierChain[column.identifierChain.length - 1].name, undefined, (_this$parseResult$sug3 = this.parseResult.suggestColumns) === null || _this$parseResult$sug3 === void 0 ? void 0 : _this$parseResult$sug3.appendBacktick);\n\n              case 28:\n                _context17.t10 = _context17.sent;\n                _context17.t11 = column.identifierChain[column.identifierChain.length - 1].name;\n                _context17.t12 = type;\n                _context17.t13 = CATEGORIES.COLUMN;\n                _context17.t14 = table;\n                _context17.t15 = ko.observable(false);\n                _context17.t16 = column;\n                _context17.t17 = {\n                  value: _context17.t10,\n                  filterValue: _context17.t11,\n                  meta: _context17.t12,\n                  category: _context17.t13,\n                  table: _context17.t14,\n                  popular: _context17.t15,\n                  details: _context17.t16\n                };\n\n                _context17.t9.push.call(_context17.t9, _context17.t17);\n\n              case 37:\n                _context17.next = 6;\n                break;\n\n              case 39:\n                _context17.next = 44;\n                break;\n\n              case 41:\n                _context17.prev = 41;\n                _context17.t18 = _context17[\"catch\"](4);\n\n                _iterator4.e(_context17.t18);\n\n              case 44:\n                _context17.prev = 44;\n\n                _iterator4.f();\n\n                return _context17.finish(44);\n\n              case 47:\n              case \"end\":\n                return _context17.stop();\n            }\n          }\n        }, _callee17, this, [[4, 41, 44, 47]]);\n      }));\n\n      function addCteColumns(_x9, _x10) {\n        return _addCteColumns.apply(this, arguments);\n      }\n\n      return addCteColumns;\n    }()\n  }, {\n    key: \"addSubQueryColumns\",\n    value: function () {\n      var _addSubQueryColumns = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee19(table, columnSuggestions) {\n        var _this11 = this;\n\n        var foundSubQuery, addSubQueryColumnsRecursive;\n        return regeneratorRuntime.wrap(function _callee19$(_context19) {\n          while (1) {\n            switch (_context19.prev = _context19.next) {\n              case 0:\n                foundSubQuery = locateSubQuery(this.parseResult.subQueries, table.identifierChain[0].subQuery);\n\n                addSubQueryColumnsRecursive = /*#__PURE__*/function () {\n                  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee18(subQueryColumns) {\n                    var connector, _iterator5, _step5, column, type, _this11$parseResult$s, _this11$parseResult$s2, foundNestedSubQuery;\n\n                    return regeneratorRuntime.wrap(function _callee18$(_context18) {\n                      while (1) {\n                        switch (_context18.prev = _context18.next) {\n                          case 0:\n                            connector = _this11.snippet.connector();\n                            _iterator5 = _createForOfIteratorHelper(subQueryColumns);\n                            _context18.prev = 2;\n\n                            _iterator5.s();\n\n                          case 4:\n                            if ((_step5 = _iterator5.n()).done) {\n                              _context18.next = 45;\n                              break;\n                            }\n\n                            column = _step5.value;\n\n                            if (!(column.alias || column.identifierChain)) {\n                              _context18.next = 38;\n                              break;\n                            }\n\n                            // TODO: Potentially fetch column types for sub-queries, possible performance hit.\n                            type = typeof column.type !== 'undefined' && column.type !== 'COLREF' ? column.type : 'T';\n\n                            if (!column.alias) {\n                              _context18.next = 23;\n                              break;\n                            }\n\n                            _context18.t0 = columnSuggestions;\n                            _context18.next = 12;\n                            return sqlUtils.backTickIfNeeded(connector, column.alias, undefined, (_this11$parseResult$s = _this11.parseResult.suggestColumns) === null || _this11$parseResult$s === void 0 ? void 0 : _this11$parseResult$s.appendBacktick);\n\n                          case 12:\n                            _context18.t1 = _context18.sent;\n                            _context18.t2 = column.alias;\n                            _context18.t3 = type;\n                            _context18.t4 = CATEGORIES.COLUMN;\n                            _context18.t5 = table;\n                            _context18.t6 = ko.observable(false);\n                            _context18.t7 = column;\n                            _context18.t8 = {\n                              value: _context18.t1,\n                              filterValue: _context18.t2,\n                              meta: _context18.t3,\n                              category: _context18.t4,\n                              table: _context18.t5,\n                              popular: _context18.t6,\n                              details: _context18.t7\n                            };\n\n                            _context18.t0.push.call(_context18.t0, _context18.t8);\n\n                            _context18.next = 36;\n                            break;\n\n                          case 23:\n                            if (!(column.identifierChain && column.identifierChain.length > 0)) {\n                              _context18.next = 36;\n                              break;\n                            }\n\n                            _context18.t9 = columnSuggestions;\n                            _context18.next = 27;\n                            return sqlUtils.backTickIfNeeded(connector, column.identifierChain[column.identifierChain.length - 1].name, undefined, (_this11$parseResult$s2 = _this11.parseResult.suggestColumns) === null || _this11$parseResult$s2 === void 0 ? void 0 : _this11$parseResult$s2.appendBacktick);\n\n                          case 27:\n                            _context18.t10 = _context18.sent;\n                            _context18.t11 = column.identifierChain[column.identifierChain.length - 1].name;\n                            _context18.t12 = type;\n                            _context18.t13 = CATEGORIES.COLUMN;\n                            _context18.t14 = table;\n                            _context18.t15 = ko.observable(false);\n                            _context18.t16 = column;\n                            _context18.t17 = {\n                              value: _context18.t10,\n                              filterValue: _context18.t11,\n                              meta: _context18.t12,\n                              category: _context18.t13,\n                              table: _context18.t14,\n                              popular: _context18.t15,\n                              details: _context18.t16\n                            };\n\n                            _context18.t9.push.call(_context18.t9, _context18.t17);\n\n                          case 36:\n                            _context18.next = 43;\n                            break;\n\n                          case 38:\n                            if (!(column.subQuery && foundSubQuery.subQueries)) {\n                              _context18.next = 43;\n                              break;\n                            }\n\n                            foundNestedSubQuery = locateSubQuery(foundSubQuery.subQueries, column.subQuery);\n\n                            if (!(foundNestedSubQuery !== null)) {\n                              _context18.next = 43;\n                              break;\n                            }\n\n                            _context18.next = 43;\n                            return addSubQueryColumnsRecursive(foundNestedSubQuery.columns);\n\n                          case 43:\n                            _context18.next = 4;\n                            break;\n\n                          case 45:\n                            _context18.next = 50;\n                            break;\n\n                          case 47:\n                            _context18.prev = 47;\n                            _context18.t18 = _context18[\"catch\"](2);\n\n                            _iterator5.e(_context18.t18);\n\n                          case 50:\n                            _context18.prev = 50;\n\n                            _iterator5.f();\n\n                            return _context18.finish(50);\n\n                          case 53:\n                          case \"end\":\n                            return _context18.stop();\n                        }\n                      }\n                    }, _callee18, null, [[2, 47, 50, 53]]);\n                  }));\n\n                  return function addSubQueryColumnsRecursive(_x13) {\n                    return _ref3.apply(this, arguments);\n                  };\n                }();\n\n                if (!(foundSubQuery !== null && foundSubQuery.columns.length > 0)) {\n                  _context19.next = 5;\n                  break;\n                }\n\n                _context19.next = 5;\n                return addSubQueryColumnsRecursive(foundSubQuery.columns);\n\n              case 5:\n              case \"end\":\n                return _context19.stop();\n            }\n          }\n        }, _callee19, this);\n      }));\n\n      function addSubQueryColumns(_x11, _x12) {\n        return _addSubQueryColumns.apply(this, arguments);\n      }\n\n      return addSubQueryColumns;\n    }()\n  }, {\n    key: \"addColumns\",\n    value: function () {\n      var _addColumns = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee21(table, types, columnSuggestions) {\n        var _this12 = this;\n\n        var addColumnsFromEntry, suggestcolumns, identifierChain, entry;\n        return regeneratorRuntime.wrap(function _callee21$(_context22) {\n          while (1) {\n            switch (_context22.prev = _context22.next) {\n              case 0:\n                if (!(typeof table.identifierChain !== 'undefined' && table.identifierChain.length === 1 && typeof table.identifierChain[0].cte !== 'undefined')) {\n                  _context22.next = 6;\n                  break;\n                }\n\n                if (!(typeof this.parseResult.commonTableExpressions !== 'undefined' && this.parseResult.commonTableExpressions.length > 0)) {\n                  _context22.next = 4;\n                  break;\n                }\n\n                _context22.next = 4;\n                return this.addCteColumns(table, columnSuggestions);\n\n              case 4:\n                _context22.next = 26;\n                break;\n\n              case 6:\n                if (!(typeof table.identifierChain !== 'undefined' && table.identifierChain.length === 1 && typeof table.identifierChain[0].subQuery !== 'undefined')) {\n                  _context22.next = 11;\n                  break;\n                }\n\n                _context22.next = 9;\n                return this.addSubQueryColumns(table, columnSuggestions);\n\n              case 9:\n                _context22.next = 26;\n                break;\n\n              case 11:\n                if (!(typeof table.identifierChain !== 'undefined')) {\n                  _context22.next = 26;\n                  break;\n                }\n\n                addColumnsFromEntry = /*#__PURE__*/function () {\n                  var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee20(dataCatalogEntry) {\n                    var sourceMeta, childEntries, _iterator6, _step6, _loop, complexExtras;\n\n                    return regeneratorRuntime.wrap(function _callee20$(_context21) {\n                      while (1) {\n                        switch (_context21.prev = _context21.next) {\n                          case 0:\n                            _context21.next = 2;\n                            return new Promise(function (resolve, reject) {\n                              _this12.onCancelFunctions.push(reject);\n\n                              var sourceMetaPromise = dataCatalogEntry.getSourceMeta({\n                                silenceErrors: true,\n                                cancellable: true\n                              });\n\n                              _this12.cancellablePromises.push(sourceMetaPromise);\n\n                              sourceMetaPromise.then(resolve)[\"catch\"](reject);\n                            });\n\n                          case 2:\n                            sourceMeta = _context21.sent;\n                            _context21.next = 5;\n                            return new Promise(function (resolve, reject) {\n                              _this12.onCancelFunctions.push(reject);\n\n                              var childrenPromise = dataCatalogEntry.getChildren({\n                                silenceErrors: true,\n                                cancellable: true\n                              });\n\n                              _this12.cancellablePromises.push(childrenPromise);\n\n                              childrenPromise.then(resolve)[\"catch\"](reject);\n                            });\n\n                          case 5:\n                            childEntries = _context21.sent;\n                            _iterator6 = _createForOfIteratorHelper(childEntries);\n                            _context21.prev = 7;\n                            _loop = /*#__PURE__*/regeneratorRuntime.mark(function _loop() {\n                              var _this12$parseResult$s;\n\n                              var childEntry, name;\n                              return regeneratorRuntime.wrap(function _loop$(_context20) {\n                                while (1) {\n                                  switch (_context20.prev = _context20.next) {\n                                    case 0:\n                                      childEntry = _step6.value;\n                                      _context20.next = 3;\n                                      return sqlUtils.backTickIfNeeded(_this12.snippet.connector(), childEntry.name, undefined, (_this12$parseResult$s = _this12.parseResult.suggestColumns) === null || _this12$parseResult$s === void 0 ? void 0 : _this12$parseResult$s.appendBacktick);\n\n                                    case 3:\n                                      name = _context20.sent;\n\n                                      if (_this12.dialect() === DIALECT.hive && (childEntry.isArray() || childEntry.isMap())) {\n                                        name += '[]';\n                                      }\n\n                                      if (matchesType(_this12.dialect(), types, [childEntry.getType().toUpperCase()]) || matchesType(_this12.dialect(), [childEntry.getType().toUpperCase()], types) || childEntry.getType === 'column' || childEntry.isComplex()) {\n                                        columnSuggestions.push({\n                                          value: name,\n                                          meta: childEntry.getType(),\n                                          table: table,\n                                          category: CATEGORIES.COLUMN,\n                                          popular: ko.observable(false),\n                                          weightAdjust: types[0].toUpperCase() !== 'T' && types.some(function (type) {\n                                            return equalIgnoreCase(type, childEntry.getType());\n                                          }) ? 1 : 0,\n                                          hasCatalogEntry: true,\n                                          details: childEntry\n                                        });\n                                      }\n\n                                    case 6:\n                                    case \"end\":\n                                      return _context20.stop();\n                                  }\n                                }\n                              }, _loop);\n                            });\n\n                            _iterator6.s();\n\n                          case 10:\n                            if ((_step6 = _iterator6.n()).done) {\n                              _context21.next = 14;\n                              break;\n                            }\n\n                            return _context21.delegateYield(_loop(), \"t0\", 12);\n\n                          case 12:\n                            _context21.next = 10;\n                            break;\n\n                          case 14:\n                            _context21.next = 19;\n                            break;\n\n                          case 16:\n                            _context21.prev = 16;\n                            _context21.t1 = _context21[\"catch\"](7);\n\n                            _iterator6.e(_context21.t1);\n\n                          case 19:\n                            _context21.prev = 19;\n\n                            _iterator6.f();\n\n                            return _context21.finish(19);\n\n                          case 22:\n                            if (_this12.dialect() === DIALECT.hive && (dataCatalogEntry.isArray() || dataCatalogEntry.isMap())) {\n                              // Remove 'item' or 'value' and 'key' for Hive\n                              columnSuggestions.pop();\n\n                              if (dataCatalogEntry.isMap()) {\n                                columnSuggestions.pop();\n                              }\n                            }\n\n                            complexExtras = sourceMeta.value && sourceMeta.value.fields || sourceMeta.item && sourceMeta.item.fields;\n\n                            if ((_this12.dialect() === DIALECT.impala || _this12.dialect() === DIALECT.hive) && complexExtras) {\n                              complexExtras.forEach(function (field) {\n                                var fieldType = field.type.indexOf('<') !== -1 ? field.type.substring(0, field.type.indexOf('<')) : field.type;\n                                columnSuggestions.push({\n                                  value: field.name,\n                                  meta: fieldType,\n                                  table: table,\n                                  category: CATEGORIES.COLUMN,\n                                  popular: ko.observable(false),\n                                  weightAdjust: types[0].toUpperCase() !== 'T' && types.some(function (type) {\n                                    return equalIgnoreCase(type, fieldType);\n                                  }) ? 1 : 0,\n                                  hasCatalogEntry: false,\n                                  details: field\n                                });\n                              });\n                            }\n\n                          case 25:\n                          case \"end\":\n                            return _context21.stop();\n                        }\n                      }\n                    }, _callee20, null, [[7, 16, 19, 22]]);\n                  }));\n\n                  return function addColumnsFromEntry(_x17) {\n                    return _ref4.apply(this, arguments);\n                  };\n                }();\n\n                suggestcolumns = this.parseResult.suggestColumns;\n                identifierChain = suggestcolumns && suggestcolumns.identifierChain || table.identifierChain;\n                _context22.prev = 15;\n                _context22.next = 18;\n                return this.fetchFieldForIdentifierChain(identifierChain);\n\n              case 18:\n                entry = _context22.sent;\n\n                if (!entry) {\n                  _context22.next = 22;\n                  break;\n                }\n\n                _context22.next = 22;\n                return addColumnsFromEntry(entry);\n\n              case 22:\n                _context22.next = 26;\n                break;\n\n              case 24:\n                _context22.prev = 24;\n                _context22.t0 = _context22[\"catch\"](15);\n\n              case 26:\n              case \"end\":\n                return _context22.stop();\n            }\n          }\n        }, _callee21, this, [[15, 24]]);\n      }));\n\n      function addColumns(_x14, _x15, _x16) {\n        return _addColumns.apply(this, arguments);\n      }\n\n      return addColumns;\n    }()\n  }, {\n    key: \"handleValues\",\n    value: function () {\n      var _handleValues = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee22(colRefPromise) {\n        var suggestValues, valueSuggestions, colRefResult, colRef, isString, startQuote, endQuote;\n        return regeneratorRuntime.wrap(function _callee22$(_context23) {\n          while (1) {\n            switch (_context23.prev = _context23.next) {\n              case 0:\n                suggestValues = this.parseResult.suggestValues;\n\n                if (suggestValues) {\n                  _context23.next = 3;\n                  break;\n                }\n\n                return _context23.abrupt(\"return\", []);\n\n              case 3:\n                valueSuggestions = [];\n                colRefResult = this.parseResult.colRef;\n\n                if (colRefResult && colRefResult.identifierChain) {\n                  valueSuggestions.push({\n                    value: '${' + colRefResult.identifierChain[colRefResult.identifierChain.length - 1].name + '}',\n                    meta: META_I18n.variable,\n                    category: CATEGORIES.VARIABLE,\n                    popular: ko.observable(false),\n                    details: null\n                  });\n                }\n\n                this.loadingValues(true);\n                _context23.next = 9;\n                return colRefPromise;\n\n              case 9:\n                colRef = _context23.sent;\n\n                if (colRef.sample) {\n                  isString = colRef.type === 'string';\n                  startQuote = suggestValues.partialQuote ? '' : \"'\";\n                  endQuote = typeof suggestValues.missingEndQuote !== 'undefined' && suggestValues.missingEndQuote === false ? '' : suggestValues.partialQuote || \"'\";\n                  colRef.sample.forEach(function (sample) {\n                    valueSuggestions.push({\n                      value: isString ? startQuote + sample + endQuote : String(sample),\n                      meta: META_I18n.sample,\n                      category: CATEGORIES.SAMPLE,\n                      popular: ko.observable(false),\n                      details: null\n                    });\n                  });\n                }\n\n                this.loadingValues(false);\n                return _context23.abrupt(\"return\", valueSuggestions);\n\n              case 13:\n              case \"end\":\n                return _context23.stop();\n            }\n          }\n        }, _callee22, this);\n      }));\n\n      function handleValues(_x18) {\n        return _handleValues.apply(this, arguments);\n      }\n\n      return handleValues;\n    }()\n  }, {\n    key: \"handlePaths\",\n    value: function () {\n      var _handlePaths = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee23() {\n        var _this13 = this;\n\n        var suggestHdfs, suggestions, path, fetchFunction, connector, rootPath, parts;\n        return regeneratorRuntime.wrap(function _callee23$(_context24) {\n          while (1) {\n            switch (_context24.prev = _context24.next) {\n              case 0:\n                suggestHdfs = this.parseResult.suggestHdfs;\n\n                if (suggestHdfs) {\n                  _context24.next = 3;\n                  break;\n                }\n\n                return _context24.abrupt(\"return\", []);\n\n              case 3:\n                this.loadingPaths(true);\n                suggestions = [];\n                path = suggestHdfs.path;\n\n                if (path === '') {\n                  suggestions = [{\n                    value: 'adl://',\n                    meta: META_I18n.keyword,\n                    category: CATEGORIES.KEYWORD,\n                    weightAdjust: 0,\n                    popular: ko.observable(false),\n                    details: null\n                  }, {\n                    value: 's3a://',\n                    meta: META_I18n.keyword,\n                    category: CATEGORIES.KEYWORD,\n                    weightAdjust: 0,\n                    popular: ko.observable(false),\n                    details: null\n                  }, {\n                    value: 'hdfs://',\n                    meta: META_I18n.keyword,\n                    category: CATEGORIES.KEYWORD,\n                    weightAdjust: 0,\n                    popular: ko.observable(false),\n                    details: null\n                  }, {\n                    value: 'abfs://',\n                    meta: META_I18n.keyword,\n                    category: CATEGORIES.KEYWORD,\n                    weightAdjust: 0,\n                    popular: ko.observable(false),\n                    details: null\n                  }, {\n                    value: '/',\n                    meta: META_I18n.dir,\n                    category: CATEGORIES.HDFS,\n                    popular: ko.observable(false),\n                    details: null\n                  }];\n                }\n\n                fetchFunction = 'fetchHdfsPath';\n\n                if (!/^s3a:\\/\\//i.test(path)) {\n                  _context24.next = 13;\n                  break;\n                }\n\n                fetchFunction = 'fetchS3Path';\n                path = path.substring(5);\n                _context24.next = 31;\n                break;\n\n              case 13:\n                if (!/^adl:\\/\\//i.test(path)) {\n                  _context24.next = 18;\n                  break;\n                }\n\n                fetchFunction = 'fetchAdlsPath';\n                path = path.substring(5);\n                _context24.next = 31;\n                break;\n\n              case 18:\n                if (!/^abfs:\\/\\//i.test(path)) {\n                  _context24.next = 30;\n                  break;\n                }\n\n                fetchFunction = 'fetchAbfsPath';\n                path = path.substring(6);\n\n                if (!(path === '/')) {\n                  _context24.next = 28;\n                  break;\n                }\n\n                // TODO: connector.id for browsers\n                connector = findBrowserConnector(function (connector) {\n                  return connector.type === 'abfs';\n                });\n                rootPath = getRootFilePath(connector);\n\n                if (!rootPath) {\n                  _context24.next = 28;\n                  break;\n                }\n\n                suggestions.push({\n                  value: rootPath,\n                  meta: 'abfs',\n                  category: CATEGORIES.HDFS,\n                  weightAdjust: 0,\n                  popular: ko.observable(false),\n                  details: null\n                });\n                this.loadingPaths(false);\n                return _context24.abrupt(\"return\", suggestions);\n\n              case 28:\n                _context24.next = 31;\n                break;\n\n              case 30:\n                if (/^hdfs:\\/\\//i.test(path)) {\n                  path = path.substring(6);\n                }\n\n              case 31:\n                parts = path.split('/'); // Drop the first \" or '\n\n                parts.shift(); // Last one is either partial name or empty\n\n                parts.pop();\n                _context24.next = 36;\n                return new Promise(function (resolve) {\n                  _this13.lastKnownRequests.push(apiHelper[fetchFunction]({\n                    pathParts: parts,\n                    successCallback: function successCallback(data) {\n                      if (!data.error) {\n                        data.files.forEach(function (file) {\n                          if (file.name !== '..' && file.name !== '.') {\n                            suggestions.push({\n                              value: path === '' ? '/' + file.name : file.name,\n                              meta: file.type,\n                              category: CATEGORIES.HDFS,\n                              popular: ko.observable(false),\n                              details: file\n                            });\n                          }\n                        });\n                      }\n\n                      resolve();\n                    },\n                    silenceErrors: true,\n                    errorCallback: resolve,\n                    timeout: AUTOCOMPLETE_TIMEOUT\n                  }));\n                });\n\n              case 36:\n                this.loadingPaths(false);\n                return _context24.abrupt(\"return\", suggestions);\n\n              case 38:\n              case \"end\":\n                return _context24.stop();\n            }\n          }\n        }, _callee23, this);\n      }));\n\n      function handlePaths() {\n        return _handlePaths.apply(this, arguments);\n      }\n\n      return handlePaths;\n    }()\n  }, {\n    key: \"tableIdentifierChainsToPaths\",\n    value: function tableIdentifierChainsToPaths(tables) {\n      var _this14 = this;\n\n      var paths = [];\n      tables.forEach(function (table) {\n        // Could be subquery\n        var isTable = table.identifierChain.every(function (identifier) {\n          return typeof identifier.name !== 'undefined';\n        });\n\n        if (isTable) {\n          var path = $.map(table.identifierChain, function (identifier) {\n            return identifier.name;\n          });\n\n          if (path.length === 1) {\n            path.unshift(_this14.activeDatabase);\n          }\n\n          paths.push(path);\n        }\n      });\n      return paths;\n    }\n  }, {\n    key: \"handleJoins\",\n    value: function () {\n      var _handleJoins = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee24() {\n        var _this15 = this;\n\n        var suggestJoins, sqlAnalyzer, paths, joinSuggestions, multiTableEntry, topJoins, totalCount;\n        return regeneratorRuntime.wrap(function _callee24$(_context25) {\n          while (1) {\n            switch (_context25.prev = _context25.next) {\n              case 0:\n                suggestJoins = this.parseResult.suggestJoins;\n\n                if (!(!window.HAS_SQL_ANALYZER || !suggestJoins)) {\n                  _context25.next = 3;\n                  break;\n                }\n\n                return _context25.abrupt(\"return\", []);\n\n              case 3:\n                this.loadingJoins(true);\n                sqlAnalyzer = sqlAnalyzerRepository.getSqlAnalyzer(this.snippet.connector());\n                paths = this.tableIdentifierChainsToPaths(suggestJoins.tables);\n\n                if (!(!sqlAnalyzer || !paths.length)) {\n                  _context25.next = 8;\n                  break;\n                }\n\n                return _context25.abrupt(\"return\", []);\n\n              case 8:\n                joinSuggestions = [];\n                _context25.prev = 9;\n                _context25.next = 12;\n                return new Promise(function (resolve, reject) {\n                  _this15.onCancelFunctions.push(reject);\n\n                  dataCatalog.getMultiTableEntry({\n                    namespace: _this15.snippet.namespace(),\n                    compute: _this15.snippet.compute(),\n                    connector: _this15.snippet.connector(),\n                    paths: paths\n                  }).then(resolve)[\"catch\"](reject);\n                });\n\n              case 12:\n                multiTableEntry = _context25.sent;\n                _context25.next = 15;\n                return new Promise(function (resolve, reject) {\n                  _this15.onCancelFunctions.push(reject);\n\n                  var topJoinsPromise = multiTableEntry.getTopJoins({\n                    cancellable: true,\n                    connector: _this15.snippet.connector(),\n                    silenceErrors: true,\n                    sqlAnalyzer: sqlAnalyzer\n                  });\n\n                  _this15.cancellablePromises.push(topJoinsPromise);\n\n                  topJoinsPromise.then(resolve)[\"catch\"](reject);\n                });\n\n              case 15:\n                topJoins = _context25.sent;\n                totalCount = 0;\n\n                if (topJoins.values) {\n                  topJoins.values.forEach(function (value) {\n                    var joinType = value.joinType || 'join';\n                    joinType += ' ';\n                    var suggestionString = suggestJoins.prependJoin ? _this15.parseResult.lowerCase ? joinType.toLowerCase() : joinType.toUpperCase() : '';\n                    var first = true;\n                    var existingTables = {};\n                    suggestJoins.tables.forEach(function (table) {\n                      existingTables[table.identifierChain[table.identifierChain.length - 1].name] = true;\n                    });\n                    var joinRequired = false;\n                    var tablesAdded = false;\n                    value.tables.forEach(function (table) {\n                      var tableParts = table.split('.');\n\n                      if (!existingTables[tableParts[tableParts.length - 1]]) {\n                        tablesAdded = true;\n\n                        var identifier = _this15.convertSqlAnalyzerQualifiedIdentifier(table, suggestJoins.tables);\n\n                        suggestionString += joinRequired ? (_this15.parseResult.lowerCase ? ' join ' : ' JOIN ') + identifier : identifier;\n                        joinRequired = true;\n                      }\n                    });\n\n                    if (value.joinCols.length > 0) {\n                      if (!tablesAdded && suggestJoins.prependJoin) {\n                        suggestionString = '';\n                        tablesAdded = true;\n                      }\n\n                      suggestionString += _this15.parseResult.lowerCase ? ' on ' : ' ON ';\n                    }\n\n                    if (tablesAdded) {\n                      value.joinCols.forEach(function (joinColPair) {\n                        if (!first) {\n                          suggestionString += _this15.parseResult.lowerCase ? ' and ' : ' AND ';\n                        }\n\n                        suggestionString += _this15.convertSqlAnalyzerQualifiedIdentifier(joinColPair.columns[0], suggestJoins.tables, _this15.dialect()) + ' = ' + _this15.convertSqlAnalyzerQualifiedIdentifier(joinColPair.columns[1], suggestJoins.tables, _this15.dialect());\n                        first = false;\n                      });\n                      totalCount += value.totalQueryCount;\n                      joinSuggestions.push({\n                        value: suggestionString,\n                        meta: META_I18n.join,\n                        category: suggestJoins.prependJoin ? CATEGORIES.POPULAR_JOIN : CATEGORIES.POPULAR_ACTIVE_JOIN,\n                        popular: ko.observable(true),\n                        details: value\n                      });\n                    }\n                  });\n                  joinSuggestions.forEach(function (suggestion) {\n                    suggestion.details.relativePopularity = totalCount === 0 ? suggestion.details.totalQueryCount : Math.round(100 * suggestion.details.totalQueryCount / totalCount);\n                    suggestion.weightAdjust = suggestion.details.relativePopularity + 1;\n                  });\n                }\n\n                _context25.next = 22;\n                break;\n\n              case 20:\n                _context25.prev = 20;\n                _context25.t0 = _context25[\"catch\"](9);\n\n              case 22:\n                this.loadingJoins(false);\n                return _context25.abrupt(\"return\", joinSuggestions);\n\n              case 24:\n              case \"end\":\n                return _context25.stop();\n            }\n          }\n        }, _callee24, this, [[9, 20]]);\n      }));\n\n      function handleJoins() {\n        return _handleJoins.apply(this, arguments);\n      }\n\n      return handleJoins;\n    }()\n  }, {\n    key: \"handleJoinConditions\",\n    value: function () {\n      var _handleJoinConditions = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee25() {\n        var _this16 = this;\n\n        var suggestJoinConditions, sqlAnalyzer, paths, joinConditionSuggestions, multiTableEntry, topJoins, totalCount;\n        return regeneratorRuntime.wrap(function _callee25$(_context26) {\n          while (1) {\n            switch (_context26.prev = _context26.next) {\n              case 0:\n                suggestJoinConditions = this.parseResult.suggestJoinConditions;\n\n                if (!(!window.HAS_SQL_ANALYZER || !suggestJoinConditions)) {\n                  _context26.next = 3;\n                  break;\n                }\n\n                return _context26.abrupt(\"return\", []);\n\n              case 3:\n                this.loadingJoinConditions(true);\n                sqlAnalyzer = sqlAnalyzerRepository.getSqlAnalyzer(this.snippet.connector());\n                paths = this.tableIdentifierChainsToPaths(suggestJoinConditions.tables);\n\n                if (!(!sqlAnalyzer || !paths.length)) {\n                  _context26.next = 8;\n                  break;\n                }\n\n                return _context26.abrupt(\"return\", []);\n\n              case 8:\n                joinConditionSuggestions = [];\n                _context26.prev = 9;\n                _context26.next = 12;\n                return new Promise(function (resolve, reject) {\n                  _this16.onCancelFunctions.push(reject);\n\n                  dataCatalog.getMultiTableEntry({\n                    namespace: _this16.snippet.namespace(),\n                    compute: _this16.snippet.compute(),\n                    connector: _this16.snippet.connector(),\n                    paths: paths\n                  }).then(resolve)[\"catch\"](reject);\n                });\n\n              case 12:\n                multiTableEntry = _context26.sent;\n                _context26.next = 15;\n                return new Promise(function (resolve, reject) {\n                  _this16.onCancelFunctions.push(reject);\n\n                  var topJoinsPromise = multiTableEntry.getTopJoins({\n                    cancellable: true,\n                    connector: _this16.snippet.connector(),\n                    silenceErrors: true,\n                    sqlAnalyzer: sqlAnalyzer\n                  });\n\n                  _this16.cancellablePromises.push(topJoinsPromise);\n\n                  topJoinsPromise.then(resolve)[\"catch\"](reject);\n                });\n\n              case 15:\n                topJoins = _context26.sent;\n                totalCount = 0;\n\n                if (topJoins.values) {\n                  topJoins.values.forEach(function (value) {\n                    if (value.joinCols.length > 0) {\n                      var suggestionString = suggestJoinConditions.prependOn ? _this16.parseResult.lowerCase ? 'on ' : 'ON ' : '';\n                      var first = true;\n                      value.joinCols.forEach(function (joinColPair) {\n                        if (!first) {\n                          suggestionString += _this16.parseResult.lowerCase ? ' and ' : ' AND ';\n                        }\n\n                        suggestionString += _this16.convertSqlAnalyzerQualifiedIdentifier(joinColPair.columns[0], suggestJoinConditions.tables) + ' = ' + _this16.convertSqlAnalyzerQualifiedIdentifier(joinColPair.columns[1], suggestJoinConditions.tables);\n                        first = false;\n                      });\n                      totalCount += value.totalQueryCount;\n                      joinConditionSuggestions.push({\n                        value: suggestionString,\n                        meta: META_I18n.joinCondition,\n                        category: CATEGORIES.POPULAR_JOIN_CONDITION,\n                        popular: ko.observable(true),\n                        details: value\n                      });\n                    }\n                  });\n                  joinConditionSuggestions.forEach(function (suggestion) {\n                    suggestion.details.relativePopularity = totalCount === 0 ? suggestion.details.totalQueryCount : Math.round(100 * suggestion.details.totalQueryCount / totalCount);\n                    suggestion.weightAdjust = suggestion.details.relativePopularity + 1;\n                  });\n                }\n\n                _context26.next = 22;\n                break;\n\n              case 20:\n                _context26.prev = 20;\n                _context26.t0 = _context26[\"catch\"](9);\n\n              case 22:\n                this.loadingJoinConditions(true);\n                return _context26.abrupt(\"return\", joinConditionSuggestions);\n\n              case 24:\n              case \"end\":\n                return _context26.stop();\n            }\n          }\n        }, _callee25, this, [[9, 20]]);\n      }));\n\n      function handleJoinConditions() {\n        return _handleJoinConditions.apply(this, arguments);\n      }\n\n      return handleJoinConditions;\n    }()\n  }, {\n    key: \"handleAggregateFunctions\",\n    value: function () {\n      var _handleAggregateFunctions = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee26() {\n        var _this17 = this;\n\n        var suggestAggregateFunctions, sqlAnalyzer, paths, aggregateFunctionsSuggestions, multiTableEntry, topAggs, substitutions, totalCount, _loop2, i;\n\n        return regeneratorRuntime.wrap(function _callee26$(_context28) {\n          while (1) {\n            switch (_context28.prev = _context28.next) {\n              case 0:\n                suggestAggregateFunctions = this.parseResult.suggestAggregateFunctions;\n\n                if (!(!window.HAS_SQL_ANALYZER || !suggestAggregateFunctions || !suggestAggregateFunctions.tables.length)) {\n                  _context28.next = 3;\n                  break;\n                }\n\n                return _context28.abrupt(\"return\", []);\n\n              case 3:\n                this.loadingAggregateFunctions(true);\n                sqlAnalyzer = sqlAnalyzerRepository.getSqlAnalyzer(this.snippet.connector());\n                paths = this.tableIdentifierChainsToPaths(suggestAggregateFunctions.tables);\n\n                if (!(!sqlAnalyzer || !paths.length)) {\n                  _context28.next = 8;\n                  break;\n                }\n\n                return _context28.abrupt(\"return\", []);\n\n              case 8:\n                aggregateFunctionsSuggestions = [];\n                _context28.prev = 9;\n                _context28.next = 12;\n                return new Promise(function (resolve, reject) {\n                  _this17.onCancelFunctions.push(reject);\n\n                  dataCatalog.getMultiTableEntry({\n                    namespace: _this17.snippet.namespace(),\n                    compute: _this17.snippet.compute(),\n                    connector: _this17.snippet.connector(),\n                    paths: paths\n                  }).then(resolve)[\"catch\"](reject);\n                });\n\n              case 12:\n                multiTableEntry = _context28.sent;\n                _context28.next = 15;\n                return new Promise(function (resolve, reject) {\n                  _this17.onCancelFunctions.push(reject);\n\n                  var topAggsPromise = multiTableEntry.getTopAggs({\n                    cancellable: true,\n                    connector: _this17.snippet.connector(),\n                    silenceErrors: true,\n                    sqlAnalyzer: sqlAnalyzer\n                  });\n\n                  _this17.cancellablePromises.push(topAggsPromise);\n\n                  topAggsPromise.then(resolve)[\"catch\"](reject);\n                });\n\n              case 15:\n                topAggs = _context28.sent;\n\n                if (!(!topAggs.values || !topAggs.values.length)) {\n                  _context28.next = 18;\n                  break;\n                }\n\n                return _context28.abrupt(\"return\");\n\n              case 18:\n                // Expand all column names to the fully qualified name including db and table.\n                topAggs.values.forEach(function (value) {\n                  value.aggregateInfo.forEach(function (info) {\n                    value.aggregateClause = value.aggregateClause.replace(new RegExp('([^.])' + info.columnName, 'gi'), '$1' + info.databaseName + '.' + info.tableName + '.' + info.columnName);\n                  });\n                }); // Substitute qualified table identifiers with either alias or table when multiple tables are present or just empty string\n\n                substitutions = [];\n                suggestAggregateFunctions.tables.forEach(function (table) {\n                  var replaceWith = table.alias ? table.alias + '.' : suggestAggregateFunctions.tables.length > 1 ? table.identifierChain[table.identifierChain.length - 1].name + '.' : '';\n\n                  if (table.identifierChain.length > 1) {\n                    substitutions.push({\n                      replace: new RegExp($.map(table.identifierChain, function (identifier) {\n                        return identifier.name;\n                      }).join('.') + '.', 'gi'),\n                      \"with\": replaceWith\n                    });\n                  } else if (table.identifierChain.length === 1) {\n                    substitutions.push({\n                      replace: new RegExp(_this17.activeDatabase + '.' + table.identifierChain[0].name + '.', 'gi'),\n                      \"with\": replaceWith\n                    });\n                    substitutions.push({\n                      replace: new RegExp(table.identifierChain[0].name + '.', 'gi'),\n                      \"with\": replaceWith\n                    });\n                  }\n                });\n                totalCount = 0;\n                _loop2 = /*#__PURE__*/regeneratorRuntime.mark(function _loop2(i) {\n                  var value, clean, foundUdfs;\n                  return regeneratorRuntime.wrap(function _loop2$(_context27) {\n                    while (1) {\n                      switch (_context27.prev = _context27.next) {\n                        case 0:\n                          value = topAggs.values[i];\n                          totalCount += value.totalQueryCount;\n                          clean = value.aggregateClause;\n                          substitutions.forEach(function (substitution) {\n                            clean = clean.replace(substitution.replace, substitution[\"with\"]);\n                          });\n                          _context27.next = 6;\n                          return findUdf(sqlReferenceRepository, _this17.snippet.connector(), value.aggregateFunction);\n\n                        case 6:\n                          foundUdfs = _context27.sent;\n                          // TODO: Support showing multiple UDFs with the same name but different category in the autocomplete details.\n                          // For instance, trunc appears both for dates with one description and for numbers with another description.\n                          value[\"function\"] = foundUdfs.length ? foundUdfs[0] : undefined;\n                          aggregateFunctionsSuggestions.push({\n                            value: clean,\n                            meta: value[\"function\"].returnTypes.join('|'),\n                            category: CATEGORIES.POPULAR_AGGREGATE,\n                            weightAdjust: Math.min(value.totalQueryCount, 99),\n                            popular: ko.observable(true),\n                            details: value\n                          });\n\n                        case 9:\n                        case \"end\":\n                          return _context27.stop();\n                      }\n                    }\n                  }, _loop2);\n                });\n                i = 0;\n\n              case 24:\n                if (!(i < topAggs.values.length)) {\n                  _context28.next = 29;\n                  break;\n                }\n\n                return _context28.delegateYield(_loop2(i), \"t0\", 26);\n\n              case 26:\n                i++;\n                _context28.next = 24;\n                break;\n\n              case 29:\n                aggregateFunctionsSuggestions.forEach(function (suggestion) {\n                  suggestion.details.relativePopularity = totalCount === 0 ? suggestion.details.totalQueryCount : Math.round(100 * suggestion.details.totalQueryCount / totalCount);\n                  suggestion.weightAdjust = suggestion.details.relativePopularity + 1;\n                });\n                _context28.next = 34;\n                break;\n\n              case 32:\n                _context28.prev = 32;\n                _context28.t1 = _context28[\"catch\"](9);\n\n              case 34:\n                this.loadingAggregateFunctions(false);\n                return _context28.abrupt(\"return\", aggregateFunctionsSuggestions);\n\n              case 36:\n              case \"end\":\n                return _context28.stop();\n            }\n          }\n        }, _callee26, this, [[9, 32]]);\n      }));\n\n      function handleAggregateFunctions() {\n        return _handleAggregateFunctions.apply(this, arguments);\n      }\n\n      return handleAggregateFunctions;\n    }()\n  }, {\n    key: \"handlePopularGroupByOrOrderBy\",\n    value: function () {\n      var _handlePopularGroupByOrOrderBy = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee27(sqlAnalyzerAttribute, suggestSpec, columnsPromise) {\n        var _this18 = this;\n\n        var paths, entries, totalColumnCount, matchedEntries, prefix, suggestions, columnSuggestions, suggestionIndex;\n        return regeneratorRuntime.wrap(function _callee27$(_context29) {\n          while (1) {\n            switch (_context29.prev = _context29.next) {\n              case 0:\n                paths = [];\n                suggestSpec.tables.forEach(function (table) {\n                  if (table.identifierChain) {\n                    if (table.identifierChain.length === 1 && table.identifierChain[0].name) {\n                      paths.push([_this18.activeDatabase, table.identifierChain[0].name]);\n                    } else if (table.identifierChain.length === 2 && table.identifierChain[0].name && table.identifierChain[1].name) {\n                      paths.push([table.identifierChain[0].name, table.identifierChain[1].name]);\n                    }\n                  }\n                });\n                _context29.prev = 2;\n                _context29.next = 5;\n                return new Promise(function (resolve, reject) {\n                  _this18.onCancelFunctions.push(reject);\n\n                  var sqlAnalyzer = sqlAnalyzerRepository.getSqlAnalyzer(_this18.snippet.connector());\n                  var popularityPromise = dataCatalog.getCatalog(_this18.snippet.connector()).loadSqlAnalyzerPopularityForTables({\n                    namespace: _this18.snippet.namespace(),\n                    compute: _this18.snippet.compute(),\n                    paths: paths,\n                    sqlAnalyzer: sqlAnalyzer,\n                    silenceErrors: true,\n                    cancellable: true\n                  });\n\n                  _this18.cancellablePromises.push(popularityPromise);\n\n                  popularityPromise.then(resolve)[\"catch\"](reject);\n                });\n\n              case 5:\n                entries = _context29.sent;\n                totalColumnCount = 0;\n                matchedEntries = [];\n                prefix = suggestSpec.prefix ? (this.parseResult.lowerCase ? suggestSpec.prefix.toLowerCase() : suggestSpec.prefix) + ' ' : '';\n                entries.forEach(function (entry) {\n                  if (entry.sqlAnalyzerPopularity[sqlAnalyzerAttribute]) {\n                    totalColumnCount += entry.sqlAnalyzerPopularity[sqlAnalyzerAttribute].columnCount;\n                    matchedEntries.push(entry);\n                  }\n                });\n\n                if (!(totalColumnCount > 0)) {\n                  _context29.next = 22;\n                  break;\n                }\n\n                suggestions = [];\n                matchedEntries.forEach(function (entry) {\n                  var filterValue = _this18.createSqlAnalyzerIdentifierForColumn(entry.sqlAnalyzerPopularity[sqlAnalyzerAttribute], suggestSpec.tables);\n\n                  suggestions.push({\n                    value: prefix + filterValue,\n                    filterValue: filterValue,\n                    meta: sqlAnalyzerAttribute === 'groupByColumn' ? META_I18n.groupBy : META_I18n.orderBy,\n                    category: sqlAnalyzerAttribute === 'groupByColumn' ? CATEGORIES.POPULAR_GROUP_BY : CATEGORIES.POPULAR_ORDER_BY,\n                    weightAdjust: Math.round(100 * entry.sqlAnalyzerPopularity[sqlAnalyzerAttribute].columnCount / totalColumnCount),\n                    popular: ko.observable(true),\n                    hasCatalogEntry: false,\n                    details: entry\n                  });\n                });\n\n                if (!(prefix === '' && suggestions.length)) {\n                  _context29.next = 21;\n                  break;\n                }\n\n                _context29.next = 16;\n                return columnsPromise;\n\n              case 16:\n                columnSuggestions = _context29.sent;\n                suggestionIndex = {};\n                suggestions.forEach(function (suggestion) {\n                  suggestionIndex[suggestion.value] = suggestion;\n                });\n                columnSuggestions.forEach(function (col) {\n                  if (suggestionIndex[col.details.name]) {\n                    col.category = suggestionIndex[col.details.name].category;\n                  }\n                });\n                return _context29.abrupt(\"return\", []);\n\n              case 21:\n                return _context29.abrupt(\"return\", suggestions);\n\n              case 22:\n                _context29.next = 26;\n                break;\n\n              case 24:\n                _context29.prev = 24;\n                _context29.t0 = _context29[\"catch\"](2);\n\n              case 26:\n                return _context29.abrupt(\"return\", []);\n\n              case 27:\n              case \"end\":\n                return _context29.stop();\n            }\n          }\n        }, _callee27, this, [[2, 24]]);\n      }));\n\n      function handlePopularGroupByOrOrderBy(_x19, _x20, _x21) {\n        return _handlePopularGroupByOrOrderBy.apply(this, arguments);\n      }\n\n      return handlePopularGroupByOrOrderBy;\n    }()\n  }, {\n    key: \"handleGroupBys\",\n    value: function () {\n      var _handleGroupBys = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee28(columnsPromise) {\n        var suggestGroupBys, suggestions;\n        return regeneratorRuntime.wrap(function _callee28$(_context30) {\n          while (1) {\n            switch (_context30.prev = _context30.next) {\n              case 0:\n                suggestGroupBys = this.parseResult.suggestGroupBys;\n\n                if (!(!window.HAS_SQL_ANALYZER || !suggestGroupBys)) {\n                  _context30.next = 3;\n                  break;\n                }\n\n                return _context30.abrupt(\"return\", []);\n\n              case 3:\n                this.loadingGroupBys(true);\n                _context30.next = 6;\n                return this.handlePopularGroupByOrOrderBy('groupByColumn', suggestGroupBys, columnsPromise);\n\n              case 6:\n                suggestions = _context30.sent;\n                this.loadingGroupBys(false);\n                return _context30.abrupt(\"return\", suggestions);\n\n              case 9:\n              case \"end\":\n                return _context30.stop();\n            }\n          }\n        }, _callee28, this);\n      }));\n\n      function handleGroupBys(_x22) {\n        return _handleGroupBys.apply(this, arguments);\n      }\n\n      return handleGroupBys;\n    }()\n  }, {\n    key: \"handleOrderBys\",\n    value: function () {\n      var _handleOrderBys = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee29(columnsDeferred) {\n        var suggestOrderBys, suggestions;\n        return regeneratorRuntime.wrap(function _callee29$(_context31) {\n          while (1) {\n            switch (_context31.prev = _context31.next) {\n              case 0:\n                suggestOrderBys = this.parseResult.suggestOrderBys;\n\n                if (!(!window.HAS_SQL_ANALYZER || !suggestOrderBys)) {\n                  _context31.next = 3;\n                  break;\n                }\n\n                return _context31.abrupt(\"return\", []);\n\n              case 3:\n                this.loadingOrderBys(true);\n                _context31.next = 6;\n                return this.handlePopularGroupByOrOrderBy('orderByColumn', suggestOrderBys, columnsDeferred);\n\n              case 6:\n                suggestions = _context31.sent;\n                this.loadingOrderBys(false);\n                return _context31.abrupt(\"return\", suggestions);\n\n              case 9:\n              case \"end\":\n                return _context31.stop();\n            }\n          }\n        }, _callee29, this);\n      }));\n\n      function handleOrderBys(_x23) {\n        return _handleOrderBys.apply(this, arguments);\n      }\n\n      return handleOrderBys;\n    }()\n  }, {\n    key: \"handleFilters\",\n    value: function () {\n      var _handleFilters = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee30() {\n        var _this19 = this;\n\n        var suggestFilters, sqlAnalyzer, paths, filterSuggestions, multiTableEntry, topFilters, totalCount;\n        return regeneratorRuntime.wrap(function _callee30$(_context32) {\n          while (1) {\n            switch (_context32.prev = _context32.next) {\n              case 0:\n                suggestFilters = this.parseResult.suggestFilters;\n\n                if (!(!window.HAS_SQL_ANALYZER || !suggestFilters)) {\n                  _context32.next = 3;\n                  break;\n                }\n\n                return _context32.abrupt(\"return\", []);\n\n              case 3:\n                this.loadingFilters(true);\n                sqlAnalyzer = sqlAnalyzerRepository.getSqlAnalyzer(this.snippet.connector());\n                paths = this.tableIdentifierChainsToPaths(suggestFilters.tables);\n\n                if (!(!sqlAnalyzer || !paths.length)) {\n                  _context32.next = 8;\n                  break;\n                }\n\n                return _context32.abrupt(\"return\", []);\n\n              case 8:\n                filterSuggestions = [];\n                _context32.prev = 9;\n                _context32.next = 12;\n                return new Promise(function (resolve, reject) {\n                  _this19.onCancelFunctions.push(reject);\n\n                  dataCatalog.getMultiTableEntry({\n                    namespace: _this19.snippet.namespace(),\n                    compute: _this19.snippet.compute(),\n                    connector: _this19.snippet.connector(),\n                    paths: paths\n                  }).then(resolve)[\"catch\"](reject);\n                });\n\n              case 12:\n                multiTableEntry = _context32.sent;\n                _context32.next = 15;\n                return new Promise(function (resolve, reject) {\n                  _this19.onCancelFunctions.push(reject);\n\n                  var topFiltersPromise = multiTableEntry.getTopFilters({\n                    cancellable: true,\n                    connector: _this19.snippet.connector(),\n                    silenceErrors: true,\n                    sqlAnalyzer: sqlAnalyzer\n                  });\n\n                  _this19.cancellablePromises.push(topFiltersPromise);\n\n                  topFiltersPromise.then(resolve)[\"catch\"](reject);\n                });\n\n              case 15:\n                topFilters = _context32.sent;\n                totalCount = 0;\n\n                if (topFilters.values) {\n                  topFilters.values.forEach(function (value) {\n                    if (typeof value.popularValues !== 'undefined' && value.popularValues.length > 0) {\n                      value.popularValues.forEach(function (popularValue) {\n                        if (typeof popularValue.group !== 'undefined') {\n                          popularValue.group.forEach(function (grp) {\n                            var compVal = suggestFilters.prefix ? (_this19.parseResult.lowerCase ? suggestFilters.prefix.toLowerCase() : suggestFilters.prefix) + ' ' : '';\n                            compVal += _this19.createSqlAnalyzerIdentifier(value.tableName, grp.columnName, suggestFilters.tables);\n\n                            if (!/^ /.test(grp.op)) {\n                              compVal += ' ';\n                            }\n\n                            compVal += _this19.parseResult.lowerCase ? grp.op.toLowerCase() : grp.op;\n\n                            if (!/ $/.test(grp.op)) {\n                              compVal += ' ';\n                            }\n\n                            compVal += grp.literal;\n                            totalCount += popularValue.count;\n                            filterSuggestions.push({\n                              value: compVal,\n                              meta: META_I18n.filter,\n                              category: CATEGORIES.POPULAR_FILTER,\n                              popular: ko.observable(true),\n                              details: popularValue\n                            });\n                          });\n                        }\n                      });\n                    }\n                  });\n                }\n\n                filterSuggestions.forEach(function (suggestion) {\n                  suggestion.details.relativePopularity = totalCount === 0 ? suggestion.details.count : Math.round(100 * suggestion.details.count / totalCount);\n                  suggestion.weightAdjust = suggestion.details.relativePopularity + 1;\n                });\n                _context32.next = 23;\n                break;\n\n              case 21:\n                _context32.prev = 21;\n                _context32.t0 = _context32[\"catch\"](9);\n\n              case 23:\n                this.loadingFilters(false);\n                return _context32.abrupt(\"return\", filterSuggestions);\n\n              case 25:\n              case \"end\":\n                return _context32.stop();\n            }\n          }\n        }, _callee30, this, [[9, 21]]);\n      }));\n\n      function handleFilters() {\n        return _handleFilters.apply(this, arguments);\n      }\n\n      return handleFilters;\n    }()\n  }, {\n    key: \"handlePopularTables\",\n    value: function () {\n      var _handlePopularTables = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee31(tablesPromise) {\n        var _this20 = this;\n\n        var suggestTables, db, entry, childEntries, totalPopularity, popularityIndex, tableSuggestions;\n        return regeneratorRuntime.wrap(function _callee31$(_context33) {\n          while (1) {\n            switch (_context33.prev = _context33.next) {\n              case 0:\n                suggestTables = this.parseResult.suggestTables;\n\n                if (!(!window.HAS_SQL_ANALYZER || !suggestTables)) {\n                  _context33.next = 3;\n                  break;\n                }\n\n                return _context33.abrupt(\"return\", []);\n\n              case 3:\n                this.loadingPopularTables(true);\n                db = suggestTables.identifierChain && suggestTables.identifierChain.length === 1 && suggestTables.identifierChain[0].name ? suggestTables.identifierChain[0].name : this.activeDatabase;\n                _context33.prev = 5;\n                _context33.next = 8;\n                return new Promise(function (resolve, reject) {\n                  _this20.onCancelFunctions.push(reject);\n\n                  dataCatalog.getEntry({\n                    namespace: _this20.snippet.namespace(),\n                    compute: _this20.snippet.compute(),\n                    connector: _this20.snippet.connector(),\n                    path: [db],\n                    temporaryOnly: _this20.temporaryOnly\n                  }).then(resolve)[\"catch\"](reject);\n                });\n\n              case 8:\n                entry = _context33.sent;\n                _context33.next = 11;\n                return new Promise(function (resolve, reject) {\n                  _this20.onCancelFunctions.push(reject);\n\n                  var sqlAnalyzer = sqlAnalyzerRepository.getSqlAnalyzer(entry.getConnector());\n                  var popularityPromise = entry.loadSqlAnalyzerPopularityForChildren({\n                    cancellable: true,\n                    silenceErrors: true,\n                    sqlAnalyzer: sqlAnalyzer\n                  });\n\n                  _this20.cancellablePromises.push(popularityPromise);\n\n                  popularityPromise.then(resolve)[\"catch\"](reject);\n                });\n\n              case 11:\n                childEntries = _context33.sent;\n                totalPopularity = 0;\n                popularityIndex = {};\n                childEntries.forEach(function (childEntry) {\n                  if (childEntry.sqlAnalyzerPopularity && childEntry.sqlAnalyzerPopularity.popularity) {\n                    popularityIndex[childEntry.name] = true;\n                    totalPopularity += childEntry.sqlAnalyzerPopularity.popularity;\n                  }\n                });\n\n                if (!(totalPopularity > 0 && Object.keys(popularityIndex).length)) {\n                  _context33.next = 20;\n                  break;\n                }\n\n                _context33.next = 18;\n                return tablesPromise;\n\n              case 18:\n                tableSuggestions = _context33.sent;\n                tableSuggestions.forEach(function (suggestion) {\n                  if (popularityIndex[suggestion.details.name]) {\n                    suggestion.relativePopularity = Math.round(100 * suggestion.details.sqlAnalyzerPopularity.popularity / totalPopularity);\n\n                    if (suggestion.relativePopularity >= 5) {\n                      suggestion.popular(true);\n                    }\n\n                    suggestion.weightAdjust = suggestion.relativePopularity;\n                  }\n                });\n\n              case 20:\n                _context33.next = 24;\n                break;\n\n              case 22:\n                _context33.prev = 22;\n                _context33.t0 = _context33[\"catch\"](5);\n\n              case 24:\n                this.loadingPopularTables(false);\n                return _context33.abrupt(\"return\", []);\n\n              case 26:\n              case \"end\":\n                return _context33.stop();\n            }\n          }\n        }, _callee31, this, [[5, 22]]);\n      }));\n\n      function handlePopularTables(_x24) {\n        return _handlePopularTables.apply(this, arguments);\n      }\n\n      return handlePopularTables;\n    }()\n  }, {\n    key: \"handlePopularColumns\",\n    value: function () {\n      var _handlePopularColumns = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee32(columnsPromise) {\n        var _this21 = this;\n\n        var suggestColumns, columnSuggestions, paths, popularEntries, valueAttribute, popularityIndex, totalColumnCount, matchedSuggestions;\n        return regeneratorRuntime.wrap(function _callee32$(_context34) {\n          while (1) {\n            switch (_context34.prev = _context34.next) {\n              case 0:\n                suggestColumns = this.parseResult.suggestColumns;\n\n                if (!(!window.HAS_SQL_ANALYZER || !suggestColumns || !suggestColumns.source)) {\n                  _context34.next = 3;\n                  break;\n                }\n\n                return _context34.abrupt(\"return\", []);\n\n              case 3:\n                columnSuggestions = [];\n                _context34.prev = 4;\n                _context34.next = 7;\n                return columnsPromise;\n\n              case 7:\n                columnSuggestions = _context34.sent;\n                _context34.next = 12;\n                break;\n\n              case 10:\n                _context34.prev = 10;\n                _context34.t0 = _context34[\"catch\"](4);\n\n              case 12:\n                if (columnSuggestions.length) {\n                  _context34.next = 14;\n                  break;\n                }\n\n                return _context34.abrupt(\"return\", []);\n\n              case 14:\n                this.loadingPopularColumns(true);\n                _context34.prev = 15;\n                paths = [];\n                suggestColumns.tables.forEach(function (table) {\n                  if (table.identifierChain && table.identifierChain.length > 0) {\n                    if (table.identifierChain.length === 1 && table.identifierChain[0].name) {\n                      paths.push([_this21.activeDatabase, table.identifierChain[0].name]);\n                    } else if (table.identifierChain.length === 2 && table.identifierChain[0].name && table.identifierChain[1].name) {\n                      paths.push([table.identifierChain[0].name, table.identifierChain[1].name]);\n                    }\n                  }\n                });\n                _context34.next = 20;\n                return new Promise(function (resolve, reject) {\n                  _this21.onCancelFunctions.push(reject);\n\n                  var sqlAnalyzer = sqlAnalyzerRepository.getSqlAnalyzer(_this21.snippet.connector());\n                  var popularityPromise = dataCatalog.getCatalog(_this21.snippet.connector()).loadSqlAnalyzerPopularityForTables({\n                    namespace: _this21.snippet.namespace(),\n                    compute: _this21.snippet.compute(),\n                    paths: paths,\n                    sqlAnalyzer: sqlAnalyzer,\n                    silenceErrors: true,\n                    cancellable: true\n                  });\n\n                  _this21.cancellablePromises.push(popularityPromise);\n\n                  popularityPromise.then(resolve)[\"catch\"](reject);\n                });\n\n              case 20:\n                popularEntries = _context34.sent;\n                valueAttribute = '';\n                _context34.t1 = suggestColumns.source;\n                _context34.next = _context34.t1 === 'select' ? 25 : _context34.t1 === 'group by' ? 27 : _context34.t1 === 'order by' ? 29 : 30;\n                break;\n\n              case 25:\n                valueAttribute = 'selectColumn';\n                return _context34.abrupt(\"break\", 30);\n\n              case 27:\n                valueAttribute = 'groupByColumn';\n                return _context34.abrupt(\"break\", 30);\n\n              case 29:\n                valueAttribute = 'orderByColumn';\n\n              case 30:\n                popularityIndex = {};\n                popularEntries.forEach(function (popularEntry) {\n                  if (popularEntry.sqlAnalyzerPopularity && popularEntry.sqlAnalyzerPopularity[valueAttribute]) {\n                    popularityIndex[popularEntry.getQualifiedPath()] = true;\n                  }\n                });\n\n                if (!(!valueAttribute || Object.keys(popularityIndex).length === 0)) {\n                  _context34.next = 34;\n                  break;\n                }\n\n                return _context34.abrupt(\"return\", []);\n\n              case 34:\n                totalColumnCount = 0;\n                matchedSuggestions = [];\n                columnSuggestions.forEach(function (suggestion) {\n                  if (suggestion.hasCatalogEntry && popularityIndex[suggestion.details.getQualifiedPath()]) {\n                    matchedSuggestions.push(suggestion);\n                    totalColumnCount += suggestion.details.sqlAnalyzerPopularity[valueAttribute].columnCount;\n                  }\n                });\n\n                if (totalColumnCount > 0) {\n                  matchedSuggestions.forEach(function (matchedSuggestion) {\n                    matchedSuggestion.relativePopularity = Math.round(100 * matchedSuggestion.details.sqlAnalyzerPopularity[valueAttribute].columnCount / totalColumnCount);\n\n                    if (matchedSuggestion.relativePopularity >= 5) {\n                      matchedSuggestion.popular(true);\n                    }\n\n                    matchedSuggestion.weightAdjust = matchedSuggestion.relativePopularity;\n                  });\n                }\n\n                _context34.next = 42;\n                break;\n\n              case 40:\n                _context34.prev = 40;\n                _context34.t2 = _context34[\"catch\"](15);\n\n              case 42:\n                this.loadingPopularColumns(false);\n                return _context34.abrupt(\"return\", []);\n\n              case 44:\n              case \"end\":\n                return _context34.stop();\n            }\n          }\n        }, _callee32, this, [[4, 10], [15, 40]]);\n      }));\n\n      function handlePopularColumns(_x25) {\n        return _handlePopularColumns.apply(this, arguments);\n      }\n\n      return handlePopularColumns;\n    }()\n  }, {\n    key: \"createSqlAnalyzerIdentifier\",\n    value: function createSqlAnalyzerIdentifier(sqlAnalyzerTableName, sqlAnalyzerColumnName, tables) {\n      var path = sqlAnalyzerTableName + '.' + sqlAnalyzerColumnName.split('.').pop();\n\n      for (var i = 0; i < tables.length; i++) {\n        var tablePath = '';\n\n        if (tables[i].identifierChain.length === 2) {\n          tablePath = $.map(tables[i].identifierChain, function (identifier) {\n            return identifier.name;\n          }).join('.');\n        } else if (tables[i].identifierChain.length === 1) {\n          tablePath = this.activeDatabase + '.' + tables[i].identifierChain[0].name;\n        }\n\n        if (path.indexOf(tablePath) === 0) {\n          path = path.substring(tablePath.length + 1);\n\n          if (tables[i].alias) {\n            path = tables[i].alias + '.' + path;\n          } else if (tables.length > 0) {\n            path = tables[i].identifierChain[tables[i].identifierChain.length - 1].name + '.' + path;\n          }\n\n          break;\n        }\n      }\n\n      return path;\n    }\n  }, {\n    key: \"createSqlAnalyzerIdentifierForColumn\",\n    value: function createSqlAnalyzerIdentifierForColumn(sqlAnalyzerColumn, tables) {\n      for (var i = 0; i < tables.length; i++) {\n        if (sqlAnalyzerColumn.dbName && (sqlAnalyzerColumn.dbName !== this.activeDatabase || sqlAnalyzerColumn.dbName !== tables[i].identifierChain[0].name)) {\n          continue;\n        }\n\n        if (sqlAnalyzerColumn.tableName && equalIgnoreCase(sqlAnalyzerColumn.tableName, tables[i].identifierChain[tables[i].identifierChain.length - 1].name) && tables[i].alias) {\n          return tables[i].alias + '.' + sqlAnalyzerColumn.columnName;\n        }\n      }\n\n      if (sqlAnalyzerColumn.dbName && sqlAnalyzerColumn.dbName !== this.activeDatabase) {\n        return sqlAnalyzerColumn.dbName + '.' + sqlAnalyzerColumn.tableName + '.' + sqlAnalyzerColumn.columnName;\n      }\n\n      if (tables.length > 1) {\n        return sqlAnalyzerColumn.tableName + '.' + sqlAnalyzerColumn.columnName;\n      }\n\n      return sqlAnalyzerColumn.columnName;\n    }\n  }, {\n    key: \"convertSqlAnalyzerQualifiedIdentifier\",\n    value: function convertSqlAnalyzerQualifiedIdentifier(qualifiedIdentifier, tables, type) {\n      var _this22 = this;\n\n      var aliases = [];\n      var tablesHasDefaultDatabase = false;\n      tables.forEach(function (table) {\n        tablesHasDefaultDatabase = tablesHasDefaultDatabase || equalIgnoreCase(table.identifierChain[0].name.toLowerCase(), _this22.activeDatabase.toLowerCase());\n\n        if (table.alias) {\n          aliases.push({\n            qualifiedName: $.map(table.identifierChain, function (identifier) {\n              return identifier.name;\n            }).join('.').toLowerCase(),\n            alias: table.alias\n          });\n        }\n      });\n\n      for (var i = 0; i < aliases.length; i++) {\n        if (qualifiedIdentifier.toLowerCase().indexOf(aliases[i].qualifiedName) === 0) {\n          return aliases[i].alias + qualifiedIdentifier.substring(aliases[i].qualifiedName.length);\n        } else if (qualifiedIdentifier.toLowerCase().indexOf(this.activeDatabase.toLowerCase() + '.' + aliases[i].qualifiedName) === 0) {\n          return aliases[i].alias + qualifiedIdentifier.substring((this.activeDatabase + '.' + aliases[i].qualifiedName).length);\n        }\n      }\n\n      if (qualifiedIdentifier.toLowerCase().indexOf(this.activeDatabase.toLowerCase()) === 0 && !tablesHasDefaultDatabase) {\n        return qualifiedIdentifier.substring(this.activeDatabase.length + 1);\n      }\n\n      if (type === 'hive') {\n        // Remove DB reference if given for Hive\n        var parts = qualifiedIdentifier.split('.');\n\n        if (parts.length > 2) {\n          return parts.slice(1).join('.');\n        }\n      }\n\n      return qualifiedIdentifier;\n    }\n    /**\n     * Helper function to fetch columns/fields given an identifierChain, this also takes care of expanding arrays\n     * and maps to match the required format for the API.\n     *\n     * @param originalIdentifierChain\n     */\n\n  }, {\n    key: \"fetchFieldForIdentifierChain\",\n    value: function () {\n      var _fetchFieldForIdentifierChain = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee34(originalIdentifierChain) {\n        var _this23 = this;\n\n        var path, i, fetchFieldRecursive, catalogEntry, databaseEntries, firstIsDb;\n        return regeneratorRuntime.wrap(function _callee34$(_context36) {\n          while (1) {\n            switch (_context36.prev = _context36.next) {\n              case 0:\n                path = [];\n                i = 0;\n\n              case 2:\n                if (!(i < originalIdentifierChain.length)) {\n                  _context36.next = 11;\n                  break;\n                }\n\n                if (!(originalIdentifierChain[i].name && !originalIdentifierChain[i].subQuery)) {\n                  _context36.next = 7;\n                  break;\n                }\n\n                path.push(originalIdentifierChain[i].name);\n                _context36.next = 8;\n                break;\n\n              case 7:\n                return _context36.abrupt(\"return\");\n\n              case 8:\n                i++;\n                _context36.next = 2;\n                break;\n\n              case 11:\n                fetchFieldRecursive = /*#__PURE__*/function () {\n                  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee33(remainingPath, fetchedPath) {\n                    var catalogEntry, sourceMeta;\n                    return regeneratorRuntime.wrap(function _callee33$(_context35) {\n                      while (1) {\n                        switch (_context35.prev = _context35.next) {\n                          case 0:\n                            if (!fetchedPath) {\n                              fetchedPath = [];\n                            }\n\n                            if (remainingPath.length > 0) {\n                              fetchedPath.push(remainingPath.shift()); // Parser sometimes knows if it's a map or array.\n\n                              if (remainingPath.length > 0 && (remainingPath[0] === 'item' || remainingPath[0].name === 'value')) {\n                                fetchedPath.push(remainingPath.shift());\n                              }\n                            }\n\n                            _context35.next = 4;\n                            return new Promise(function (resolve, reject) {\n                              _this23.onCancelFunctions.push(reject);\n\n                              dataCatalog.getEntry({\n                                namespace: _this23.snippet.namespace(),\n                                compute: _this23.snippet.compute(),\n                                connector: _this23.snippet.connector(),\n                                path: fetchedPath,\n                                temporaryOnly: _this23.temporaryOnly\n                              }).then(resolve)[\"catch\"](reject);\n                            });\n\n                          case 4:\n                            catalogEntry = _context35.sent;\n                            _context35.next = 7;\n                            return new Promise(function (resolve, reject) {\n                              _this23.onCancelFunctions.push(reject);\n\n                              var sourceMetaPromise = catalogEntry.getSourceMeta({\n                                silenceErrors: true,\n                                cancellable: true\n                              });\n\n                              _this23.cancellablePromises.push(sourceMetaPromise);\n\n                              sourceMetaPromise.then(resolve)[\"catch\"](reject);\n                            });\n\n                          case 7:\n                            sourceMeta = _context35.sent;\n\n                            if (_this23.dialect() === DIALECT.hive && typeof sourceMeta.extended_columns !== 'undefined' && sourceMeta.extended_columns.length === 1 && /^(?:map|array|struct)/i.test(sourceMeta.extended_columns[0].type)) {\n                              remainingPath.unshift(sourceMeta.extended_columns[0].name);\n                            }\n\n                            if (!remainingPath.length) {\n                              _context35.next = 16;\n                              break;\n                            }\n\n                            if (/value|item|key/i.test(remainingPath[0])) {\n                              fetchedPath.push(remainingPath.shift());\n                            } else if (sourceMeta.type === 'array') {\n                              fetchedPath.push('item');\n                            } else if (sourceMeta.type === 'map') {\n                              fetchedPath.push('value');\n                            }\n\n                            _context35.next = 13;\n                            return fetchFieldRecursive(remainingPath, fetchedPath);\n\n                          case 13:\n                            return _context35.abrupt(\"return\", _context35.sent);\n\n                          case 16:\n                            return _context35.abrupt(\"return\", catalogEntry);\n\n                          case 17:\n                          case \"end\":\n                            return _context35.stop();\n                        }\n                      }\n                    }, _callee33);\n                  }));\n\n                  return function fetchFieldRecursive(_x27, _x28) {\n                    return _ref5.apply(this, arguments);\n                  };\n                }(); // For Impala the first parts of the identifier chain could be either database or table, either:\n                // SELECT | FROM database.table -or- SELECT | FROM table.column\n                // For Hive it could be either:\n                // SELECT col.struct FROM db.tbl -or- SELECT col.struct FROM tbl\n\n\n                if (!(path.length > 1 && (this.dialect() === DIALECT.impala || this.dialect() === DIALECT.hive))) {\n                  _context36.next = 23;\n                  break;\n                }\n\n                _context36.next = 15;\n                return new Promise(function (resolve, reject) {\n                  _this23.onCancelFunctions.push(reject);\n\n                  dataCatalog.getEntry({\n                    namespace: _this23.snippet.namespace(),\n                    compute: _this23.snippet.compute(),\n                    connector: _this23.snippet.connector(),\n                    path: [],\n                    temporaryOnly: _this23.temporaryOnly\n                  }).then(resolve)[\"catch\"](reject);\n                });\n\n              case 15:\n                catalogEntry = _context36.sent;\n                _context36.next = 18;\n                return new Promise(function (resolve, reject) {\n                  _this23.onCancelFunctions.push(reject);\n\n                  var childrenPromise = catalogEntry.getChildren({\n                    silenceErrors: true,\n                    cancellable: true\n                  });\n\n                  _this23.cancellablePromises.push(childrenPromise);\n\n                  childrenPromise.then(resolve)[\"catch\"](reject);\n                });\n\n              case 18:\n                databaseEntries = _context36.sent;\n                firstIsDb = databaseEntries.some(function (dbEntry) {\n                  return equalIgnoreCase(dbEntry.name, path[0]);\n                });\n\n                if (!firstIsDb) {\n                  path.unshift(this.activeDatabase);\n                }\n\n                _context36.next = 24;\n                break;\n\n              case 23:\n                if (path.length <= 1) {\n                  path.unshift(this.activeDatabase);\n                }\n\n              case 24:\n                _context36.next = 26;\n                return fetchFieldRecursive(path);\n\n              case 26:\n                return _context36.abrupt(\"return\", _context36.sent);\n\n              case 27:\n              case \"end\":\n                return _context36.stop();\n            }\n          }\n        }, _callee34, this);\n      }));\n\n      function fetchFieldForIdentifierChain(_x26) {\n        return _fetchFieldForIdentifierChain.apply(this, arguments);\n      }\n\n      return fetchFieldForIdentifierChain;\n    }()\n  }], [{\n    key: \"mergeColumns\",\n    value: function mergeColumns(columnSuggestions) {\n      columnSuggestions.sort(function (a, b) {\n        return a.value.localeCompare(b.value);\n      });\n\n      for (var i = 0; i < columnSuggestions.length; i++) {\n        var suggestion = columnSuggestions[i];\n        suggestion.isColumn = true;\n        var hasDuplicates = false;\n\n        for (i; i + 1 < columnSuggestions.length && columnSuggestions[i + 1].value === suggestion.value; i++) {\n          var nextTable = columnSuggestions[i + 1].table;\n\n          if (typeof nextTable.alias !== 'undefined') {\n            columnSuggestions[i + 1].value = nextTable.alias + '.' + columnSuggestions[i + 1].value;\n          } else if (typeof nextTable.identifierChain !== 'undefined' && nextTable.identifierChain.length > 0) {\n            var previousIdentifier = nextTable.identifierChain[nextTable.identifierChain.length - 1];\n\n            if (typeof previousIdentifier.name !== 'undefined') {\n              columnSuggestions[i + 1].value = previousIdentifier.name + '.' + columnSuggestions[i + 1].value;\n            } else if (typeof previousIdentifier.subQuery !== 'undefined') {\n              columnSuggestions[i + 1].value = previousIdentifier.subQuery + '.' + columnSuggestions[i + 1].value;\n            }\n          }\n\n          hasDuplicates = true;\n        }\n\n        if (typeof suggestion.table.alias !== 'undefined') {\n          suggestion.value = suggestion.table.alias + '.' + suggestion.value;\n        } else if (hasDuplicates && typeof suggestion.table.identifierChain !== 'undefined' && suggestion.table.identifierChain.length > 0) {\n          var lastIdentifier = suggestion.table.identifierChain[suggestion.table.identifierChain.length - 1];\n\n          if (typeof lastIdentifier.name !== 'undefined') {\n            suggestion.value = lastIdentifier.name + '.' + suggestion.value;\n          } else if (typeof lastIdentifier.subQuery !== 'undefined') {\n            suggestion.value = lastIdentifier.subQuery + '.' + suggestion.value;\n          }\n        }\n      }\n    }\n  }]);\n\n  return AutocompleteResults;\n}();\n\nexport default AutocompleteResults;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport localForage from 'localforage';\nvar GLOBAL_UDF_CACHE_KEY = 'HUE_GLOBAL_UDF_KEY';\nvar VERSION = '0';\n\nvar getStore = function getStore(connector) {\n  return localForage.createInstance({\n    name: \"HueUdfCatalog_\".concat(VERSION, \"_\").concat(connector.id)\n  });\n};\n\nexport var clearUdfCache = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(connector) {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return getStore(connector).clear();\n\n          case 2:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function clearUdfCache(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var getCachedUdfCategories = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(connector, database) {\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return getStore(connector).getItem(database || GLOBAL_UDF_CACHE_KEY);\n\n          case 2:\n            return _context2.abrupt(\"return\", _context2.sent);\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function getCachedUdfCategories(_x2, _x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var setCachedUdfCategories = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(connector, database, categories) {\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return getStore(connector).setItem(database || GLOBAL_UDF_CACHE_KEY, categories);\n\n          case 2:\n            return _context3.abrupt(\"return\", _context3.sent);\n\n          case 3:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function setCachedUdfCategories(_x4, _x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _wrapRegExp() { _wrapRegExp = function _wrapRegExp(re, groups) { return new BabelRegExp(re, undefined, groups); }; var _super = RegExp.prototype; var _groups = new WeakMap(); function BabelRegExp(re, flags, groups) { var _this = new RegExp(re, flags); _groups.set(_this, groups || _groups.get(re)); return _setPrototypeOf(_this, BabelRegExp.prototype); } _inherits(BabelRegExp, RegExp); BabelRegExp.prototype.exec = function (str) { var result = _super.exec.call(this, str); if (result) result.groups = buildGroups(result, this); return result; }; BabelRegExp.prototype[Symbol.replace] = function (str, substitution) { if (typeof substitution === \"string\") { var groups = _groups.get(this); return _super[Symbol.replace].call(this, str, substitution.replace(/\\$<([^>]+)>/g, function (_, name) { return \"$\" + groups[name]; })); } else if (typeof substitution === \"function\") { var _this = this; return _super[Symbol.replace].call(this, str, function () { var args = arguments; if (_typeof(args[args.length - 1]) !== \"object\") { args = [].slice.call(args); args.push(buildGroups(args, _this)); } return substitution.apply(this, args); }); } else { return _super[Symbol.replace].call(this, str, substitution); } }; function buildGroups(result, re) { var g = _groups.get(re); return Object.keys(g).reduce(function (groups, name) { groups[name] = result[g[name]]; return groups; }, Object.create(null)); } return _wrapRegExp.apply(this, arguments); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { post } from 'api/utils';\nimport { AUTOCOMPLETE_API_PREFIX } from \"../../api/urls\";\nimport I18n from \"../../utils/i18n\";\nvar FUNCTION_OPERATION = 'function';\nvar FUNCTIONS_OPERATION = 'functions';\nvar DEFAULT_DESCRIPTION = I18n('No description available.');\nvar DEFAULT_RETURN_TYPES = ['T'];\nvar DEFAULT_ARGUMENTS = [[{\n  type: 'T',\n  multiple: true\n}]];\nvar SIGNATURE_REGEX = /([a-z]+(?:\\.{3})?)/gi;\n\nvar TYPE_REGEX = /*#__PURE__*/_wrapRegExp(/([a-z]+)(\\.{3})?/i, {\n  type: 1,\n  multiple: 2\n});\n\nvar stripPrecision = function stripPrecision(typeString) {\n  return typeString.replace(/\\(\\*(,\\*)?\\)/g, '');\n};\n\nvar adaptApiUdf = function adaptApiUdf(apiUdf) {\n  var signature = apiUdf.name + '()';\n  return {\n    name: apiUdf.name,\n    returnTypes: extractReturnTypes(apiUdf),\n    arguments: extractArgumentTypes(apiUdf),\n    signature: signature,\n    draggable: signature,\n    description: DEFAULT_DESCRIPTION,\n    described: false\n  };\n};\n\nvar extractReturnTypes = function extractReturnTypes(apiUdf) {\n  return apiUdf.return_type ? [stripPrecision(apiUdf.return_type)] : DEFAULT_RETURN_TYPES;\n};\n\nexport var extractArgumentTypes = function extractArgumentTypes(apiUdf) {\n  if (apiUdf.signature) {\n    var cleanSignature = stripPrecision(apiUdf.signature);\n\n    if (cleanSignature === '()') {\n      return [];\n    }\n\n    var match = cleanSignature.match(SIGNATURE_REGEX);\n\n    if (match) {\n      return match.map(function (argString) {\n        var typeMatch = argString.match(TYPE_REGEX);\n\n        if (typeMatch && typeMatch.groups) {\n          var arg = {\n            type: typeMatch.groups.type\n          };\n\n          if (typeMatch.groups.multiple) {\n            arg.multiple = true;\n          }\n\n          return [arg];\n        } else {\n          return [];\n        }\n      });\n    }\n  }\n\n  return DEFAULT_ARGUMENTS;\n};\nexport var mergeArgumentTypes = function mergeArgumentTypes(target, additional) {\n  for (var i = 0; i < target.length; i++) {\n    var _target$i;\n\n    if (i >= additional.length) {\n      break;\n    }\n\n    if (target[i][0].type === 'T') {\n      continue;\n    }\n\n    if (additional[i][0].type === 'T') {\n      target[i] = additional[i];\n      continue;\n    }\n\n    (_target$i = target[i]).push.apply(_target$i, _toConsumableArray(additional[i]));\n  }\n};\nexport var adaptApiFunctions = function adaptApiFunctions(functions) {\n  var udfs = [];\n  var adapted = {};\n  functions.forEach(function (apiUdf) {\n    if (adapted[apiUdf.name]) {\n      var adaptedUdf = adapted[apiUdf.name];\n      var additionalArgs = extractArgumentTypes(apiUdf);\n      mergeArgumentTypes(adaptedUdf.arguments, additionalArgs);\n\n      if (adaptedUdf.returnTypes[0] !== 'T') {\n        var additionalReturnTypes = extractReturnTypes(apiUdf);\n\n        if (additionalReturnTypes[0] !== 'T') {\n          var _adaptedUdf$returnTyp;\n\n          (_adaptedUdf$returnTyp = adaptedUdf.returnTypes).push.apply(_adaptedUdf$returnTyp, _toConsumableArray(additionalReturnTypes));\n        } else {\n          adaptedUdf.returnTypes = additionalReturnTypes;\n        }\n      } // Make sure the return types are unique\n\n\n      adaptedUdf.returnTypes = _toConsumableArray(new Set(adaptedUdf.returnTypes));\n    } else {\n      adapted[apiUdf.name] = adaptApiUdf(apiUdf);\n      udfs.push(adapted[apiUdf.name]);\n    }\n  });\n  return udfs;\n};\n\nvar createUrl = function createUrl(database, udf) {\n  if (database && udf) {\n    return \"\".concat(AUTOCOMPLETE_API_PREFIX).concat(database, \"/\").concat(udf.name);\n  }\n\n  if (database) {\n    return \"\".concat(AUTOCOMPLETE_API_PREFIX).concat(database, \"/\");\n  }\n\n  if (udf) {\n    return \"\".concat(AUTOCOMPLETE_API_PREFIX).concat(udf.name);\n  }\n\n  return AUTOCOMPLETE_API_PREFIX;\n};\n\nvar createRequestData = function createRequestData(connector, operation) {\n  return {\n    notebook: {},\n    snippet: JSON.stringify({\n      type: connector.id\n    }),\n    operation: operation\n  };\n};\n\nexport var fetchUdfs = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(connector, database) {\n    var silenceErrors,\n        url,\n        data,\n        response,\n        _args = arguments;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            silenceErrors = _args.length > 2 && _args[2] !== undefined ? _args[2] : true;\n            url = createUrl(database);\n            data = createRequestData(connector, FUNCTIONS_OPERATION);\n            _context.prev = 3;\n            _context.next = 6;\n            return post(url, data, {\n              silenceErrors: silenceErrors\n            });\n\n          case 6:\n            response = _context.sent;\n\n            if (!(response !== null && response !== void 0 && response.functions)) {\n              _context.next = 9;\n              break;\n            }\n\n            return _context.abrupt(\"return\", adaptApiFunctions(response.functions));\n\n          case 9:\n            _context.next = 13;\n            break;\n\n          case 11:\n            _context.prev = 11;\n            _context.t0 = _context[\"catch\"](3);\n\n          case 13:\n            return _context.abrupt(\"return\", []);\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[3, 11]]);\n  }));\n\n  return function fetchUdfs(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var fetchDescribe = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(connector, udf, database) {\n    var silenceErrors,\n        url,\n        data,\n        response,\n        _args2 = arguments;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            silenceErrors = _args2.length > 3 && _args2[3] !== undefined ? _args2[3] : true;\n            url = createUrl(database, udf);\n            data = createRequestData(connector, FUNCTION_OPERATION);\n            _context2.prev = 3;\n            _context2.next = 6;\n            return post(url, data, {\n              silenceErrors: silenceErrors\n            });\n\n          case 6:\n            response = _context2.sent;\n\n            if (!(response !== null && response !== void 0 && response[\"function\"])) {\n              _context2.next = 9;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", response[\"function\"]);\n\n          case 9:\n            _context2.next = 13;\n            break;\n\n          case 11:\n            _context2.prev = 11;\n            _context2.t0 = _context2[\"catch\"](3);\n\n          case 13:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[3, 11]]);\n  }));\n\n  return function fetchDescribe(_x3, _x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}();","// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nexport var TYPE_CONVERSION = {\n  BOOLEAN: {\n    BOOLEAN: true,\n    TIMESTAMP: false,\n    TINYINT: false,\n    SMALLINT: false,\n    INT: false,\n    BIGINT: false,\n    DOUBLE: false,\n    REAL: false,\n    DECIMAL: false,\n    FLOAT: false,\n    NUMBER: false,\n    CHAR: false,\n    VARCHAR: false,\n    STRING: false,\n    T: true\n  },\n  TIMESTAMP: {\n    BOOLEAN: false,\n    TIMESTAMP: true,\n    TINYINT: false,\n    SMALLINT: false,\n    INT: false,\n    BIGINT: false,\n    DOUBLE: false,\n    REAL: false,\n    DECIMAL: false,\n    FLOAT: false,\n    NUMBER: false,\n    CHAR: false,\n    VARCHAR: false,\n    STRING: true,\n    T: true\n  },\n  TINYINT: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    TINYINT: true,\n    SMALLINT: false,\n    INT: false,\n    BIGINT: false,\n    DOUBLE: false,\n    REAL: false,\n    DECIMAL: false,\n    FLOAT: false,\n    NUMBER: true,\n    CHAR: false,\n    VARCHAR: false,\n    STRING: false,\n    T: true\n  },\n  SMALLINT: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    TINYINT: true,\n    SMALLINT: true,\n    INT: false,\n    BIGINT: false,\n    DOUBLE: false,\n    REAL: false,\n    DECIMAL: false,\n    FLOAT: false,\n    NUMBER: true,\n    CHAR: false,\n    VARCHAR: false,\n    STRING: false,\n    T: true\n  },\n  INT: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    TINYINT: true,\n    SMALLINT: true,\n    INT: true,\n    BIGINT: false,\n    DOUBLE: false,\n    REAL: false,\n    DECIMAL: false,\n    FLOAT: false,\n    NUMBER: true,\n    CHAR: false,\n    VARCHAR: false,\n    STRING: false,\n    T: true\n  },\n  BIGINT: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    TINYINT: true,\n    SMALLINT: true,\n    INT: true,\n    BIGINT: true,\n    DOUBLE: false,\n    REAL: false,\n    DECIMAL: false,\n    FLOAT: false,\n    NUMBER: true,\n    CHAR: false,\n    VARCHAR: false,\n    STRING: false,\n    T: true\n  },\n  DOUBLE: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    TINYINT: true,\n    SMALLINT: true,\n    INT: true,\n    BIGINT: true,\n    DOUBLE: true,\n    REAL: true,\n    DECIMAL: false,\n    FLOAT: true,\n    NUMBER: true,\n    CHAR: false,\n    VARCHAR: false,\n    STRING: false,\n    T: true\n  },\n  REAL: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    TINYINT: true,\n    SMALLINT: true,\n    INT: true,\n    BIGINT: true,\n    DOUBLE: true,\n    REAL: true,\n    DECIMAL: false,\n    FLOAT: true,\n    NUMBER: true,\n    CHAR: false,\n    VARCHAR: false,\n    STRING: false,\n    T: true\n  },\n  DECIMAL: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    TINYINT: true,\n    SMALLINT: true,\n    INT: true,\n    BIGINT: true,\n    DOUBLE: true,\n    REAL: true,\n    DECIMAL: true,\n    FLOAT: true,\n    NUMBER: true,\n    CHAR: false,\n    VARCHAR: false,\n    STRING: false,\n    T: true\n  },\n  FLOAT: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    TINYINT: true,\n    SMALLINT: true,\n    INT: true,\n    BIGINT: true,\n    DOUBLE: false,\n    REAL: false,\n    DECIMAL: false,\n    FLOAT: true,\n    NUMBER: true,\n    CHAR: false,\n    VARCHAR: false,\n    STRING: false,\n    T: true\n  },\n  NUMBER: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    TINYINT: true,\n    SMALLINT: true,\n    INT: true,\n    BIGINT: true,\n    DOUBLE: true,\n    REAL: true,\n    DECIMAL: true,\n    FLOAT: true,\n    NUMBER: true,\n    CHAR: false,\n    VARCHAR: false,\n    STRING: false,\n    T: true\n  },\n  CHAR: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    TINYINT: false,\n    SMALLINT: false,\n    INT: false,\n    BIGINT: false,\n    DOUBLE: false,\n    REAL: false,\n    DECIMAL: false,\n    FLOAT: false,\n    NUMBER: false,\n    CHAR: true,\n    VARCHAR: false,\n    STRING: false,\n    T: true\n  },\n  VARCHAR: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    TINYINT: false,\n    SMALLINT: false,\n    INT: false,\n    BIGINT: false,\n    DOUBLE: false,\n    REAL: false,\n    DECIMAL: false,\n    FLOAT: false,\n    NUMBER: false,\n    CHAR: true,\n    VARCHAR: true,\n    STRING: false,\n    T: true\n  },\n  STRING: {\n    BOOLEAN: false,\n    TIMESTAMP: true,\n    TINYINT: false,\n    SMALLINT: false,\n    INT: false,\n    BIGINT: false,\n    DOUBLE: false,\n    REAL: false,\n    DECIMAL: false,\n    FLOAT: false,\n    NUMBER: false,\n    CHAR: true,\n    VARCHAR: false,\n    STRING: true,\n    T: true\n  },\n  T: {\n    BOOLEAN: true,\n    TIMESTAMP: true,\n    TINYINT: true,\n    SMALLINT: true,\n    INT: true,\n    BIGINT: true,\n    DOUBLE: true,\n    REAL: true,\n    DECIMAL: true,\n    FLOAT: true,\n    NUMBER: true,\n    CHAR: true,\n    VARCHAR: true,\n    STRING: true,\n    T: true\n  }\n};","// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nexport var TYPE_CONVERSION = {\n  BOOLEAN: {\n    BOOLEAN: true,\n    TIMESTAMP: false,\n    DATE: false,\n    BINARY: false,\n    TINYINT: false,\n    SMALLINT: false,\n    INT: false,\n    INTEGER: false,\n    BIGINT: false,\n    FLOAT: false,\n    DOUBLE: false,\n    DECIMAL: false,\n    NUMBER: false,\n    STRING: false,\n    CHAR: false,\n    VARCHAR: false,\n    T: true\n  },\n  TIMESTAMP: {\n    BOOLEAN: false,\n    TIMESTAMP: true,\n    DATE: false,\n    BINARY: false,\n    TINYINT: false,\n    SMALLINT: false,\n    INT: false,\n    INTEGER: false,\n    BIGINT: false,\n    FLOAT: false,\n    DOUBLE: false,\n    DECIMAL: false,\n    NUMBER: false,\n    STRING: false,\n    CHAR: false,\n    VARCHAR: false,\n    T: true\n  },\n  DATE: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    DATE: true,\n    BINARY: false,\n    TINYINT: false,\n    SMALLINT: false,\n    INT: false,\n    INTEGER: false,\n    BIGINT: false,\n    FLOAT: false,\n    DOUBLE: false,\n    DECIMAL: false,\n    NUMBER: false,\n    STRING: false,\n    CHAR: false,\n    VARCHAR: false,\n    T: true\n  },\n  BINARY: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    DATE: false,\n    BINARY: true,\n    TINYINT: false,\n    SMALLINT: false,\n    INT: false,\n    INTEGER: false,\n    BIGINT: false,\n    FLOAT: false,\n    DOUBLE: false,\n    DECIMAL: false,\n    NUMBER: false,\n    STRING: false,\n    CHAR: false,\n    VARCHAR: false,\n    T: true\n  },\n  TINYINT: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    DATE: false,\n    BINARY: false,\n    TINYINT: true,\n    SMALLINT: false,\n    INT: false,\n    INTEGER: false,\n    BIGINT: false,\n    FLOAT: false,\n    DOUBLE: false,\n    DECIMAL: false,\n    NUMBER: true,\n    STRING: false,\n    CHAR: false,\n    VARCHAR: false,\n    T: true\n  },\n  SMALLINT: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    DATE: false,\n    BINARY: false,\n    TINYINT: true,\n    SMALLINT: true,\n    INT: false,\n    INTEGER: false,\n    BIGINT: false,\n    FLOAT: false,\n    DOUBLE: false,\n    DECIMAL: false,\n    NUMBER: true,\n    STRING: false,\n    CHAR: false,\n    VARCHAR: false,\n    T: true\n  },\n  INT: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    DATE: false,\n    BINARY: false,\n    TINYINT: true,\n    SMALLINT: true,\n    INT: true,\n    INTEGER: true,\n    BIGINT: false,\n    FLOAT: false,\n    DOUBLE: false,\n    DECIMAL: false,\n    NUMBER: true,\n    STRING: false,\n    CHAR: false,\n    VARCHAR: false,\n    T: true\n  },\n  BIGINT: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    DATE: false,\n    BINARY: false,\n    TINYINT: true,\n    SMALLINT: true,\n    INT: true,\n    INTEGER: true,\n    BIGINT: true,\n    FLOAT: false,\n    DOUBLE: false,\n    DECIMAL: false,\n    NUMBER: true,\n    STRING: false,\n    CHAR: false,\n    VARCHAR: false,\n    T: true\n  },\n  FLOAT: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    DATE: false,\n    BINARY: false,\n    TINYINT: true,\n    SMALLINT: true,\n    INT: true,\n    INTEGER: true,\n    BIGINT: true,\n    FLOAT: true,\n    DOUBLE: false,\n    DECIMAL: false,\n    NUMBER: true,\n    STRING: false,\n    CHAR: false,\n    VARCHAR: false,\n    T: true\n  },\n  DOUBLE: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    DATE: false,\n    BINARY: false,\n    TINYINT: true,\n    SMALLINT: true,\n    INT: true,\n    INTEGER: true,\n    BIGINT: true,\n    FLOAT: true,\n    DOUBLE: true,\n    DECIMAL: false,\n    NUMBER: true,\n    STRING: true,\n    CHAR: true,\n    VARCHAR: true,\n    T: true\n  },\n  DECIMAL: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    DATE: false,\n    BINARY: false,\n    TINYINT: true,\n    SMALLINT: true,\n    INT: true,\n    INTEGER: true,\n    BIGINT: true,\n    FLOAT: true,\n    DOUBLE: true,\n    DECIMAL: true,\n    NUMBER: true,\n    STRING: true,\n    CHAR: true,\n    VARCHAR: true,\n    T: true\n  },\n  NUMBER: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    DATE: false,\n    BINARY: false,\n    TINYINT: true,\n    SMALLINT: true,\n    INT: true,\n    INTEGER: true,\n    BIGINT: true,\n    FLOAT: true,\n    DOUBLE: true,\n    DECIMAL: true,\n    NUMBER: true,\n    STRING: true,\n    CHAR: true,\n    VARCHAR: true,\n    T: true\n  },\n  STRING: {\n    BOOLEAN: false,\n    TIMESTAMP: true,\n    DATE: true,\n    BINARY: false,\n    TINYINT: true,\n    SMALLINT: true,\n    INT: true,\n    INTEGER: true,\n    BIGINT: true,\n    FLOAT: true,\n    DOUBLE: true,\n    DECIMAL: true,\n    NUMBER: true,\n    STRING: true,\n    CHAR: true,\n    VARCHAR: true,\n    T: true\n  },\n  CHAR: {\n    BOOLEAN: false,\n    TIMESTAMP: true,\n    DATE: true,\n    BINARY: false,\n    TINYINT: true,\n    SMALLINT: true,\n    INT: true,\n    INTEGER: true,\n    BIGINT: true,\n    FLOAT: true,\n    DOUBLE: true,\n    DECIMAL: true,\n    NUMBER: true,\n    STRING: true,\n    CHAR: true,\n    VARCHAR: true,\n    T: true\n  },\n  VARCHAR: {\n    BOOLEAN: false,\n    TIMESTAMP: true,\n    DATE: true,\n    BINARY: false,\n    TINYINT: true,\n    SMALLINT: true,\n    INT: true,\n    INTEGER: true,\n    BIGINT: true,\n    FLOAT: true,\n    DOUBLE: true,\n    DECIMAL: true,\n    NUMBER: true,\n    STRING: true,\n    CHAR: true,\n    VARCHAR: true,\n    T: true\n  },\n  T: {\n    BOOLEAN: true,\n    TIMESTAMP: true,\n    DATE: true,\n    BINARY: true,\n    TINYINT: true,\n    SMALLINT: true,\n    INT: true,\n    INTEGER: true,\n    BIGINT: true,\n    FLOAT: true,\n    DOUBLE: true,\n    DECIMAL: true,\n    NUMBER: true,\n    STRING: true,\n    CHAR: true,\n    VARCHAR: true,\n    T: true\n  }\n};","// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nexport var TYPE_CONVERSION = {\n  BOOLEAN: {\n    BOOLEAN: true,\n    TIMESTAMP: false,\n    TINYINT: false,\n    SMALLINT: false,\n    INT: false,\n    BIGINT: false,\n    DOUBLE: false,\n    REAL: false,\n    DECIMAL: false,\n    FLOAT: false,\n    NUMBER: false,\n    CHAR: false,\n    VARCHAR: false,\n    STRING: false,\n    T: true\n  },\n  TIMESTAMP: {\n    BOOLEAN: false,\n    TIMESTAMP: true,\n    TINYINT: false,\n    SMALLINT: false,\n    INT: false,\n    BIGINT: false,\n    DOUBLE: false,\n    REAL: false,\n    DECIMAL: false,\n    FLOAT: false,\n    NUMBER: false,\n    CHAR: false,\n    VARCHAR: false,\n    STRING: true,\n    T: true\n  },\n  TINYINT: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    TINYINT: true,\n    SMALLINT: false,\n    INT: false,\n    BIGINT: false,\n    DOUBLE: false,\n    REAL: false,\n    DECIMAL: false,\n    FLOAT: false,\n    NUMBER: true,\n    CHAR: false,\n    VARCHAR: false,\n    STRING: false,\n    T: true\n  },\n  SMALLINT: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    TINYINT: true,\n    SMALLINT: true,\n    INT: false,\n    BIGINT: false,\n    DOUBLE: false,\n    REAL: false,\n    DECIMAL: false,\n    FLOAT: false,\n    NUMBER: true,\n    CHAR: false,\n    VARCHAR: false,\n    STRING: false,\n    T: true\n  },\n  INT: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    TINYINT: true,\n    SMALLINT: true,\n    INT: true,\n    BIGINT: false,\n    DOUBLE: false,\n    REAL: false,\n    DECIMAL: false,\n    FLOAT: false,\n    NUMBER: true,\n    CHAR: false,\n    VARCHAR: false,\n    STRING: false,\n    T: true\n  },\n  BIGINT: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    TINYINT: true,\n    SMALLINT: true,\n    INT: true,\n    BIGINT: true,\n    DOUBLE: false,\n    REAL: false,\n    DECIMAL: false,\n    FLOAT: false,\n    NUMBER: true,\n    CHAR: false,\n    VARCHAR: false,\n    STRING: false,\n    T: true\n  },\n  DOUBLE: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    TINYINT: true,\n    SMALLINT: true,\n    INT: true,\n    BIGINT: true,\n    DOUBLE: true,\n    REAL: true,\n    DECIMAL: false,\n    FLOAT: true,\n    NUMBER: true,\n    CHAR: false,\n    VARCHAR: false,\n    STRING: false,\n    T: true\n  },\n  REAL: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    TINYINT: true,\n    SMALLINT: true,\n    INT: true,\n    BIGINT: true,\n    DOUBLE: true,\n    REAL: true,\n    DECIMAL: false,\n    FLOAT: true,\n    NUMBER: true,\n    CHAR: false,\n    VARCHAR: false,\n    STRING: false,\n    T: true\n  },\n  DECIMAL: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    TINYINT: true,\n    SMALLINT: true,\n    INT: true,\n    BIGINT: true,\n    DOUBLE: true,\n    REAL: true,\n    DECIMAL: true,\n    FLOAT: true,\n    NUMBER: true,\n    CHAR: false,\n    VARCHAR: false,\n    STRING: false,\n    T: true\n  },\n  FLOAT: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    TINYINT: true,\n    SMALLINT: true,\n    INT: true,\n    BIGINT: true,\n    DOUBLE: false,\n    REAL: false,\n    DECIMAL: false,\n    FLOAT: true,\n    NUMBER: true,\n    CHAR: false,\n    VARCHAR: false,\n    STRING: false,\n    T: true\n  },\n  NUMBER: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    TINYINT: true,\n    SMALLINT: true,\n    INT: true,\n    BIGINT: true,\n    DOUBLE: true,\n    REAL: true,\n    DECIMAL: true,\n    FLOAT: true,\n    NUMBER: true,\n    CHAR: false,\n    VARCHAR: false,\n    STRING: false,\n    T: true\n  },\n  CHAR: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    TINYINT: false,\n    SMALLINT: false,\n    INT: false,\n    BIGINT: false,\n    DOUBLE: false,\n    REAL: false,\n    DECIMAL: false,\n    FLOAT: false,\n    NUMBER: false,\n    CHAR: true,\n    VARCHAR: false,\n    STRING: false,\n    T: true\n  },\n  VARCHAR: {\n    BOOLEAN: false,\n    TIMESTAMP: false,\n    TINYINT: false,\n    SMALLINT: false,\n    INT: false,\n    BIGINT: false,\n    DOUBLE: false,\n    REAL: false,\n    DECIMAL: false,\n    FLOAT: false,\n    NUMBER: false,\n    CHAR: true,\n    VARCHAR: true,\n    STRING: false,\n    T: true\n  },\n  STRING: {\n    BOOLEAN: false,\n    TIMESTAMP: true,\n    TINYINT: false,\n    SMALLINT: false,\n    INT: false,\n    BIGINT: false,\n    DOUBLE: false,\n    REAL: false,\n    DECIMAL: false,\n    FLOAT: false,\n    NUMBER: false,\n    CHAR: true,\n    VARCHAR: false,\n    STRING: true,\n    T: true\n  },\n  T: {\n    BOOLEAN: true,\n    TIMESTAMP: true,\n    TINYINT: true,\n    SMALLINT: true,\n    INT: true,\n    BIGINT: true,\n    DOUBLE: true,\n    REAL: true,\n    DECIMAL: true,\n    FLOAT: true,\n    NUMBER: true,\n    CHAR: true,\n    VARCHAR: true,\n    STRING: true,\n    T: true\n  }\n};","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar GENERIC = 'generic';\nvar EMPTY_KEYWORDS = new Set();\nvar KEYWORD_REFS = {\n  calcite: function () {\n    var _calcite = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              return _context.abrupt(\"return\", import(\n              /* webpackChunkName: \"calcite-ref\" */\n              \"./calcite/reservedKeywords\"));\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function calcite() {\n      return _calcite.apply(this, arguments);\n    }\n\n    return calcite;\n  }(),\n  generic: function () {\n    var _generic = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              return _context2.abrupt(\"return\", import(\n              /* webpackChunkName: \"generic-ref\" */\n              \"./generic/reservedKeywords\"));\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    function generic() {\n      return _generic.apply(this, arguments);\n    }\n\n    return generic;\n  }(),\n  hive: function () {\n    var _hive = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              return _context3.abrupt(\"return\", import(\n              /* webpackChunkName: \"hive-ref\" */\n              \"./hive/reservedKeywords\"));\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    function hive() {\n      return _hive.apply(this, arguments);\n    }\n\n    return hive;\n  }(),\n  impala: function () {\n    var _impala = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              return _context4.abrupt(\"return\", import(\n              /* webpackChunkName: \"impala-ref\" */\n              \"./impala/reservedKeywords\"));\n\n            case 1:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    function impala() {\n      return _impala.apply(this, arguments);\n    }\n\n    return impala;\n  }(),\n  postgresql: function () {\n    var _postgresql = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n      return regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              return _context5.abrupt(\"return\", import(\n              /* webpackChunkName: \"generic-ref\" */\n              \"./postgresql/reservedKeywords\"));\n\n            case 1:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    function postgresql() {\n      return _postgresql.apply(this, arguments);\n    }\n\n    return postgresql;\n  }(),\n  presto: function () {\n    var _presto = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n      return regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              return _context6.abrupt(\"return\", import(\n              /* webpackChunkName: \"generic-ref\" */\n              \"./presto/reservedKeywords\"));\n\n            case 1:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n\n    function presto() {\n      return _presto.apply(this, arguments);\n    }\n\n    return presto;\n  }(),\n  flink: function () {\n    var _flink = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n      return regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              return _context7.abrupt(\"return\", import(\n              /* webpackChunkName: \"flink-ref\" */\n              \"./flink/reservedKeywords\"));\n\n            case 1:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n\n    function flink() {\n      return _flink.apply(this, arguments);\n    }\n\n    return flink;\n  }()\n};\nvar SET_REFS = {\n  impala: function () {\n    var _impala2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8() {\n      return regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              return _context8.abrupt(\"return\", import(\n              /* webpackChunkName: \"impala-ref\" */\n              \"./impala/setReference\"));\n\n            case 1:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8);\n    }));\n\n    function impala() {\n      return _impala2.apply(this, arguments);\n    }\n\n    return impala;\n  }()\n};\nvar UDF_REFS = {\n  generic: function () {\n    var _generic2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee9() {\n      return regeneratorRuntime.wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              return _context9.abrupt(\"return\", import(\n              /* webpackChunkName: \"generic-ref\" */\n              \"./generic/udfReference\"));\n\n            case 1:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, _callee9);\n    }));\n\n    function generic() {\n      return _generic2.apply(this, arguments);\n    }\n\n    return generic;\n  }(),\n  hive: function () {\n    var _hive2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee10() {\n      return regeneratorRuntime.wrap(function _callee10$(_context10) {\n        while (1) {\n          switch (_context10.prev = _context10.next) {\n            case 0:\n              return _context10.abrupt(\"return\", import(\n              /* webpackChunkName: \"hive-ref\" */\n              \"./hive/udfReference\"));\n\n            case 1:\n            case \"end\":\n              return _context10.stop();\n          }\n        }\n      }, _callee10);\n    }));\n\n    function hive() {\n      return _hive2.apply(this, arguments);\n    }\n\n    return hive;\n  }(),\n  impala: function () {\n    var _impala3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee11() {\n      return regeneratorRuntime.wrap(function _callee11$(_context11) {\n        while (1) {\n          switch (_context11.prev = _context11.next) {\n            case 0:\n              return _context11.abrupt(\"return\", import(\n              /* webpackChunkName: \"impala-ref\" */\n              \"./impala/udfReference\"));\n\n            case 1:\n            case \"end\":\n              return _context11.stop();\n          }\n        }\n      }, _callee11);\n    }));\n\n    function impala() {\n      return _impala3.apply(this, arguments);\n    }\n\n    return impala;\n  }(),\n  pig: function () {\n    var _pig = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee12() {\n      return regeneratorRuntime.wrap(function _callee12$(_context12) {\n        while (1) {\n          switch (_context12.prev = _context12.next) {\n            case 0:\n              return _context12.abrupt(\"return\", import(\n              /* webpackChunkName: \"pig-ref\" */\n              \"./pig/udfReference\"));\n\n            case 1:\n            case \"end\":\n              return _context12.stop();\n          }\n        }\n      }, _callee12);\n    }));\n\n    function pig() {\n      return _pig.apply(this, arguments);\n    }\n\n    return pig;\n  }(),\n  flink: function () {\n    var _flink2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee13() {\n      return regeneratorRuntime.wrap(function _callee13$(_context13) {\n        while (1) {\n          switch (_context13.prev = _context13.next) {\n            case 0:\n              return _context13.abrupt(\"return\", import(\n              /* webpackChunkName: \"flink-ref\" */\n              \"./flink/udfReference\"));\n\n            case 1:\n            case \"end\":\n              return _context13.stop();\n          }\n        }\n      }, _callee13);\n    }));\n\n    function flink() {\n      return _flink2.apply(this, arguments);\n    }\n\n    return flink;\n  }()\n};\nexport var SqlReferenceRepository = /*#__PURE__*/function () {\n  function SqlReferenceRepository() {\n    _classCallCheck(this, SqlReferenceRepository);\n  }\n\n  _createClass(SqlReferenceRepository, [{\n    key: \"getReservedKeywords\",\n    value: function () {\n      var _getReservedKeywords = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee14(dialect) {\n        var refImport, module;\n        return regeneratorRuntime.wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                refImport = KEYWORD_REFS[dialect] || KEYWORD_REFS[GENERIC];\n                _context14.next = 3;\n                return refImport();\n\n              case 3:\n                module = _context14.sent;\n                return _context14.abrupt(\"return\", module.RESERVED_WORDS || EMPTY_KEYWORDS);\n\n              case 5:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee14);\n      }));\n\n      function getReservedKeywords(_x) {\n        return _getReservedKeywords.apply(this, arguments);\n      }\n\n      return getReservedKeywords;\n    }()\n  }, {\n    key: \"getSetOptions\",\n    value: function () {\n      var _getSetOptions = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee15(dialect) {\n        var module;\n        return regeneratorRuntime.wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                if (!SET_REFS[dialect]) {\n                  _context15.next = 5;\n                  break;\n                }\n\n                _context15.next = 3;\n                return SET_REFS[dialect]();\n\n              case 3:\n                module = _context15.sent;\n                return _context15.abrupt(\"return\", module.SET_OPTIONS || {});\n\n              case 5:\n                return _context15.abrupt(\"return\", {});\n\n              case 6:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15);\n      }));\n\n      function getSetOptions(_x2) {\n        return _getSetOptions.apply(this, arguments);\n      }\n\n      return getSetOptions;\n    }()\n  }, {\n    key: \"getUdfCategories\",\n    value: function () {\n      var _getUdfCategories = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee16(dialect) {\n        var refImport, module;\n        return regeneratorRuntime.wrap(function _callee16$(_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                refImport = UDF_REFS[dialect] || UDF_REFS[GENERIC];\n                _context16.next = 3;\n                return refImport();\n\n              case 3:\n                module = _context16.sent;\n                return _context16.abrupt(\"return\", module.UDF_CATEGORIES || []);\n\n              case 5:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee16);\n      }));\n\n      function getUdfCategories(_x3) {\n        return _getUdfCategories.apply(this, arguments);\n      }\n\n      return getUdfCategories;\n    }()\n  }, {\n    key: \"hasUdfCategories\",\n    value: function hasUdfCategories(dialect) {\n      return !!UDF_REFS[dialect];\n    }\n  }]);\n\n  return SqlReferenceRepository;\n}();\nvar sqlReferenceRepository = new SqlReferenceRepository();\nexport default sqlReferenceRepository;","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { matchesType } from \"./typeUtils\";\nimport I18n from \"../../utils/i18n\";\nimport huePubSub from 'utils/huePubSub';\nimport { clearUdfCache, getCachedUdfCategories, setCachedUdfCategories } from \"./apiCache\";\nimport { fetchDescribe, fetchUdfs } from \"./apiUtils\";\nexport var CLEAR_UDF_CACHE_EVENT = 'hue.clear.udf.cache';\nexport var DESCRIBE_UDF_EVENT = 'hue.describe.udf';\nexport var UDF_DESCRIBED_EVENT = 'hue.udf.described';\nvar IGNORED_UDF_REGEX = /^[!=$%&*+-/<>^|~]+$/;\nvar mergedUdfPromises = {};\n\nvar getMergedUdfKey = function getMergedUdfKey(connector, database) {\n  var key = connector.id;\n\n  if (database) {\n    key += '_' + database;\n  }\n\n  return key;\n};\n\nvar findUdfsToAdd = function findUdfsToAdd(apiUdfs, existingCategories) {\n  var existingUdfNames = new Set();\n  existingCategories.forEach(function (category) {\n    Object.keys(category.functions).forEach(function (udfName) {\n      existingUdfNames.add(udfName.toUpperCase());\n    });\n  });\n  var result = {};\n  apiUdfs.forEach(function (apiUdf) {\n    if (!result[apiUdf.name] && !existingUdfNames.has(apiUdf.name.toUpperCase()) && !IGNORED_UDF_REGEX.test(apiUdf.name)) {\n      result[apiUdf.name] = apiUdf;\n    }\n  });\n  return result;\n};\n\nvar mergeWithApiUdfs = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(categories, connector, database) {\n    var apiUdfs, additionalUdfs, generalCategory;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return fetchUdfs(connector, database);\n\n          case 2:\n            apiUdfs = _context.sent;\n\n            if (apiUdfs.length) {\n              additionalUdfs = findUdfsToAdd(apiUdfs, categories);\n\n              if (Object.keys(additionalUdfs).length) {\n                generalCategory = {\n                  name: I18n('General'),\n                  functions: additionalUdfs\n                };\n                categories.unshift(generalCategory);\n              }\n            }\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function mergeWithApiUdfs(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexport var getUdfCategories = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(sqlReferenceProvider, connector, database) {\n    var promiseKey;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            promiseKey = getMergedUdfKey(connector, database);\n\n            if (!mergedUdfPromises[promiseKey]) {\n              mergedUdfPromises[promiseKey] = new Promise( /*#__PURE__*/function () {\n                var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(resolve) {\n                  var cachedCategories, categories;\n                  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          _context2.next = 2;\n                          return getCachedUdfCategories(connector, database);\n\n                        case 2:\n                          cachedCategories = _context2.sent;\n\n                          if (cachedCategories) {\n                            resolve(cachedCategories);\n                          }\n\n                          categories = [];\n\n                          if (!(connector.dialect && sqlReferenceProvider.hasUdfCategories(connector.dialect))) {\n                            _context2.next = 10;\n                            break;\n                          }\n\n                          _context2.next = 8;\n                          return sqlReferenceProvider.getUdfCategories(connector.dialect);\n\n                        case 8:\n                          categories = _context2.sent;\n                          categories.forEach(function (category) {\n                            Object.values(category.functions).forEach(function (udf) {\n                              udf.described = true;\n                            });\n                          });\n\n                        case 10:\n                          _context2.next = 12;\n                          return mergeWithApiUdfs(categories, connector, database);\n\n                        case 12:\n                          _context2.next = 14;\n                          return setCachedUdfCategories(connector, database, categories);\n\n                        case 14:\n                          resolve(categories);\n\n                        case 15:\n                        case \"end\":\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2);\n                }));\n\n                return function (_x7) {\n                  return _ref3.apply(this, arguments);\n                };\n              }());\n            }\n\n            _context3.next = 4;\n            return mergedUdfPromises[promiseKey];\n\n          case 4:\n            return _context3.abrupt(\"return\", _context3.sent);\n\n          case 5:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function getUdfCategories(_x4, _x5, _x6) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var findUdf = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(sqlReferenceProvider, connector, functionName) {\n    var categories, found;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return getUdfCategories(sqlReferenceProvider, connector);\n\n          case 2:\n            categories = _context4.sent;\n            found = [];\n            categories.forEach(function (category) {\n              if (category.functions[functionName]) {\n                found.push(category.functions[functionName]);\n              }\n            });\n            return _context4.abrupt(\"return\", found);\n\n          case 6:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function findUdf(_x8, _x9, _x10) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nexport var getReturnTypesForUdf = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(sqlReferenceProvider, connector, functionName) {\n    var udfs, returnTypesPresent, returnTypes;\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            if (functionName) {\n              _context5.next = 2;\n              break;\n            }\n\n            return _context5.abrupt(\"return\", ['T']);\n\n          case 2:\n            _context5.next = 4;\n            return findUdf(sqlReferenceProvider, connector, functionName);\n\n          case 4:\n            udfs = _context5.sent;\n\n            if (udfs.length) {\n              _context5.next = 11;\n              break;\n            }\n\n            returnTypesPresent = false;\n            returnTypes = new Set();\n            udfs.forEach(function (udf) {\n              if (udf.returnTypes) {\n                returnTypesPresent = true;\n                udf.returnTypes.forEach(function (type) {\n                  return returnTypes.add(type);\n                });\n              }\n            });\n\n            if (!returnTypesPresent) {\n              _context5.next = 11;\n              break;\n            }\n\n            return _context5.abrupt(\"return\", _toConsumableArray(returnTypes));\n\n          case 11:\n            return _context5.abrupt(\"return\", ['T']);\n\n          case 12:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n\n  return function getReturnTypesForUdf(_x11, _x12, _x13) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nexport var getUdfsWithReturnTypes = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(sqlReferenceProvider, connector, returnTypes, includeAggregate, includeAnalytic) {\n    var categories, result;\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.next = 2;\n            return getUdfCategories(sqlReferenceProvider, connector);\n\n          case 2:\n            categories = _context6.sent;\n            result = [];\n            categories.forEach(function (category) {\n              if (!category.isAnalytic && !category.isAggregate || includeAggregate && category.isAggregate || includeAnalytic && category.isAnalytic) {\n                Object.keys(category.functions).forEach(function (udfName) {\n                  var udf = category.functions[udfName];\n\n                  if (!returnTypes || connector.dialect && matchesType(connector.dialect, returnTypes, udf.returnTypes)) {\n                    result.push(udf);\n                  }\n                });\n              }\n            });\n            result.sort(function (a, b) {\n              return a.name.localeCompare(b.name);\n            });\n            return _context6.abrupt(\"return\", result);\n\n          case 7:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n\n  return function getUdfsWithReturnTypes(_x14, _x15, _x16, _x17, _x18) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nexport var getArgumentDetailsForUdf = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(sqlReferenceProvider, connector, functionName, argumentPosition) {\n    var foundFunctions, possibleArguments;\n    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            _context7.next = 2;\n            return findUdf(sqlReferenceProvider, connector, functionName);\n\n          case 2:\n            foundFunctions = _context7.sent;\n\n            if (foundFunctions.length) {\n              _context7.next = 5;\n              break;\n            }\n\n            return _context7.abrupt(\"return\", [{\n              type: 'T'\n            }]);\n\n          case 5:\n            possibleArguments = [];\n            foundFunctions.forEach(function (foundFunction) {\n              var args = foundFunction.arguments;\n\n              if (argumentPosition > args.length) {\n                possibleArguments.push.apply(possibleArguments, _toConsumableArray(args[args.length - 1].filter(function (type) {\n                  return type.multiple;\n                })));\n              } else {\n                possibleArguments.push.apply(possibleArguments, _toConsumableArray(args[argumentPosition - 1]));\n              }\n            });\n            return _context7.abrupt(\"return\", possibleArguments);\n\n          case 8:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n\n  return function getArgumentDetailsForUdf(_x19, _x20, _x21, _x22) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\nvar findUdfInCategories = function findUdfInCategories(categories, udfName) {\n  var foundUdf = undefined;\n  categories.some(function (category) {\n    return Object.values(category.functions).some(function (udf) {\n      if (udf.name === udfName) {\n        foundUdf = udf;\n        return true;\n      }\n    });\n  });\n  return foundUdf;\n};\n\nhuePubSub.subscribe(DESCRIBE_UDF_EVENT, /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8(details) {\n    var categories, foundUdf, apiUdf;\n    return regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            _context8.next = 2;\n            return getUdfCategories(details.sqlReferenceProvider, details.connector, details.database);\n\n          case 2:\n            categories = _context8.sent;\n            foundUdf = findUdfInCategories(categories, details.udfName);\n\n            if (!(foundUdf && !foundUdf.described)) {\n              _context8.next = 15;\n              break;\n            }\n\n            _context8.next = 7;\n            return fetchDescribe(details.connector, foundUdf, details.database);\n\n          case 7:\n            apiUdf = _context8.sent;\n\n            if (!apiUdf) {\n              _context8.next = 15;\n              break;\n            }\n\n            if (apiUdf.description) {\n              foundUdf.description = apiUdf.description;\n            }\n\n            if (apiUdf.signature) {\n              foundUdf.signature = apiUdf.signature;\n            }\n\n            foundUdf.described = true;\n            _context8.next = 14;\n            return setCachedUdfCategories(details.connector, details.database, categories);\n\n          case 14:\n            huePubSub.publish(UDF_DESCRIBED_EVENT, {\n              connector: details.connector,\n              database: details.database,\n              udf: foundUdf\n            });\n\n          case 15:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee8);\n  }));\n\n  return function (_x23) {\n    return _ref8.apply(this, arguments);\n  };\n}());\nhuePubSub.subscribe(CLEAR_UDF_CACHE_EVENT, /*#__PURE__*/function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee9(details) {\n    return regeneratorRuntime.wrap(function _callee9$(_context9) {\n      while (1) {\n        switch (_context9.prev = _context9.next) {\n          case 0:\n            _context9.next = 2;\n            return clearUdfCache(details.connector);\n\n          case 2:\n            Object.keys(mergedUdfPromises).forEach(function (key) {\n              if (key === details.connector.id || key.indexOf(details.connector.id + '_') === 0) {\n                delete mergedUdfPromises[key];\n              }\n            });\n\n            if (details.callback) {\n              details.callback();\n            }\n\n          case 4:\n          case \"end\":\n            return _context9.stop();\n        }\n      }\n    }, _callee9);\n  }));\n\n  return function (_x24) {\n    return _ref9.apply(this, arguments);\n  };\n}());","// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { TYPE_CONVERSION as HIVE_TYPE_CONVERSION } from \"./hive/typeConversion\";\nimport { TYPE_CONVERSION as IMPALA_TYPE_CONVERSION } from \"./impala/typeConversion\";\nimport { TYPE_CONVERSION as GENERIC_TYPE_CONVERSION } from \"./generic/typeConversion\";\n\nvar stripPrecision = function stripPrecision(types) {\n  var result = [];\n  types.forEach(function (type) {\n    if (type.indexOf('(') > -1) {\n      result.push(type.substring(0, type.indexOf('(')));\n    } else {\n      result.push(type);\n    }\n  });\n  return result;\n};\n\nvar getTypeConversion = function getTypeConversion(dialect) {\n  if (dialect === 'impala') {\n    return IMPALA_TYPE_CONVERSION;\n  }\n\n  if (dialect === 'hive') {\n    return HIVE_TYPE_CONVERSION;\n  }\n\n  return GENERIC_TYPE_CONVERSION;\n};\n/**\n * Matches types based on implicit conversion i.e. if you expect a BIGINT then INT is ok but not BOOLEAN etc.\n */\n\n\nexport var matchesType = function matchesType(dialect, expectedTypes, actualRawTypes) {\n  if (expectedTypes.length === 1 && expectedTypes[0] === 'T') {\n    return true;\n  }\n\n  var actualTypes = stripPrecision(actualRawTypes);\n\n  if (actualTypes.indexOf('ARRAY') !== -1 || actualTypes.indexOf('MAP') !== -1 || actualTypes.indexOf('STRUCT') !== -1) {\n    return true;\n  }\n\n  var conversionTable = getTypeConversion(dialect);\n\n  for (var i = 0; i < expectedTypes.length; i++) {\n    for (var j = 0; j < actualTypes.length; j++) {\n      // To support future unknown types\n      if (typeof conversionTable[expectedTypes[i]] === 'undefined' || typeof conversionTable[expectedTypes[i]][actualTypes[j]] == 'undefined') {\n        return true;\n      }\n\n      if (conversionTable[expectedTypes[i]] && conversionTable[expectedTypes[i]][actualTypes[j]]) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n};","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport AutocompleteResults from \"./autocompleteResults\";\nimport hueDebug from 'utils/hueDebug';\nimport huePubSub from 'utils/huePubSub';\nimport sqlParserRepository from 'parse/sql/sqlParserRepository';\n\nvar SqlAutocompleter = /*#__PURE__*/function () {\n  /**\n   * @param {Object} options\n   * @param {Snippet} options.snippet\n   * @param {string} [options.fixedPrefix] - Optional prefix to always use on parse\n   * @param {string} [options.fixedPostfix] - Optional postfix to always use on parse\n   * @constructor\n   */\n  function SqlAutocompleter(options) {\n    _classCallCheck(this, SqlAutocompleter);\n\n    this.snippet = options.snippet;\n    this.editor = options.editor;\n\n    this.fixedPrefix = options.fixedPrefix || function () {\n      return '';\n    };\n\n    this.fixedPostfix = options.fixedPostfix || function () {\n      return '';\n    };\n\n    this.suggestions = new AutocompleteResults(options);\n  }\n\n  _createClass(SqlAutocompleter, [{\n    key: \"parseActiveStatement\",\n    value: function () {\n      var _parseActiveStatement = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _this = this;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", new Promise(function (resolve, reject) {\n                  if (_this.snippet.positionStatement() && _this.snippet.positionStatement().location) {\n                    var activeStatementLocation = _this.snippet.positionStatement().location;\n\n                    var cursorPosition = _this.editor().getCursorPosition();\n\n                    if ((activeStatementLocation.first_line - 1 < cursorPosition.row || activeStatementLocation.first_line - 1 === cursorPosition.row && activeStatementLocation.first_column <= cursorPosition.column) && (activeStatementLocation.last_line - 1 > cursorPosition.row || activeStatementLocation.last_line - 1 === cursorPosition.row && activeStatementLocation.last_column >= cursorPosition.column)) {\n                      var beforeCursor = _this.fixedPrefix() + _this.editor().session.getTextRange({\n                        start: {\n                          row: activeStatementLocation.first_line - 1,\n                          column: activeStatementLocation.first_column\n                        },\n                        end: cursorPosition\n                      });\n\n                      var afterCursor = _this.editor().session.getTextRange({\n                        start: cursorPosition,\n                        end: {\n                          row: activeStatementLocation.last_line - 1,\n                          column: activeStatementLocation.last_column\n                        }\n                      }) + _this.fixedPostfix();\n\n                      sqlParserRepository.getAutocompleteParser(_this.snippet.dialect()).then(function (autocompleteParser) {\n                        resolve(autocompleteParser.parseSql(beforeCursor, afterCursor));\n                      })[\"catch\"](function (err) {\n                        console.warn(err);\n                        reject(err);\n                      });\n                    } else {\n                      resolve();\n                    }\n                  } else {\n                    resolve();\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function parseActiveStatement() {\n        return _parseActiveStatement.apply(this, arguments);\n      }\n\n      return parseActiveStatement;\n    }()\n  }, {\n    key: \"parseAll\",\n    value: function () {\n      var _parseAll = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var _this2 = this;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", new Promise(function (resolve, reject) {\n                  sqlParserRepository.getAutocompleteParser(_this2.snippet.dialect()).then(function (autocompleteParser) {\n                    resolve(autocompleteParser.parseSql(_this2.editor().getTextBeforeCursor(), _this2.editor().getTextAfterCursor()));\n                  })[\"catch\"](reject);\n                }));\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function parseAll() {\n        return _parseAll.apply(this, arguments);\n      }\n\n      return parseAll;\n    }()\n  }, {\n    key: \"autocomplete\",\n    value: function () {\n      var _autocomplete = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n        var _this3 = this;\n\n        var parseResult;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                huePubSub.publish('get.active.editor.locations', function (locations) {\n                  // This could happen in case the user is editing at the borders of the statement and the locations haven't\n                  // been updated yet, in that case we have to force a location update before parsing\n                  if (_this3.snippet.ace && _this3.snippet.ace() && locations && _this3.snippet.ace().lastChangeTime !== locations.editorChangeTime) {\n                    huePubSub.publish('editor.refresh.statement.locations', _this3.snippet.id());\n                  }\n                }, this.snippet);\n                _context3.next = 4;\n                return this.parseActiveStatement();\n\n              case 4:\n                parseResult = _context3.sent;\n                _context3.next = 10;\n                break;\n\n              case 7:\n                _context3.prev = 7;\n                _context3.t0 = _context3[\"catch\"](0);\n\n                if (typeof console.warn !== 'undefined') {\n                  console.warn(_context3.t0);\n                }\n\n              case 10:\n                if (parseResult) {\n                  _context3.next = 20;\n                  break;\n                }\n\n                _context3.prev = 11;\n                _context3.next = 14;\n                return this.parseAll();\n\n              case 14:\n                parseResult = _context3.sent;\n                _context3.next = 20;\n                break;\n\n              case 17:\n                _context3.prev = 17;\n                _context3.t1 = _context3[\"catch\"](11);\n\n                if (typeof console.warn !== 'undefined') {\n                  console.warn(_context3.t1);\n                }\n\n              case 20:\n                if (!parseResult) {\n                  // This prevents Ace from inserting garbled text in case of exception\n                  huePubSub.publish('hue.ace.autocompleter.done');\n                } else {\n                  if (typeof hueDebug !== 'undefined' && hueDebug.showParseResult) {\n                    // eslint-disable-next-line no-restricted-syntax\n                    console.log(parseResult);\n                  }\n\n                  try {\n                    if (this.lastContextRequest) {\n                      this.lastContextRequest.dispose();\n                    }\n\n                    this.lastContextRequest = this.snippet.whenContextSet().done(function () {\n                      _this3.suggestions.update(parseResult);\n                    }).fail(function () {\n                      huePubSub.publish('hue.ace.autocompleter.done');\n                    });\n                  } catch (e) {\n                    if (typeof console.warn !== 'undefined') {\n                      console.warn(e);\n                    }\n\n                    huePubSub.publish('hue.ace.autocompleter.done');\n                  }\n                }\n\n              case 21:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[0, 7], [11, 17]]);\n      }));\n\n      function autocomplete() {\n        return _autocomplete.apply(this, arguments);\n      }\n\n      return autocomplete;\n    }()\n  }]);\n\n  return SqlAutocompleter;\n}();\n\nexport default SqlAutocompleter;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { CancellablePromise } from 'api/cancellablePromise';\nimport { applyCancellable } from 'catalog/catalogUtils';\nimport dataCatalog from 'catalog/dataCatalog';\nimport sqlReferenceRepository from 'sql/reference/sqlReferenceRepository';\n\nvar identifierEquals = function identifierEquals(a, b) {\n  return !!a && !!b && a.replace(/^\\s*`/, '').replace(/`\\s*$/, '').toLowerCase() === b.replace(/^\\s*`/, '').replace(/`\\s*$/, '').toLowerCase();\n};\n\nvar autocompleteFilter = function autocompleteFilter(filter, entries) {\n  var lowerCaseFilter = filter.toLowerCase();\n  return entries.filter(function (suggestion) {\n    // TODO: Extend with fuzzy matches\n    var foundIndex = suggestion.value.toLowerCase().indexOf(lowerCaseFilter);\n\n    if (foundIndex !== -1) {\n      if (foundIndex === 0 || suggestion.filterValue && suggestion.filterValue.toLowerCase().indexOf(lowerCaseFilter) === 0) {\n        suggestion.filterWeight = 3;\n      } else {\n        suggestion.filterWeight = 2;\n      }\n    } else if (suggestion.details && suggestion.details.comment && lowerCaseFilter.indexOf(' ') === -1) {\n      foundIndex = suggestion.details.comment.toLowerCase().indexOf(lowerCaseFilter);\n\n      if (foundIndex !== -1) {\n        suggestion.filterWeight = 1;\n        suggestion.matchComment = true;\n      }\n    }\n\n    if (foundIndex !== -1) {\n      suggestion.matchIndex = foundIndex;\n      suggestion.matchLength = filter.length;\n      return true;\n    }\n\n    return false;\n  });\n};\n\nvar sortSuggestions = function sortSuggestions(suggestions, filter, sortOverride) {\n  suggestions.sort(function (a, b) {\n    if (filter) {\n      if (typeof a.filterWeight !== 'undefined' && typeof b.filterWeight !== 'undefined' && b.filterWeight !== a.filterWeight) {\n        return b.filterWeight - a.filterWeight;\n      }\n\n      if (typeof a.filterWeight !== 'undefined' && typeof b.filterWeight === 'undefined') {\n        return -1;\n      }\n\n      if (typeof a.filterWeight === 'undefined' && typeof b.filterWeight !== 'undefined') {\n        return 1;\n      }\n    }\n\n    if (sortOverride && sortOverride.partitionColumnsFirst) {\n      if (a.partitionKey && !b.partitionKey) {\n        return -1;\n      }\n\n      if (b.partitionKey && !a.partitionKey) {\n        return 1;\n      }\n    }\n\n    var aWeight = (a.category.weight || 0) + (a.weightAdjust || 0);\n    var bWeight = (b.category.weight || 0) + (b.weightAdjust || 0);\n\n    if (typeof aWeight !== 'undefined' && typeof bWeight !== 'undefined' && bWeight !== aWeight) {\n      return bWeight - aWeight;\n    }\n\n    if (typeof aWeight !== 'undefined' && typeof bWeight === 'undefined') {\n      return -1;\n    }\n\n    if (typeof aWeight === 'undefined' && typeof bWeight !== 'undefined') {\n      return 1;\n    }\n\n    return a.value.localeCompare(b.value);\n  });\n};\n\nvar identifierChainToPath = function identifierChainToPath(identifierChain) {\n  return identifierChain.map(function (identifier) {\n    return identifier.name;\n  });\n};\n\nexport var resolveCatalogEntry = function resolveCatalogEntry(options) {\n  var promise = new CancellablePromise(function (resolve, reject, onCancel) {\n    var cancellablePromises = [];\n    onCancel(function () {\n      cancellablePromises.forEach(function (cancellable) {\n        return cancellable.cancel();\n      });\n    });\n\n    if (!options.identifierChain) {\n      reject();\n      return;\n    }\n\n    var findInTree = function findInTree(currentEntry, fieldsToGo) {\n      if (fieldsToGo.length === 0) {\n        reject();\n        return;\n      }\n\n      var nextField;\n\n      if (currentEntry.getType() === 'map') {\n        nextField = 'value';\n      } else if (currentEntry.getType() === 'array') {\n        nextField = 'item';\n      } else {\n        nextField = fieldsToGo.shift() || '';\n      }\n\n      var childPromise = currentEntry.getChildren({\n        cancellable: !!options.cancellable,\n        cachedOnly: !!options.cachedOnly,\n        silenceErrors: true\n      });\n      cancellablePromises.push(childPromise);\n      childPromise.then(function (childEntries) {\n        var foundEntry = undefined;\n        childEntries.some(function (childEntry) {\n          if (identifierEquals(childEntry.name, nextField)) {\n            foundEntry = childEntry;\n            return true;\n          }\n        });\n\n        if (foundEntry && fieldsToGo.length) {\n          findInTree(foundEntry, fieldsToGo);\n        } else if (foundEntry) {\n          resolve(foundEntry);\n        } else {\n          reject();\n        }\n      })[\"catch\"](reject);\n    };\n\n    var findTable = function findTable(tablesToGo) {\n      if (tablesToGo.length === 0) {\n        reject();\n        return;\n      }\n\n      var nextTable = tablesToGo.pop();\n\n      if (nextTable && typeof nextTable.subQuery !== 'undefined') {\n        findTable(tablesToGo);\n        return;\n      }\n\n      var childPromise = dataCatalog.getChildren({\n        connector: options.connector,\n        namespace: options.namespace,\n        compute: options.compute,\n        path: identifierChainToPath(nextTable && nextTable.identifierChain || []),\n        cachedOnly: !!options.cachedOnly,\n        cancellable: !!options.cancellable,\n        temporaryOnly: !!options.temporaryOnly,\n        silenceErrors: true\n      });\n      cancellablePromises.push(childPromise);\n      childPromise.then(function (childEntries) {\n        var foundEntry = undefined;\n        childEntries.some(function (childEntry) {\n          if (options.identifierChain && options.identifierChain.length && identifierEquals(childEntry.name, options.identifierChain[0].name)) {\n            foundEntry = childEntry;\n            return true;\n          }\n        });\n\n        if (foundEntry && options.identifierChain && options.identifierChain.length > 1) {\n          findInTree(foundEntry, identifierChainToPath(options.identifierChain.slice(1)));\n        } else if (foundEntry) {\n          resolve(foundEntry);\n        } else {\n          findTable(tablesToGo);\n        }\n      })[\"catch\"](reject);\n    };\n\n    if (options.tables) {\n      findTable(options.tables.concat());\n    } else {\n      dataCatalog.getEntry({\n        namespace: options.namespace,\n        compute: options.compute,\n        connector: options.connector,\n        path: [],\n        cachedOnly: !!options.cachedOnly,\n        temporaryOnly: !!options.temporaryOnly\n      }).then(function (entry) {\n        if (options.identifierChain) {\n          findInTree(entry, identifierChainToPath(options.identifierChain));\n        }\n      });\n    }\n  });\n  return applyCancellable(promise, options);\n};\nexport default {\n  autocompleteFilter: autocompleteFilter,\n  backTickIfNeeded: function () {\n    var _backTickIfNeeded = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(connector, identifier, sqlReferenceProvider, forceAppendBacktick) {\n      var quoteChar, reservedKeywords;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!forceAppendBacktick) {\n                _context.next = 2;\n                break;\n              }\n\n              return _context.abrupt(\"return\", identifier + '`');\n\n            case 2:\n              quoteChar = connector.dialect_properties && connector.dialect_properties.sql_identifier_quote || '`';\n\n              if (!(identifier.indexOf(quoteChar) === 0)) {\n                _context.next = 5;\n                break;\n              }\n\n              return _context.abrupt(\"return\", identifier);\n\n            case 5:\n              _context.next = 7;\n              return (sqlReferenceProvider || sqlReferenceRepository).getReservedKeywords(connector.dialect || 'generic');\n\n            case 7:\n              reservedKeywords = _context.sent;\n\n              if (!reservedKeywords.has(identifier.toUpperCase())) {\n                _context.next = 10;\n                break;\n              }\n\n              return _context.abrupt(\"return\", quoteChar + identifier + quoteChar);\n\n            case 10:\n              if (/^[A-Za-z][A-Za-z0-9_]*$/.test(identifier)) {\n                _context.next = 12;\n                break;\n              }\n\n              return _context.abrupt(\"return\", quoteChar + identifier + quoteChar);\n\n            case 12:\n              return _context.abrupt(\"return\", identifier);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function backTickIfNeeded(_x, _x2, _x3, _x4) {\n      return _backTickIfNeeded.apply(this, arguments);\n    }\n\n    return backTickIfNeeded;\n  }(),\n  locationEquals: function locationEquals(a, b) {\n    return !!a && !!b && a.first_line === b.first_line && a.first_column === b.first_column && a.last_line === b.last_line && a.last_column === b.last_column;\n  },\n  identifierEquals: identifierEquals,\n  sortSuggestions: sortSuggestions,\n  identifierChainToPath: identifierChainToPath\n};","// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * Calculates the Optimal String Alignment distance between two strings. Returns 0 when the strings are equal and the\n * distance when not, distances is less than or equal to the length of the longest string.\n *\n * @param strA\n * @param strB\n * @param [ignoreCase]\n * @returns {number} The similarity\n */\nvar stringDistance = function stringDistance(strA, strB, ignoreCase) {\n  if (ignoreCase) {\n    strA = strA.toLowerCase();\n    strB = strB.toLowerCase();\n  } // TODO: Consider other algorithms for performance\n\n\n  var strALength = strA.length;\n  var strBLength = strB.length;\n\n  if (strALength === 0) {\n    return strBLength;\n  }\n\n  if (strBLength === 0) {\n    return strALength;\n  }\n\n  var distances = new Array(strALength);\n  var cost, deletion, insertion, substitution, transposition;\n\n  for (var i = 0; i <= strALength; i++) {\n    distances[i] = new Array(strBLength);\n    distances[i][0] = i;\n\n    for (var j = 1; j <= strBLength; j++) {\n      if (!i) {\n        distances[0][j] = j;\n      } else {\n        cost = strA[i - 1] === strB[j - 1] ? 0 : 1;\n        deletion = distances[i - 1][j] + 1;\n        insertion = distances[i][j - 1] + 1;\n        substitution = distances[i - 1][j - 1] + cost;\n\n        if (deletion <= insertion && deletion <= substitution) {\n          distances[i][j] = deletion;\n        } else if (insertion <= deletion && insertion <= substitution) {\n          distances[i][j] = insertion;\n        } else {\n          distances[i][j] = substitution;\n        }\n\n        if (i > 1 && j > 1 && strA[i] === strB[j - 1] && strA[i - 1] === strB[j]) {\n          transposition = distances[i - 2][j - 2] + cost;\n\n          if (transposition < distances[i][j]) {\n            distances[i][j] = transposition;\n          }\n        }\n      }\n    }\n  }\n\n  return distances[strALength][strBLength];\n};\n\nexport default stringDistance;","// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nexport var POST_TO_LOCATION_WORKER_EVENT = 'ace.sql.location.worker.post';\nexport var POST_FROM_LOCATION_WORKER_EVENT = 'ace.sql.location.worker.message';\nexport var POST_TO_SYNTAX_WORKER_EVENT = 'ace.sql.syntax.worker.post';\nexport var POST_FROM_SYNTAX_WORKER_EVENT = 'ace.sql.syntax.worker.message';","// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { attachLocationWorkerEvents, attachSyntaxWorkerEvents } from 'sql/workers/registrationUtils';\n\nvar registerSyntaxWorker = function registerSyntaxWorker() {\n  return new Worker(\"\".concat(window.HUE_BASE_URL, \"/desktop/workers/aceSqlSyntaxWorker.js?v=\").concat(window.HUE_VERSION, \".1\"));\n};\n\nvar registerLocationWorker = function registerLocationWorker() {\n  return new Worker(\"\".concat(window.HUE_BASE_URL, \"/desktop/workers/aceSqlLocationWorker.js?v=\").concat(window.HUE_VERSION, \".1\"));\n};\n\nvar registered = false;\nexport var registerHueWorkers = function registerHueWorkers() {\n  if (!window.Worker || registered) {\n    return;\n  } // It can take a while before the worker is active\n  // For syntax checking\n\n\n  var aceSqlSyntaxWorker = registerSyntaxWorker();\n  attachSyntaxWorkerEvents(aceSqlSyntaxWorker); // For location marking\n\n  var aceSqlLocationWorker = registerLocationWorker();\n  attachLocationWorkerEvents(aceSqlLocationWorker);\n  registered = true;\n};","// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { POST_FROM_LOCATION_WORKER_EVENT, POST_FROM_SYNTAX_WORKER_EVENT, POST_TO_LOCATION_WORKER_EVENT, POST_TO_SYNTAX_WORKER_EVENT } from \"./events\";\nimport { resolveCatalogEntry } from \"../sqlUtils\";\nimport { CancellablePromise } from 'api/cancellablePromise';\nimport { applyCancellable } from 'catalog/catalogUtils';\nimport huePubSub from 'utils/huePubSub';\n\nvar whenWorkerIsReady = function whenWorkerIsReady(worker, message) {\n  if (window) {\n    message.hueBaseUrl = window.HUE_BASE_URL;\n\n    if (!worker.isReady) {\n      window.clearTimeout(worker.pingTimeout);\n      worker.postMessage({\n        ping: true,\n        hueBaseUrl: message.hueBaseUrl\n      });\n      worker.pingTimeout = window.setTimeout(function () {\n        whenWorkerIsReady(worker, message);\n      }, 500);\n    } else {\n      // To JSON and back as Vue creates proxy objects with methods which are not serializable\n      worker.postMessage(JSON.parse(JSON.stringify(message)));\n    }\n  }\n};\n\nvar attachEntryResolver = function attachEntryResolver(location, connector, namespace, compute) {\n  location.resolveCatalogEntry = function (options) {\n    if (!options) {\n      options = {};\n    }\n\n    if (location.resolvePathPromise && !location.resolvePathPromise.cancelled) {\n      applyCancellable(location.resolvePathPromise, options);\n      return location.resolvePathPromise;\n    }\n\n    if (!location.identifierChain && !location.colRef) {\n      if (!location.resolvePathPromise) {\n        location.resolvePathPromise = CancellablePromise.reject();\n      }\n\n      return location.resolvePathPromise;\n    }\n\n    var promise = resolveCatalogEntry({\n      connector: connector,\n      namespace: namespace,\n      compute: compute,\n      temporaryOnly: options.temporaryOnly,\n      cancellable: options.cancellable,\n      cachedOnly: options.cachedOnly,\n      identifierChain: location.identifierChain || location.colRef.identifierChain,\n      tables: location.tables || location.colRef && location.colRef.tables || undefined\n    });\n\n    if (!options.cachedOnly) {\n      location.resolvePathPromise = promise;\n    }\n\n    return promise;\n  };\n};\n\nexport var attachSyntaxWorkerEvents = function attachSyntaxWorkerEvents(syntaxWorker) {\n  if (!syntaxWorker) {\n    return;\n  }\n\n  syntaxWorker.onmessage = function (e) {\n    if (e.data.ping) {\n      syntaxWorker.isReady = true;\n    } else {\n      huePubSub.publish(POST_FROM_SYNTAX_WORKER_EVENT, e);\n    }\n  };\n\n  huePubSub.subscribe(POST_TO_SYNTAX_WORKER_EVENT, function (message) {\n    whenWorkerIsReady(syntaxWorker, message);\n  });\n};\nexport var attachLocationWorkerEvents = function attachLocationWorkerEvents(locationWorker) {\n  if (!locationWorker) {\n    return;\n  }\n\n  locationWorker.onmessage = function (e) {\n    if (e.data.ping) {\n      locationWorker.isReady = true;\n    } else {\n      if (e.data.locations) {\n        e.data.locations.forEach(function (location) {\n          attachEntryResolver(location, e.data.connector, e.data.namespace, e.data.compute);\n        });\n      }\n\n      huePubSub.publish(POST_FROM_LOCATION_WORKER_EVENT, e);\n    }\n  };\n\n  huePubSub.subscribe(POST_TO_LOCATION_WORKER_EVENT, function (message) {\n    whenWorkerIsReady(locationWorker, message);\n  });\n};","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// Licensed to Cloudera, Inc. under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  Cloudera, Inc. licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport * as ko from 'knockout';\nimport huePubSub from 'utils/huePubSub';\nimport { CONFIG_REFRESHED_TOPIC, GET_KNOWN_CONFIG_TOPIC, REFRESH_CONFIG_TOPIC } from 'config/events';\nimport { findEditorConnector } from 'config/hueConfig';\nimport { withLocalStorage } from 'utils/storageUtils';\n\nvar TopNavViewModel = function TopNavViewModel(onePageViewModel) {\n  _classCallCheck(this, TopNavViewModel);\n\n  var self = this;\n  self.onePageViewModel = onePageViewModel; // TODO: Drop. Just for PoC\n\n  self.pocClusterMode = ko.observable();\n  withLocalStorage('topNav.multiCluster', self.pocClusterMode, 'dw');\n  huePubSub.subscribe('set.multi.cluster.mode', self.pocClusterMode);\n  self.hasJobBrowser = ko.observable(window.HAS_JOB_BROWSER);\n  self.clusters = ko.observableArray();\n\n  var configUpdated = function configUpdated(config) {\n    if (config && config.clusters) {\n      self.clusters(config.clusters);\n    }\n\n    self.hasJobBrowser(window.HAS_JOB_BROWSER && findEditorConnector(function (connector) {\n      return connector.dialect === 'yarn' || connector.dialect === 'impala' || connector.dialect === 'dataeng';\n    }));\n  };\n\n  huePubSub.publish(GET_KNOWN_CONFIG_TOPIC, configUpdated);\n  huePubSub.subscribe(CONFIG_REFRESHED_TOPIC, configUpdated);\n  huePubSub.subscribe('hue.new.default.app', function () {\n    huePubSub.publish(REFRESH_CONFIG_TOPIC);\n  });\n};\n\nexport default TopNavViewModel;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;;;ACtZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;;;;;ACpVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;AC3jBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;;;AC1iBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;AC5gBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;ACzTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;;AClUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;;ACr+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1nCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;;ACt5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;AClhCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;AC1hCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;ACjhDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;;ACn4CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qXAEA;AACA;AACA;AACA,qXAEA;AACA;AACA;AACA,yWAEA;AACA;AACA;AACA,yZAEA;AACA;AACA;AACA,yWAEA;AACA;AACA;AACA,qXAEA;AACA;AACA;AACA,0cAEA;AACA;AACA;AACA,0dAEA;AACA;AACA;AACA,mWAEA;AACA;AACA;AACA,qXAEA;AACA;AACA;AACA,yaAEA;AACA;AACA;AACA;AACA;AACA,yWAEA;AACA;AACA;AACA,yWAEA;AACA;AACA;AACA,6VAEA;AACA;AACA;AACA,6YAEA;AACA;AACA;AACA,6VAEA;AACA;AACA;AACA,yWAEA;AACA;AACA;AACA,8bAEA;AACA;AACA;AACA,8cAEA;AACA;AACA;AACA,uVAEA;AACA;AACA;AACA,yWAEA;AACA;AACA;AACA,6ZAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;AC9PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;AC7GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;;;AC1hCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;;;;;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;;;;;ACn+HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;;;;;;;;ACpGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;AClSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;AC/QA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;AChUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;;AC/QA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kRAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mRAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uQAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+QAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yRAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iRAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2QAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uQAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2QAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gQAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wQAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4PAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oQAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;;;;;;;;;;;;;AC5cA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;;;;ACjeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;;;;;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;;;;;;AC5PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;AC1SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;;;;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;;;;;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;;;;;;;;;;;;;;;;;;ACtHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A;;A","sourceRoot":""}